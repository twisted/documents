<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;twisted.web2.channel.http.HTTPChannel&rdquo;</title>
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <h1 class="class">Class t.w.c.h.HTTPChannel(<a href="twisted.protocols.basic.LineReceiver.html">basic.LineReceiver</a>, <a href="twisted.protocols.policies.TimeoutMixin.html">policies.TimeoutMixin</a>, object):</h1>
    <p>
      <span id="part">Part of <a href="twisted.web2.channel.http.html">twisted.web2.channel.http</a></span>
      <a></a>
      <a href="classIndex.html#twisted.web2.channel.http.HTTPChannel">View In Hierarchy</a>
    </p>
    <div><p>Implements interfaces: <a href="twisted.internet.interfaces.IHalfCloseableProtocol.html">twisted.internet.interfaces.IHalfCloseableProtocol</a></p></div>
    <div>A receiver for HTTP requests. Handles splitting up the connection for 
the multiple HTTPChannelRequests that may be in progress on this 
channel.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Instance Variables</td><td class="fieldArg">timeOut</td><td>number of seconds to wait before terminating an idle connection.
</td></tr><tr><td></td><td class="fieldArg">maxPipeline</td><td>number of outstanding in-progress requests to allow before pausing the 
input.
</td></tr><tr><td></td><td class="fieldArg">maxHeaderLength</td><td>number of bytes of header to accept from the client.
</td></tr></table></div>
    
      <table class="children"><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel._callLater">_callLater</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.__init__">__init__</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.connectionMade">connectionMade</a></td>
          <td><span>Called when a connection is made.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.lineReceived">lineReceived</a></td>
          <td><span>Override this for when each line is received.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.lineLengthExceeded">lineLengthExceeded</a></td>
          <td><span>Called when the maximum line length has been reached.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.rawDataReceived">rawDataReceived</a></td>
          <td><span>Override this for when raw data is received.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.requestReadFinished">requestReadFinished</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel._startNextRequest">_startNextRequest</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.setReadPersistent">setReadPersistent</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.dropQueuedRequests">dropQueuedRequests</a></td>
          <td><span>Called when a response is written that forces a connection close.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.isLastRequest">isLastRequest</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.requestWriteFinished">requestWriteFinished</a></td>
          <td><span>Called by first request in queue when it is done.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.timeoutConnection">timeoutConnection</a></td>
          <td><span>Called when the connection times out.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.lingeringClose">lingeringClose</a></td>
          <td><span>This is a bit complicated. This process is necessary to ensure 
proper
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.writeConnectionLost">writeConnectionLost</a></td>
          <td><span>Notification of the write connection being closed.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel._lingerClose">_lingerClose</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.readConnectionLost">readConnectionLost</a></td>
          <td><span>Read connection lost
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web2.channel.http.HTTPChannel.connectionLost">connectionLost</a></td>
          <td><span>Called when the connection is shut down.
</span></td>
        </tr></table>
    
    
        <p>
          Inherited from <span><a href="twisted.protocols.basic.LineReceiver.html">LineReceiver</a></span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.clearLineBuffer">clearLineBuffer</a></td>
            <td><span>Clear buffered data.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.dataReceived">dataReceived</a></td>
            <td><span>Protocol.dataReceived.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.setLineMode">setLineMode</a></td>
            <td><span>Sets the line-mode of this receiver.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.setRawMode">setRawMode</a></td>
            <td><span>Sets the raw mode of this receiver.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.sendLine">sendLine</a></td>
            <td><span>Sends a line to the other end of the connection.
</span></td>
          </tr></table>
      
        <p>
          Inherited from <span><a href="twisted.internet.protocol.BaseProtocol.html">BaseProtocol</a> (via <a href="twisted.protocols.basic.LineReceiver.html">LineReceiver</a>, <a href="twisted.internet.protocol.Protocol.html">Protocol</a>)</span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.internet.protocol.BaseProtocol.html#twisted.internet.protocol.BaseProtocol.makeConnection">makeConnection</a></td>
            <td><span>Make a connection to a transport and a server.
</span></td>
          </tr></table>
      
        <p>
          Inherited from <span><a href="twisted.protocols.basic._PauseableMixin.html">_PauseableMixin</a> (via <a href="twisted.protocols.basic.LineReceiver.html">LineReceiver</a>)</span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic._PauseableMixin.html#twisted.protocols.basic._PauseableMixin.pauseProducing">pauseProducing</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic._PauseableMixin.html#twisted.protocols.basic._PauseableMixin.resumeProducing">resumeProducing</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic._PauseableMixin.html#twisted.protocols.basic._PauseableMixin.stopProducing">stopProducing</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr></table>
      
        <p>
          Inherited from <span><a href="twisted.protocols.policies.TimeoutMixin.html">TimeoutMixin</a></span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.policies.TimeoutMixin.html#twisted.protocols.policies.TimeoutMixin.callLater">callLater</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.policies.TimeoutMixin.html#twisted.protocols.policies.TimeoutMixin.resetTimeout">resetTimeout</a></td>
            <td><span>Reset the timeout count down
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.policies.TimeoutMixin.html#twisted.protocols.policies.TimeoutMixin.setTimeout">setTimeout</a></td>
            <td><span>Change the timeout period
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.policies.TimeoutMixin.html#twisted.protocols.policies.TimeoutMixin.__timedOut">__timedOut</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr></table>
      
    <div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel._callLater"></a>
        <div class="functionHeader">
          def <span>_callLater(self, secs, fun):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.__init__"></a>
        <div class="functionHeader">
          def <span>__init__(self):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.connectionMade"></a>
        <div class="functionHeader">
          def <span>connectionMade(self):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#twisted.internet.interfaces.IProtocol.connectionMade">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.internet.protocol.BaseProtocol.html#twisted.internet.protocol.BaseProtocol.connectionMade">twisted.internet.protocol.BaseProtocol.connectionMade</a></div><div><p>Called when a connection is made.</p>
This may be considered the initializer of the protocol, because it is 
called when the connection is completed. For clients, this is called once 
the connection to the server has been established; for servers, this is 
called after an accept() call stops blocking and a socket has been 
received. If you need to send any greeting or initial message, do it 
here.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.lineReceived"></a>
        <div class="functionHeader">
          def <span>lineReceived(self, line):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overrides <a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.lineReceived">twisted.protocols.basic.LineReceiver.lineReceived</a></div><div>Override this for when each line is received.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.lineLengthExceeded"></a>
        <div class="functionHeader">
          def <span>lineLengthExceeded(self, line):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overrides <a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.lineLengthExceeded">twisted.protocols.basic.LineReceiver.lineLengthExceeded</a></div><div><p>Called when the maximum line length has been reached. Override if it 
needs to be dealt with in some special way.</p>
The argument 'line' contains the remainder of the buffer, starting 
with (at least some part) of the line which is too long. This may be more 
than one line, or may be only the initial portion of the line.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.rawDataReceived"></a>
        <div class="functionHeader">
          def <span>rawDataReceived(self, data):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overrides <a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.rawDataReceived">twisted.protocols.basic.LineReceiver.rawDataReceived</a></div><div>Override this for when raw data is received.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.requestReadFinished"></a>
        <div class="functionHeader">
          def <span>requestReadFinished(self, request):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel._startNextRequest"></a>
        <div class="functionHeader">
          def <span>_startNextRequest(self):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.setReadPersistent"></a>
        <div class="functionHeader">
          def <span>setReadPersistent(self, persistent):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.dropQueuedRequests"></a>
        <div class="functionHeader">
          def <span>dropQueuedRequests(self):</span>
        </div>
        <div class="functionBody"><div>Called when a response is written that forces a connection close.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.isLastRequest"></a>
        <div class="functionHeader">
          def <span>isLastRequest(self, request):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.requestWriteFinished"></a>
        <div class="functionHeader">
          def <span>requestWriteFinished(self, request):</span>
        </div>
        <div class="functionBody"><div>Called by first request in queue when it is done.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.timeoutConnection"></a>
        <div class="functionHeader">
          def <span>timeoutConnection(self):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overrides <a href="twisted.protocols.policies.TimeoutMixin.html#twisted.protocols.policies.TimeoutMixin.timeoutConnection">twisted.protocols.policies.TimeoutMixin.timeoutConnection</a></div><div>Called when the connection times out. Override to define behavior 
other than dropping the connection.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.lingeringClose"></a>
        <div class="functionHeader">
          def <span>lingeringClose(self):</span>
        </div>
        <div class="functionBody"><div><p>This is a bit complicated. This process is necessary to ensure proper 
workingness when HTTP pipelining is in use.</p>
Here is what it wants to do:
<ol start="1">
  <li>
    Finish writing any buffered data, then close our write side. While 
    doing so, read and discard any incoming data.
  </li>
  <li>
    When that happens (writeConnectionLost called), wait up to 20 
    seconds for the remote end to close their write side (our read 
    side).
  </li>
  <li>
    <ul>
      <li>
        If they do (readConnectionLost called), close the socket, and 
        cancel the timeout.
      </li>
      <li>
        If that doesn't happen, the timer fires, and makes the socket 
        close anyways.
      </li>
    </ul>
  </li>
</ol>
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.writeConnectionLost"></a>
        <div class="functionHeader">
          def <span>writeConnectionLost(self):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.internet.interfaces.IHalfCloseableProtocol.html#twisted.internet.interfaces.IHalfCloseableProtocol.writeConnectionLost">twisted.internet.interfaces.IHalfCloseableProtocol</a></div><div><p>Notification of the write connection being closed.</p>
This will never be called for TCP connections as TCP does not support 
notification of this type of half-close.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel._lingerClose"></a>
        <div class="functionHeader">
          def <span>_lingerClose(self):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.readConnectionLost"></a>
        <div class="functionHeader">
          def <span>readConnectionLost(self):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.internet.interfaces.IHalfCloseableProtocol.html#twisted.internet.interfaces.IHalfCloseableProtocol.readConnectionLost">twisted.internet.interfaces.IHalfCloseableProtocol</a></div><div>Read connection lost
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web2.channel.http.HTTPChannel.connectionLost"></a>
        <div class="functionHeader">
          def <span>connectionLost(self, reason):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#twisted.internet.interfaces.IProtocol.connectionLost">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.internet.protocol.Protocol.html#twisted.internet.protocol.Protocol.connectionLost">twisted.internet.protocol.Protocol.connectionLost</a></div><div><p>Called when the connection is shut down.</p>
Clear any circular references here, and any external references to 
this Protocol. The connection has been closed. The reason Failure wraps a 
<a 
href="twisted.internet.error.ConnectionDone.html">twisted.internet.error.ConnectionDone</a> 
or <a 
href="twisted.internet.error.ConnectionLost.html">twisted.internet.error.ConnectionLost</a> 
instance (or a subclass of one of those).
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">reason</td><td>(type: <a 
href="twisted.python.failure.Failure.html">twisted.python.failure.Failure</a>
)</td></tr></table></div></div>
      </div>    
  </body>
</html>