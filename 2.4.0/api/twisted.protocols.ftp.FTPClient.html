<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;twisted.protocols.ftp.FTPClient&rdquo;</title>
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <h1 class="class">Class t.p.f.FTPClient(<a href="twisted.protocols.ftp.FTPClientBasic.html">FTPClientBasic</a>):</h1>
    <p>
      <span id="part">Part of <a href="twisted.protocols.ftp.html">twisted.protocols.ftp</a></span>
      <a></a>
      <a href="classIndex.html#twisted.protocols.ftp.FTPClient">View In Hierarchy</a>
    </p>
    <div></div>
    <div><p>A Twisted FTP Client</p>
<p>Supports active and passive transfers.</p>
This class is semi-stable.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Instance Variables</td><td class="fieldArg">passive</td><td>See description in __init__.
</td></tr></table></div>
    
      <table class="children"><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.__init__">__init__</a></td>
          <td><span>Constructor.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.fail">fail</a></td>
          <td><span>Disconnect, and also give an error to any queued deferreds.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.receiveFromConnection">receiveFromConnection</a></td>
          <td><span>Retrieves a file or listing generated by the given command,
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.queueLogin">queueLogin</a></td>
          <td><span>Login: send the username, send the password, and
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.sendToConnection">sendToConnection</a></td>
          <td><span>XXX
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient._openDataConnection">_openDataConnection</a></td>
          <td><span>This method returns a DeferredList.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.generatePortCommand">generatePortCommand</a></td>
          <td><span>(Private) Generates the text of a given PORT command
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.escapePath">escapePath</a></td>
          <td><span>Returns a FTP escaped path (replace newlines with nulls)
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.retrieveFile">retrieveFile</a></td>
          <td><span>Retrieve a file from the given path
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.storeFile">storeFile</a></td>
          <td><span>Store a file at the given path.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.list">list</a></td>
          <td><span>Retrieve a file listing into the given protocol instance.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.nlst">nlst</a></td>
          <td><span>Retrieve a short file listing into the given protocol instance.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.cwd">cwd</a></td>
          <td><span>Issues the CWD (Change Working Directory) command.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.cdup">cdup</a></td>
          <td><span>Issues the CDUP (Change Directory UP) command.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.pwd">pwd</a></td>
          <td><span>Issues the PWD (Print Working Directory) command.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.protocols.ftp.FTPClient.quit">quit</a></td>
          <td><span>Issues the QUIT command.
</span></td>
        </tr></table>
    
    
        <p>
          Inherited from <span><a href="twisted.protocols.ftp.FTPClientBasic.html">FTPClientBasic</a></span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic._fail">_fail</a></td>
            <td><span>Errback all queued deferreds.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic._cb_greeting">_cb_greeting</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.sendLine">sendLine</a></td>
            <td><span>(Private) Sends a line, unless line is None.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.sendNextCommand">sendNextCommand</a></td>
            <td><span>(Private) Processes the next command in the queue.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.queueCommand">queueCommand</a></td>
            <td><span>Add an FTPCommand object to the queue.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.queueStringCommand">queueStringCommand</a></td>
            <td><span>Queues a string to be issued as an FTP command
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.popCommandQueue">popCommandQueue</a></td>
            <td><span>Return the front element of the command queue, or None if empty.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.lineReceived">lineReceived</a></td>
            <td><span>(Private) Parses the response messages from the FTP server.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.connectionLost">connectionLost</a></td>
            <td><span>Called when the connection is shut down.
</span></td>
          </tr></table>
      
        <p>
          Inherited from <span><a href="twisted.protocols.basic.LineReceiver.html">LineReceiver</a> (via <a href="twisted.protocols.ftp.FTPClientBasic.html">FTPClientBasic</a>)</span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.clearLineBuffer">clearLineBuffer</a></td>
            <td><span>Clear buffered data.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.dataReceived">dataReceived</a></td>
            <td><span>Protocol.dataReceived.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.setLineMode">setLineMode</a></td>
            <td><span>Sets the line-mode of this receiver.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.setRawMode">setRawMode</a></td>
            <td><span>Sets the raw mode of this receiver.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.rawDataReceived">rawDataReceived</a></td>
            <td><span>Override this for when raw data is received.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic.LineReceiver.html#twisted.protocols.basic.LineReceiver.lineLengthExceeded">lineLengthExceeded</a></td>
            <td><span>Called when the maximum line length has been reached.
</span></td>
          </tr></table>
      
        <p>
          Inherited from <span><a href="twisted.internet.protocol.BaseProtocol.html">BaseProtocol</a> (via <a href="twisted.protocols.ftp.FTPClientBasic.html">FTPClientBasic</a>, <a href="twisted.protocols.basic.LineReceiver.html">LineReceiver</a>, <a href="twisted.internet.protocol.Protocol.html">Protocol</a>)</span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.internet.protocol.BaseProtocol.html#twisted.internet.protocol.BaseProtocol.makeConnection">makeConnection</a></td>
            <td><span>Make a connection to a transport and a server.
</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.internet.protocol.BaseProtocol.html#twisted.internet.protocol.BaseProtocol.connectionMade">connectionMade</a></td>
            <td><span>Called when a connection is made.
</span></td>
          </tr></table>
      
        <p>
          Inherited from <span><a href="twisted.protocols.basic._PauseableMixin.html">_PauseableMixin</a> (via <a href="twisted.protocols.ftp.FTPClientBasic.html">FTPClientBasic</a>, <a href="twisted.protocols.basic.LineReceiver.html">LineReceiver</a>)</span>:
        </p>
        <table class="children"><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic._PauseableMixin.html#twisted.protocols.basic._PauseableMixin.pauseProducing">pauseProducing</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic._PauseableMixin.html#twisted.protocols.basic._PauseableMixin.resumeProducing">resumeProducing</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr><tr class="basefunction">
            <td>Method</td>
            <td><a href="twisted.protocols.basic._PauseableMixin.html#twisted.protocols.basic._PauseableMixin.stopProducing">stopProducing</a></td>
            <td><span class="undocumented">Undocumented</span></td>
          </tr></table>
      
    <div class="function">
        <a name="twisted.protocols.ftp.FTPClient.__init__"></a>
        <div class="functionHeader">
          def <span>__init__(self, username='anonymous', password='twisted@twistedmatrix.com', passive=1):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overrides <a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.__init__">twisted.protocols.ftp.FTPClientBasic.__init__</a></div><div><p>Constructor.</p>
I will login as soon as I receive the welcome message from the 
server.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">username</td><td>FTP username
</td></tr><tr><td></td><td class="fieldArg">password</td><td>FTP password
</td></tr><tr><td></td><td class="fieldArg">passive</td><td>flag that controls if I use active or passive data connections. You 
can also change this after construction by assigning to self.passive.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.fail"></a>
        <div class="functionHeader">
          def <span>fail(self, error):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overrides <a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.fail">twisted.protocols.ftp.FTPClientBasic.fail</a></div><div>Disconnect, and also give an error to any queued deferreds.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.receiveFromConnection"></a>
        <div class="functionHeader">
          def <span>receiveFromConnection(self, commands, protocol):</span>
        </div>
        <div class="functionBody"><div>Retrieves a file or listing generated by the given command, feeding it 
to the given protocol.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">command</td><td>list of strings of FTP commands to execute then receive the results of 
(e.g. LIST, RETR)
</td></tr><tr><td></td><td class="fieldArg">protocol</td><td>A Protocol *instance* e.g. an <a 
href="twisted.protocols.ftp.FTPFileListProtocol.html">FTPFileListProtocol</a>, 
or something that can be adapted to one. Typically this will be an 
IConsumer implemenation.
</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">Deferred.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.queueLogin"></a>
        <div class="functionHeader">
          def <span>queueLogin(self, username, password):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overrides <a href="twisted.protocols.ftp.FTPClientBasic.html#twisted.protocols.ftp.FTPClientBasic.queueLogin">twisted.protocols.ftp.FTPClientBasic.queueLogin</a></div><div>Login: send the username, send the password, and set retrieval mode to 
binary
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.sendToConnection"></a>
        <div class="functionHeader">
          def <span>sendToConnection(self, commands):</span>
        </div>
        <div class="functionBody"><div>XXX
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A tuple of two Deferreds:
<ul>
  <li>
    Deferred IFinishableConsumer. You must call the 
    <code>finish</code> method on the IFinishableConsumer when the file 
    is completely transferred.
  </li>
  <li>
    Deferred list of control-connection responses.
  </li>
</ul>
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient._openDataConnection"></a>
        <div class="functionHeader">
          def <span>_openDataConnection(self, commands, protocol):</span>
        </div>
        <div class="functionBody"><div>This method returns a DeferredList.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.generatePortCommand"></a>
        <div class="functionHeader">
          def <span>generatePortCommand(self, portCmd):</span>
        </div>
        <div class="functionBody"><div>(Private) Generates the text of a given PORT command
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.escapePath"></a>
        <div class="functionHeader">
          def <span>escapePath(self, path):</span>
        </div>
        <div class="functionBody"><div>Returns a FTP escaped path (replace newlines with nulls)
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.retrieveFile"></a>
        <div class="functionHeader">
          def <span>retrieveFile(self, path, protocol, offset=0):</span>
        </div>
        <div class="functionBody"><div><p>Retrieve a file from the given path</p>
<p>This method issues the 'RETR' FTP command.</p>
The file is fed into the given Protocol instance. The data connection 
will be passive if self.passive is set.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">path</td><td>path to file that you wish to receive.
</td></tr><tr><td></td><td class="fieldArg">protocol</td><td>a Protocol instance.
</td></tr><tr><td></td><td class="fieldArg">offset</td><td>offset to start downloading from
</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">Deferred
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.storeFile"></a>
        <div class="functionHeader">
          def <span>storeFile(self, path, offset=0):</span>
        </div>
        <div class="functionBody"><div><p>Store a file at the given path.</p>
This method issues the 'STOR' FTP command.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A tuple of two Deferreds:
<ul>
  <li>
    Deferred IFinishableConsumer. You must call the 
    <code>finish</code> method on the IFinishableConsumer when the file 
    is completely transferred.
  </li>
  <li>
    Deferred list of control-connection responses.
  </li>
</ul>
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.list"></a>
        <div class="functionHeader">
          def <span>list(self, path, protocol):</span>
        </div>
        <div class="functionBody"><div><p>Retrieve a file listing into the given protocol instance.</p>
This method issues the 'LIST' FTP command.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">path</td><td>path to get a file listing for.
</td></tr><tr><td></td><td class="fieldArg">protocol</td><td>a Protocol instance, probably a <a 
href="twisted.protocols.ftp.FTPFileListProtocol.html">FTPFileListProtocol</a> 
instance. It can cope with most common file listing formats.
</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">Deferred
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.nlst"></a>
        <div class="functionHeader">
          def <span>nlst(self, path, protocol):</span>
        </div>
        <div class="functionBody"><div><p>Retrieve a short file listing into the given protocol instance.</p>
<p>This method issues the 'NLST' FTP command.</p>
NLST (should) return a list of filenames, one per line.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">path</td><td>path to get short file listing for.
</td></tr><tr><td></td><td class="fieldArg">protocol</td><td>a Protocol instance.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.cwd"></a>
        <div class="functionHeader">
          def <span>cwd(self, path):</span>
        </div>
        <div class="functionBody"><div>Issues the CWD (Change Working Directory) command.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">a Deferred that will be called when done.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.cdup"></a>
        <div class="functionHeader">
          def <span>cdup(self):</span>
        </div>
        <div class="functionBody"><div>Issues the CDUP (Change Directory UP) command.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">a Deferred that will be called when done.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.pwd"></a>
        <div class="functionHeader">
          def <span>pwd(self):</span>
        </div>
        <div class="functionBody"><div>Issues the PWD (Print Working Directory) command.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">a Deferred that will be called when done. It is up to the caller to 
interpret the response, but the <a 
href="twisted.protocols.ftp.html#twisted.protocols.ftp.parsePWDResponse">parsePWDResponse</a> 
method in this module should work.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.protocols.ftp.FTPClient.quit"></a>
        <div class="functionHeader">
          def <span>quit(self):</span>
        </div>
        <div class="functionBody"><div>Issues the QUIT command.
<table class="fieldTable"></table></div></div>
      </div>    
  </body>
</html>