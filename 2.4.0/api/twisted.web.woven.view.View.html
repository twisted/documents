<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;twisted.web.woven.view.View&rdquo;</title>
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <h1 class="class">Class t.w.w.v.View:</h1>
    <p>
      <span id="part">Part of <a href="twisted.web.woven.view.html">twisted.web.woven.view</a></span>
      <a></a>
      <a href="classIndex.html#twisted.web.woven.view.View">View In Hierarchy</a>
    </p>
    <div><p>Known subclasses: <a href="twisted.web.woven.page.Page.html">twisted.web.woven.page.Page</a>, <a href="twisted.web.woven.view.LiveView.html">twisted.web.woven.view.LiveView</a>, <a href="twisted.web.woven.tapestry.TapestryView.html">twisted.web.woven.tapestry.TapestryView</a>, <a href="twisted.web.woven.widgets.Widget.html">twisted.web.woven.widgets.Widget</a></p><p>Implements interfaces: <a href="twisted.web.resource.IResource.html">twisted.web.resource.IResource</a>, <a href="twisted.web.woven.interfaces.IView.html">twisted.web.woven.interfaces.IView</a></p></div>
    <div class="undocumented">Undocumented</div>
    
      <table class="children"><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.getChild">getChild</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.getChildWithDefault">getChildWithDefault</a></td>
          <td><span>Return a child with the given name for the given request.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.__init__">__init__</a></td>
          <td><span>A view must be told what its model is, and may be told what its
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.setupAllStacks">setupAllStacks</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.setUp">setUp</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.setupViewStack">setupViewStack</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.importViewLibrary">importViewLibrary</a></td>
          <td><span>Import the given object or module into this View's view namespace
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.render">render</a></td>
          <td><span>Render a request. This is called on the leaf resource for
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.getTemplate">getTemplate</a></td>
          <td><span>Override this if you want to have your subclass look up its 
template
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.lookupTemplate">lookupTemplate</a></td>
          <td><span>Use acquisition to look up the template named by 
self.templateFile,
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.handleDocument">handleDocument</a></td>
          <td><span>Handle the root node, and send the page if there are no
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.handleOutstanding">handleOutstanding</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.recurseChildren">recurseChildren</a></td>
          <td><span>If this node has children, handle them.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.dispatchResult">dispatchResult</a></td>
          <td><span>Check a given result from handling a node and look up a 
NodeMutator
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.modelChanged">modelChanged</a></td>
          <td><span>Rerender this view, because our model has changed.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.generate">generate</a></td>
          <td><span>Allow a view to be used like a widget. Will look up the template
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.setController">setController</a></td>
          <td><span>Set the controller that this view is related to.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.setNode">setNode</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.setSubmodel">setSubmodel</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.getNodeModel">getNodeModel</a></td>
          <td><span>Get the model object associated with this node. If this node has a
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.getNodeController">getNodeController</a></td>
          <td><span>Get a controller object to handle this node. If the node has no
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.getSubview">getSubview</a></td>
          <td><span>Get a sub-view from me.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.getNodeView">getNodeView</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.handleNode">handleNode</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.handleControllerResults">handleControllerResults</a></td>
          <td><span>Handle a deferred from a controller.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.handleNewNode">handleNewNode</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.sendPage">sendPage</a></td>
          <td><span>Check to see if handlers recorded any errors before sending the 
page
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.setSubviewFactory">setSubviewFactory</a></td>
          <td><span>Set the callable &quot;factory&quot;, which takes a model and 
should
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.__setitem__">__setitem__</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.unlinkViews">unlinkViews</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.dispatchResultCallback">dispatchResultCallback</a></td>
          <td><span>Deal with a callback from a deferred, checking to see if it is
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.web.woven.view.View.renderFailure">renderFailure</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr></table>
    
    
    <div class="function">
        <a name="twisted.web.woven.view.View.getChild"></a>
        <div class="functionHeader">
          def <span>getChild(self, path, request):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.web.woven.page.Page.html#twisted.web.woven.page.Page.getChild">twisted.web.woven.page.Page</a>, <a href="twisted.web.woven.page.LivePage.html#twisted.web.woven.page.LivePage.getChild">twisted.web.woven.page.LivePage</a></div><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.getChildWithDefault"></a>
        <div class="functionHeader">
          def <span>getChildWithDefault(self, path, request):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.resource.IResource.html#twisted.web.resource.IResource.getChildWithDefault">twisted.web.resource.IResource</a></div><div>Return a child with the given name for the given request. This is the 
external interface used by the Resource publishing machinery. If 
implementing IResource without subclassing Resource, it must be provided. 
However, if subclassing Resource, getChild overridden instead.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.__init__"></a>
        <div class="functionHeader">
          def <span>__init__(self, m, templateFile=None, templateDirectory=None, template=None, controller=None, doneCallback=None, modelStack=None, viewStack=None, controllerStack=None):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.woven.interfaces.IView.html#twisted.web.woven.interfaces.IView.__init__">twisted.web.woven.interfaces.IView</a></div><div class="interfaceinfo">overridden in <a href="twisted.web.woven.page.Page.html#twisted.web.woven.page.Page.__init__">twisted.web.woven.page.Page</a>, <a href="twisted.web.woven.page.LivePage.html#twisted.web.woven.page.LivePage.__init__">twisted.web.woven.page.LivePage</a>, <a href="twisted.web.woven.widgets.Widget.html#twisted.web.woven.widgets.Widget.__init__">twisted.web.woven.widgets.Widget</a></div><div>A view must be told what its model is, and may be told what its 
controller is, but can also look up its controller if none specified.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.setupAllStacks"></a>
        <div class="functionHeader">
          def <span>setupAllStacks(self):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.setUp"></a>
        <div class="functionHeader">
          def <span>setUp(self, request, d):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.web.woven.widgets.Widget.html#twisted.web.woven.widgets.Widget.setUp">twisted.web.woven.widgets.Widget</a></div><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.setupViewStack"></a>
        <div class="functionHeader">
          def <span>setupViewStack(self):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.importViewLibrary"></a>
        <div class="functionHeader">
          def <span>importViewLibrary(self, namespace):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.woven.interfaces.IView.html#twisted.web.woven.interfaces.IView.importViewLibrary">twisted.web.woven.interfaces.IView</a></div><div>Import the given object or module into this View's view namespace 
stack. If the given object or module has a getSubview function or method, 
it will be called when a node has a view=&quot;foo&quot; attribute. If no 
getSubview method is defined, a default one will be provided which looks 
for the literal name in the namespace.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.render"></a>
        <div class="functionHeader">
          def <span>render(self, request, doneCallback=None):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.resource.IResource.html#twisted.web.resource.IResource.render">twisted.web.resource.IResource</a></div><div>Render a request. This is called on the leaf resource for a request. 
Render must return either a string, which will be sent to the browser as 
the HTML for the request, or server.NOT_DONE_YET. If NOT_DONE_YET is 
returned, at some point later (in a Deferred callback, usually) call 
request.write(&quot;&lt;html&gt;&quot;) to write data to the request, and 
request.finish() to send the data to the browser.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.getTemplate"></a>
        <div class="functionHeader">
          def <span>getTemplate(self, request):</span>
        </div>
        <div class="functionBody"><div>Override this if you want to have your subclass look up its template 
using a different method.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.lookupTemplate"></a>
        <div class="functionHeader">
          def <span>lookupTemplate(self, request):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.web.woven.tapestry.TapestryView.html#twisted.web.woven.tapestry.TapestryView.lookupTemplate">twisted.web.woven.tapestry.TapestryView</a></div><div>Use acquisition to look up the template named by self.templateFile, 
located anywhere above this object in the heirarchy, and use it as the 
template. The first time the template is used it is cached for speed.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.handleDocument"></a>
        <div class="functionHeader">
          def <span>handleDocument(self, request, document):</span>
        </div>
        <div class="functionBody"><div>Handle the root node, and send the page if there are no outstanding 
callbacks when it returns.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.handleOutstanding"></a>
        <div class="functionHeader">
          def <span>handleOutstanding(self, request):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.recurseChildren"></a>
        <div class="functionHeader">
          def <span>recurseChildren(self, request, node):</span>
        </div>
        <div class="functionBody"><div>If this node has children, handle them.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.dispatchResult"></a>
        <div class="functionHeader">
          def <span>dispatchResult(self, request, node, result):</span>
        </div>
        <div class="functionBody"><div>Check a given result from handling a node and look up a NodeMutator 
adapter which will convert the result into a node and insert it into the 
DOM tree. Return the new node.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.modelChanged"></a>
        <div class="functionHeader">
          def <span>modelChanged(self, changed):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.woven.interfaces.IView.html#twisted.web.woven.interfaces.IView.modelChanged">twisted.web.woven.interfaces.IView</a></div><div class="interfaceinfo">overridden in <a href="twisted.web.woven.widgets.Widget.html#twisted.web.woven.widgets.Widget.modelChanged">twisted.web.woven.widgets.Widget</a></div><div>Rerender this view, because our model has changed.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.generate"></a>
        <div class="functionHeader">
          def <span>generate(self, request, node):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.web.woven.widgets.Widget.html#twisted.web.woven.widgets.Widget.generate">twisted.web.woven.widgets.Widget</a></div><div>Allow a view to be used like a widget. Will look up the template file 
and return it in place of the incoming node.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.setController"></a>
        <div class="functionHeader">
          def <span>setController(self, controller):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.woven.interfaces.IView.html#twisted.web.woven.interfaces.IView.setController">twisted.web.woven.interfaces.IView</a></div><div>Set the controller that this view is related to.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.setNode"></a>
        <div class="functionHeader">
          def <span>setNode(self, node):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.web.woven.widgets.Widget.html#twisted.web.woven.widgets.Widget.setNode">twisted.web.woven.widgets.Widget</a></div><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.setSubmodel"></a>
        <div class="functionHeader">
          def <span>setSubmodel(self, name):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.web.woven.widgets.Widget.html#twisted.web.woven.widgets.Widget.setSubmodel">twisted.web.woven.widgets.Widget</a></div><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.getNodeModel"></a>
        <div class="functionHeader">
          def <span>getNodeModel(self, request, node, submodel):</span>
        </div>
        <div class="functionBody"><div>Get the model object associated with this node. If this node has a 
model= attribute, call getSubmodel on the current model object. If not, 
return the top of the model stack.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.getNodeController"></a>
        <div class="functionHeader">
          def <span>getNodeController(self, request, node, submodel, model):</span>
        </div>
        <div class="functionBody"><div>Get a controller object to handle this node. If the node has no 
controller= attribute, first check to see if there is an IController 
adapter for our model.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.getSubview"></a>
        <div class="functionHeader">
          def <span>getSubview(self, request, node, model, viewName):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.woven.interfaces.IView.html#twisted.web.woven.interfaces.IView.getSubview">twisted.web.woven.interfaces.IView</a></div><div>Get a sub-view from me.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><a href="twisted.web.woven.widgets.Widget.html">widgets.Widget</a>
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.getNodeView"></a>
        <div class="functionHeader">
          def <span>getNodeView(self, request, node, submodel, model):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.handleNode"></a>
        <div class="functionHeader">
          def <span>handleNode(self, request, node):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.handleControllerResults"></a>
        <div class="functionHeader">
          def <span>handleControllerResults(self, controllerResult, request, node, controller, view):</span>
        </div>
        <div class="functionBody"><div>Handle a deferred from a controller.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.handleNewNode"></a>
        <div class="functionHeader">
          def <span>handleNewNode(self, request, returnNode):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.sendPage"></a>
        <div class="functionHeader">
          def <span>sendPage(self, request):</span>
        </div>
        <div class="functionBody"><div>Check to see if handlers recorded any errors before sending the 
page
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.setSubviewFactory"></a>
        <div class="functionHeader">
          def <span>setSubviewFactory(self, name, factory, *args, setup=None, **kwargs):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">from <a href="twisted.web.woven.interfaces.IView.html#twisted.web.woven.interfaces.IView.setSubviewFactory">twisted.web.woven.interfaces.IView</a></div><div><p>Set the callable &quot;factory&quot;, which takes a model and should 
return a Widget, to be called by the default implementation of getSubview 
when the viewName &quot;name&quot; is present in the template.</p>
<p>This would generally be used like this:</p>
<p>view.setSubviewFactory(&quot;foo&quot;, MyFancyWidgetClass)</p>
This is equivalent to:
<pre class="literalblock">
   def wvfactory_foo(self, request, node, m):
       return MyFancyWidgetClass(m)
</pre>
<p>Which will cause an instance of MyFancyWidgetClass to be instanciated 
when template node &lt;div view=&quot;foo&quot; /&gt; is encountered.</p>
<p>If setup is passed, it will be passed to new instances returned from 
this factory as a setup method. The setup method is called each time the 
Widget is generated. Setup methods take (request, widget, model) as 
arguments.</p>
This is equivalent to:
<pre class="literalblock">
   def wvupdate_foo(self, request, widget, model):
       # whatever you want
</pre>
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.__setitem__"></a>
        <div class="functionHeader">
          def <span>__setitem__(self, key, value):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.web.woven.widgets.Widget.html#twisted.web.woven.widgets.Widget.__setitem__">twisted.web.woven.widgets.Widget</a></div><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.unlinkViews"></a>
        <div class="functionHeader">
          def <span>unlinkViews(self):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.dispatchResultCallback"></a>
        <div class="functionHeader">
          def <span>dispatchResultCallback(self, result, request, node):</span>
        </div>
        <div class="functionBody"><div>Deal with a callback from a deferred, checking to see if it is ok to 
send the page yet or not.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.web.woven.view.View.renderFailure"></a>
        <div class="functionHeader">
          def <span>renderFailure(self, failure, request):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div>    
  </body>
</html>