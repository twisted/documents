<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;twisted.spread.pb&rdquo;</title>
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <h1 class="module">Module t.s.pb</h1>
    <p>
      <span id="part">Part of <a href="twisted.spread.html">twisted.spread</a></span>
      <a></a>
      <a></a>
    </p>
    <div></div>
    <div><p>Perspective Broker</p>
<p>&quot;This isn't a professional opinion, but it's probably got enough 
internet to kill you.&quot; --glyph</p>
<p>Stability: semi-stable</p>
Future Plans: The connection APIs will be extended with support for 
URLs, that will be able to extend resource location and discovery 
conversations and specify different authentication mechanisms besides 
username/password. This should only add to, and not change, the existing 
protocol.
<h1 class="heading">Important Changes</h1>
  <p>New APIs have been added for serving and connecting. On the client 
  side, use PBClientFactory.getPerspective() instead of connect(), and 
  PBClientFactory.getRootObject() instead of getObjectAt(). Server side 
  should switch to updated cred APIs by using PBServerFactory, at which 
  point clients would switch to PBClientFactory.login().</p>
  <p>The new cred support means a different method is sent for login, 
  although the protocol is compatible on the binary level. When we switch 
  to pluggable credentials this will introduce another change, although 
  the current change will still be supported.</p>
  The Perspective class is now deprecated, and has been replaced with 
  Avatar, which does not rely on the old cred APIs.
<h1 class="heading">Introduction</h1>
  <p>This is a broker for proxies for and copies of objects. It provides 
  a translucent interface layer to those proxies.</p>
  <p>The protocol is not opaque, because it provides objects which 
  represent the remote proxies and require no context (server references, 
  IDs) to operate on.</p>
  It is not transparent because it does <i>not</i> attempt to make 
  remote objects behave identically, or even similiarly, to local 
  objects. Method calls are invoked asynchronously, and specific rules 
  are applied when serializing arguments.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Author</td><td colspan="2"><a href="mailto:glyph&#64;twistedmatrix.com">Glyph Lefkowitz</a>
</td></tr></table></div>
    
      <table class="children"><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.ProtocolError.html">ProtocolError</a></td>
          <td><span>This error is raised when an invalid protocol statement is 
received.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.DeadReferenceError.html">DeadReferenceError</a></td>
          <td><span>This error is raised when a method is called on a dead reference (one 
whose
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.Error.html">Error</a></td>
          <td><span>This error can be raised to generate known error conditions.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.RemoteMethod.html">RemoteMethod</a></td>
          <td><span>This is a translucent reference to a remote message.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.noOperation">noOperation</a></td>
          <td><span>Do nothing.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.PBConnectionLost.html">PBConnectionLost</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.printTraceback">printTraceback</a></td>
          <td><span>Print a traceback (string) to the standard log.
</span></td>
        </tr><tr class="interface">
          <td>Interface</td>
          <td><a href="twisted.spread.pb.IPerspective.html">IPerspective</a></td>
          <td><span>per*spec*tive, n. : The relationship of aspects of a subject to 
each
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.Avatar.html">Avatar</a></td>
          <td><span>A default IPerspective implementor.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.Perspective.html">Perspective</a></td>
          <td><span>This class is DEPRECATED, because it relies on old cred
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.Service.html">Service</a></td>
          <td><span>A service for Perspective Broker.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.AsReferenceable.html">AsReferenceable</a></td>
          <td><span>AsReferenceable: a reference directed towards another object.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.RemoteReference.html">RemoteReference</a></td>
          <td><span>This is a translucent reference to a remote object.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.Local.html">Local</a></td>
          <td><span>(internal) A reference to a local object.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb._RemoteCacheDummy.html">_RemoteCacheDummy</a></td>
          <td><span>Ignore.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.CopyableFailure.html">CopyableFailure</a></td>
          <td><span>A <a 
href="twisted.spread.flavors.RemoteCopy.html">flavors.RemoteCopy</a> and 
<a href="twisted.spread.flavors.Copyable.html">flavors.Copyable</a> 
version of
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.CopiedFailure.html">CopiedFailure</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.failure2Copyable">failure2Copyable</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.Broker.html">Broker</a></td>
          <td><span>I am a broker for objects.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.BrokerFactory.html">BrokerFactory</a></td>
          <td><span>DEPRECATED, use PBServerFactory instead.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.AuthRoot.html">AuthRoot</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb._Detacher.html">_Detacher</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.IdentityWrapper.html">IdentityWrapper</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.AuthChallenger.html">AuthChallenger</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.AuthServ.html">AuthServ</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb._ObjectRetrieval.html">_ObjectRetrieval</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.BrokerClientFactory.html">BrokerClientFactory</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.getObjectRetriever">getObjectRetriever</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.getObjectAt">getObjectAt</a></td>
          <td><span>DEPRECATED. Establishes a PB connection and returns with a <a 
href="twisted.spread.pb.RemoteReference.html">RemoteReference</a>.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.getObjectAtSSL">getObjectAtSSL</a></td>
          <td><span>DEPRECATED. Establishes a PB connection over SSL and returns with a 
RemoteReference.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.connect">connect</a></td>
          <td><span>DEPRECATED. Connects and authenticates, then retrieves a PB 
service.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb._connGotRoot">_connGotRoot</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.authIdentity">authIdentity</a></td>
          <td><span>DEPRECATED. Return a Deferred which will do the challenge-response 
dance and
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb._cbRespondToChallenge">_cbRespondToChallenge</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.logIn">logIn</a></td>
          <td><span>DEPRECATED. I return a Deferred which will be called back with a 
Perspective.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb._cbLogInRespond">_cbLogInRespond</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb._cbLogInResponded">_cbLogInResponded</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.IdentityConnector.html">IdentityConnector</a></td>
          <td><span>DEPRECATED.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.respond">respond</a></td>
          <td><span>Respond to a challenge.
</span></td>
        </tr><tr class="function">
          <td>Function</td>
          <td><a href="#twisted.spread.pb.challenge">challenge</a></td>
          <td><span>I return some random data.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.PBClientFactory.html">PBClientFactory</a></td>
          <td><span>Client factory for PB brokers.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb.PBServerFactory.html">PBServerFactory</a></td>
          <td><span>Server factory for perspective broker.
</span></td>
        </tr><tr class="interface">
          <td>Interface</td>
          <td><a href="twisted.spread.pb.IUsernameMD5Password.html">IUsernameMD5Password</a></td>
          <td><span>I encapsulate a username and a hashed password.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb._PortalRoot.html">_PortalRoot</a></td>
          <td><span>Root object, used to login to portal.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb._PortalWrapper.html">_PortalWrapper</a></td>
          <td><span>Root Referenceable object, used to login to portal.
</span></td>
        </tr><tr class="class">
          <td>Class</td>
          <td><a href="twisted.spread.pb._PortalAuthChallenger.html">_PortalAuthChallenger</a></td>
          <td><span>Called with response to password challenge.
</span></td>
        </tr></table>
    
    
    <div class="function">
        <a name="twisted.spread.pb.noOperation"></a>
        <div class="functionHeader">
          def <span>noOperation(*args, **kw):</span>
        </div>
        <div class="functionBody"><div><p>Do nothing.</p>
Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, 
consectetur, adipisci velit...
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.printTraceback"></a>
        <div class="functionHeader">
          def <span>printTraceback(tb):</span>
        </div>
        <div class="functionBody"><div>Print a traceback (string) to the standard log.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.failure2Copyable"></a>
        <div class="functionHeader">
          def <span>failure2Copyable(fail, unsafeTracebacks=0):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.getObjectRetriever"></a>
        <div class="functionHeader">
          def <span>getObjectRetriever():</span>
        </div>
        <div class="functionBody"><div><p>DEPRECATED.</p>
Get a factory which retreives a root object from its client
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A pair: A ClientFactory and a Deferred which will be passed a remote 
reference to the root object of a PB server.x
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.getObjectAt"></a>
        <div class="functionHeader">
          def <span>getObjectAt(host, port, timeout=None):</span>
        </div>
        <div class="functionBody"><div>DEPRECATED. Establishes a PB connection and returns with a <a 
href="twisted.spread.pb.RemoteReference.html">RemoteReference</a>.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">host</td><td>the host to connect to
</td></tr><tr><td></td><td class="fieldArg">port</td><td>the port number to connect to
</td></tr><tr><td></td><td class="fieldArg">timeout</td><td>a value in milliseconds to wait before failing by default. 
(OPTIONAL)
</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A Deferred which will be passed a remote reference to the root object 
of a PB server.x
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.getObjectAtSSL"></a>
        <div class="functionHeader">
          def <span>getObjectAtSSL(host, port, timeout=None, contextFactory=None):</span>
        </div>
        <div class="functionBody"><div>DEPRECATED. Establishes a PB connection over SSL and returns with a 
RemoteReference.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">host</td><td>the host to connect to
</td></tr><tr><td></td><td class="fieldArg">port</td><td>the port number to connect to
</td></tr><tr><td></td><td class="fieldArg">timeout</td><td>a value in milliseconds to wait before failing by default. 
(OPTIONAL)
</td></tr><tr><td></td><td class="fieldArg">contextFactory</td><td>A factory object for producing SSL.Context objects. (OPTIONAL)
</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A Deferred which will be passed a remote reference to the root object 
of a PB server.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.connect"></a>
        <div class="functionHeader">
          def <span>connect(host, port, username, password, serviceName, perspectiveName=None, client=None, timeout=None):</span>
        </div>
        <div class="functionBody"><div><p>DEPRECATED. Connects and authenticates, then retrieves a PB 
service.</p>
Required arguments:
<ul>
  <li>
    host -- the host the service is running on
  </li>
  <li>
    port -- the port on the host to connect to
  </li>
  <li>
    username -- the name you will be identified as to the 
    authorizer
  </li>
  <li>
    password -- the password for this username
  </li>
  <li>
    serviceName -- name of the service to request
  </li>
</ul>
Optional (keyword) arguments:
<ul>
  <li>
    perspectiveName -- the name of the perspective to request, if 
    different than the username
  </li>
  <li>
    client -- XXX the &quot;reference&quot; argument to 
    perspective.Perspective.attached
  </li>
  <li>
    timeout -- see twisted.internet.tcp.Client
  </li>
</ul>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A Deferred instance that gets a callback when the final Perspective is 
connected, and an errback when an error occurs at any stage of 
connecting.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb._connGotRoot"></a>
        <div class="functionHeader">
          def <span>_connGotRoot(root, d, client, serviceName, username, password, perspectiveName):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.authIdentity"></a>
        <div class="functionHeader">
          def <span>authIdentity(authServRef, username, password):</span>
        </div>
        <div class="functionBody"><div>DEPRECATED. Return a Deferred which will do the challenge-response 
dance and return a remote Identity reference.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb._cbRespondToChallenge"></a>
        <div class="functionHeader">
          def <span>_cbRespondToChallenge((challenge, challenger), password, d):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.logIn"></a>
        <div class="functionHeader">
          def <span>logIn(authServRef, client, service, username, password, perspectiveName=None):</span>
        </div>
        <div class="functionBody"><div>DEPRECATED. I return a Deferred which will be called back with a 
Perspective.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb._cbLogInRespond"></a>
        <div class="functionHeader">
          def <span>_cbLogInRespond((challenge, challenger), d, client, service, password, perspectiveName):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.spread.pb._cbLogInResponded"></a>
        <div class="functionHeader">
          def <span>_cbLogInResponded(identity, d, client, serviceName, perspectiveName):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.respond"></a>
        <div class="functionHeader">
          def <span>respond(challenge, password):</span>
        </div>
        <div class="functionBody"><div><p>Respond to a challenge.</p>
This is useful for challenge/response authentication.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.spread.pb.challenge"></a>
        <div class="functionHeader">
          def <span>challenge():</span>
        </div>
        <div class="functionBody"><div>I return some random data.
<table class="fieldTable"></table></div></div>
      </div>    
  </body>
</html>