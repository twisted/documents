<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;twisted.words.xish.utility.EventDispatcher&rdquo;</title>
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <h1 class="class">Class t.w.x.u.EventDispatcher:</h1>
    <p>
      <span id="part">Part of <a href="twisted.words.xish.utility.html">twisted.words.xish.utility</a></span>
      <a></a>
      <a href="classIndex.html#twisted.words.xish.utility.EventDispatcher">View In Hierarchy</a>
    </p>
    <div><p>Known subclasses: <a href="twisted.words.xish.xmlstream.XmlStream.html">twisted.words.xish.xmlstream.XmlStream</a></p></div>
    <div><p>Event dispatching service.</p>
<p>The <code>EventDispatcher</code> allows observers to be registered for 
certain events that are dispatched. There are two types of events: XPath 
events and Named events.</p>
<p>Every dispatch is triggered by calling <a 
href="twisted.words.xish.utility.EventDispatcher.html#twisted.words.xish.utility.EventDispatcher.dispatch">dispatch</a> 
with a data object and, for named events, the name of the event.</p>
<p>When an XPath type event is dispatched, the associated object is 
assumed to be a <a 
href="twisted.words.xish.domish.Element.html">domish.Element</a> object, 
which is matched against all registered XPath queries. For every match, 
the respective observer will be called with the data object.</p>
<p>A named event will simply call each registered observer for that 
particular event name, with the data object. Unlike XPath type events, 
the data object is not restricted to <a 
href="twisted.words.xish.domish.Element.html">domish.Element</a>, but can 
be anything.</p>
<p>When registering observers, the event that is to be observed is 
specified using an <a 
href="twisted.words.xish.xpath.XPathQuery.html">xpath.XPathQuery</a> 
object or a string. In the latter case, the string can also contain the 
string representation of an XPath expression. To distinguish these from 
named events, each named event should start with a special prefix that is 
stored in <code>self.prefix</code>. It defaults to 
<code>//event/</code>.</p>
<p>Observers registered using <a 
href="twisted.words.xish.utility.EventDispatcher.html#twisted.words.xish.utility.EventDispatcher.addObserver">addObserver</a> 
are persistent: after the observer has been triggered by a dispatch, it 
remains registered for a possible next dispatch. If instead <a 
href="twisted.words.xish.utility.EventDispatcher.html#twisted.words.xish.utility.EventDispatcher.addOnetimeObserver">addOnetimeObserver</a> 
was used to observe an event, the observer is removed from the list of 
observers after the first observed event.</p>
<p>Obsevers can also prioritized, by providing an optional 
<code>priority</code> parameter to the <a 
href="twisted.words.xish.utility.EventDispatcher.html#twisted.words.xish.utility.EventDispatcher.addObserver">addObserver</a> 
and <a 
href="twisted.words.xish.utility.EventDispatcher.html#twisted.words.xish.utility.EventDispatcher.addOnetimeObserver">addOnetimeObserver</a> 
methods. Higher priority observers are then called before lower priority 
observers.</p>
Finally, observers can be unregistered by using <a 
href="twisted.words.xish.utility.EventDispatcher.html#twisted.words.xish.utility.EventDispatcher.removeObserver">removeObserver</a>.
<table class="fieldTable"></table></div>
    
      <table class="children"><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.words.xish.utility.EventDispatcher.__init__">__init__</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.words.xish.utility.EventDispatcher._isEvent">_isEvent</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.words.xish.utility.EventDispatcher.addOnetimeObserver">addOnetimeObserver</a></td>
          <td><span>Register a one-time observer for an event.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.words.xish.utility.EventDispatcher.addObserver">addObserver</a></td>
          <td><span>Register an observer for an event.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.words.xish.utility.EventDispatcher._addObserver">_addObserver</a></td>
          <td><span class="undocumented">Undocumented</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.words.xish.utility.EventDispatcher.removeObserver">removeObserver</a></td>
          <td><span>Remove function as observer for an event.
</span></td>
        </tr><tr class="function">
          <td>Method</td>
          <td><a href="#twisted.words.xish.utility.EventDispatcher.dispatch">dispatch</a></td>
          <td><span>Dispatch an event.
</span></td>
        </tr></table>
    
    
    <div class="function">
        <a name="twisted.words.xish.utility.EventDispatcher.__init__"></a>
        <div class="functionHeader">
          def <span>__init__(self, eventprefix='//event/'):</span>
        </div>
        <div class="functionBody"><div class="interfaceinfo">overridden in <a href="twisted.words.xish.xmlstream.XmlStream.html#twisted.words.xish.xmlstream.XmlStream.__init__">twisted.words.xish.xmlstream.XmlStream</a></div><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.words.xish.utility.EventDispatcher._isEvent"></a>
        <div class="functionHeader">
          def <span>_isEvent(self, event):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.words.xish.utility.EventDispatcher.addOnetimeObserver"></a>
        <div class="functionHeader">
          def <span>addOnetimeObserver(self, event, observerfn, *args, priority=0, **kwargs):</span>
        </div>
        <div class="functionBody"><div><p>Register a one-time observer for an event.</p>
Like <a 
href="twisted.words.xish.utility.EventDispatcher.html#twisted.words.xish.utility.EventDispatcher.addObserver">addObserver</a>, 
but is only triggered at most once. See there for a description of the 
parameters.
<table class="fieldTable"></table></div></div>
      </div><div class="function">
        <a name="twisted.words.xish.utility.EventDispatcher.addObserver"></a>
        <div class="functionHeader">
          def <span>addObserver(self, event, observerfn, *args, priority=0, **kwargs):</span>
        </div>
        <div class="functionBody"><div><p>Register an observer for an event.</p>
Each observer will be registered with a certain priority. Higher 
priority observers get called before lower priority observers.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>Name or XPath query for the event to be monitored.
(type: str or <a 
href="twisted.words.xish.xpath.XPathQuery.html">xpath.XPathQuery</a>.
)</td></tr><tr><td></td><td class="fieldArg">observerfn</td><td>Function to be called when the specified event has been triggered. 
This function takes one parameter: the data object that triggered the 
event. When specified, the <code>*args</code> and <code>**kwargs</code> 
parameters to addObserver are being used as additional parameters to the 
registered observer function.
</td></tr><tr><td></td><td class="fieldArg">priority</td><td>(Optional) priority of this observer in relation to other observer 
that match the same event. Defaults to <code>0</code>.
(type: int
)</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.words.xish.utility.EventDispatcher._addObserver"></a>
        <div class="functionHeader">
          def <span>_addObserver(self, onetime, event, observerfn, priority, *args, **kwargs):</span>
        </div>
        <div class="functionBody"><div class="undocumented">Undocumented</div></div>
      </div><div class="function">
        <a name="twisted.words.xish.utility.EventDispatcher.removeObserver"></a>
        <div class="functionHeader">
          def <span>removeObserver(self, event, observerfn):</span>
        </div>
        <div class="functionBody"><div><p>Remove function as observer for an event.</p>
The observer function is removed for all priority levels for the 
specified event.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>Event for which the observer function was registered.
(type: str or <a 
href="twisted.words.xish.xpath.XPathQuery.html">xpath.XPathQuery</a>
)</td></tr><tr><td></td><td class="fieldArg">observerfn</td><td>Observer function to be unregistered.
</td></tr></table></div></div>
      </div><div class="function">
        <a name="twisted.words.xish.utility.EventDispatcher.dispatch"></a>
        <div class="functionHeader">
          def <span>dispatch(self, object, event=None):</span>
        </div>
        <div class="functionBody"><div><p>Dispatch an event.</p>
When <code>event</code> is <code>None</code>, an XPath type event is 
triggered, and <code>object</code> is assumed to be an instance of 
{domish.Element}. Otherwise, <code>event</code> holds the name of the 
named event being triggered. In the latter case, <code>object</code> can 
be anything.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">object</td><td>The object to be dispatched.
</td></tr><tr><td></td><td class="fieldArg">event</td><td>Optional event name.
(type: str
)</td></tr></table></div></div>
      </div>    
  </body>
</html>