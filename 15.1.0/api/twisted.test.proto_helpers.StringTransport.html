<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.test.proto_helpers.StringTransport : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">t.t.p.StringTransport : class documentation</h1>
    <p>
      <span id="part">Part of <a href="twisted.html">twisted</a>.<a href="twisted.test.html">test</a>.<a href="twisted.test.proto_helpers.html">proto_helpers</a></span>
      <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L110">View Source</a>
      <a href="classIndex.html#twisted.test.proto_helpers.StringTransport">View In Hierarchy</a>
    </p>
    <div>
      <p>Known subclasses: <a href="twisted.test.proto_helpers.StringTransportWithDisconnection.html">twisted.test.proto_helpers.StringTransportWithDisconnection</a></p><p>Implements interfaces: <a href="twisted.internet.interfaces.IConsumer.html">twisted.internet.interfaces.IConsumer</a>, <a href="twisted.internet.interfaces.IPushProducer.html">twisted.internet.interfaces.IPushProducer</a>, <a href="twisted.internet.interfaces.ITransport.html">twisted.internet.interfaces.ITransport</a></p>
    </div>
    <div class="docstring">
      <div><p>A transport implementation which buffers data in memory and keeps track 
of its other state without providing any behavior.</p>
<p><a href="twisted.test.proto_helpers.StringTransport.html"><code>StringTransport</code></a>
has a number of attributes which are not part of any of the interfaces it 
claims to implement.  These attributes are provided for testing purposes.  
Implementation code should not use any of these attributes; they are not 
provided by other transports.</p><table class="fieldTable"></table></div>
    </div>

    
    <div id="splitTables">
      <table class="children sortable" id="id3074">
  
  
  <tr class="instancevariable">
    
    
    <td>Instance Variable</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#disconnecting">disconnecting</a></td>
    <td>A <code>bool</code> which is <code>False</code> until <a href="twisted.test.proto_helpers.StringTransport.html#loseConnection"><code>loseConnection</code></a>
is called, then <code>True</code>.</td>
  </tr><tr class="instancevariable">
    
    
    <td>Instance Variable</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#producer">producer</a></td>
    <td>If a producer is currently registered, <code>producer</code> is a reference
to it.  Otherwise, <code>None</code>.</td>
  </tr><tr class="instancevariable">
    
    
    <td>Instance Variable</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#streaming">streaming</a></td>
    <td>If a producer is currently registered, <code>streaming</code> refers to the
value of the second parameter passed to <code>registerProducer</code>.</td>
  </tr><tr class="instancevariable">
    
    
    <td>Instance Variable</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#hostAddr">hostAddr</a></td>
    <td><code>None</code> or an object which will be returned as the host address 
of this transport.  If <code>None</code>, a nasty tuple will be returned 
instead.</td>
  </tr><tr class="instancevariable">
    
    
    <td>Instance Variable</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#peerAddr">peerAddr</a></td>
    <td><code>None</code> or an object which will be returned as the peer address 
of this transport.  If <code>None</code>, a nasty tuple will be returned 
instead.</td>
  </tr><tr class="instancevariable">
    
    
    <td>Instance Variable</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#producerState">producerState</a></td>
    <td>The state of this <a href="twisted.test.proto_helpers.StringTransport.html"><code>StringTransport</code></a>
in its capacity as an <a href="twisted.internet.interfaces.IPushProducer.html"><code>IPushProducer</code></a>.
One of <code>'producing'</code>, <code>'paused'</code>, or 
<code>'stopped'</code>.</td>
  </tr><tr class="instancevariable">
    
    
    <td>Instance Variable</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#io">io</a></td>
    <td>A <a href="http://docs.python.org/library/io.html#io.BytesIO"><code>BytesIO</code></a>
which holds the data which has been written to this transport since the 
last call to <a href="twisted.test.proto_helpers.StringTransport.html#clear"><code>clear</code></a>.
Use <a href="twisted.test.proto_helpers.StringTransport.html#value"><code>value</code></a>
instead of accessing this directly.</td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#__init__">__init__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#clear">clear</a></td>
    <td><span>Discard all data written to this transport so far.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#value">value</a></td>
    <td><span>Retrieve all data which has been buffered by this transport.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#write">write</a></td>
    <td><span>Write some data to the physical connection, in sequence, in a 
non-blocking fashion.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#writeSequence">writeSequence</a></td>
    <td><span>Write a list of strings to the physical connection.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#loseConnection">loseConnection</a></td>
    <td><span>Close the connection. Does nothing besides toggle the 
<code>disconnecting</code> instance variable to <code>True</code>.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#getPeer">getPeer</a></td>
    <td><span>Get the remote address of this connection.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#getHost">getHost</a></td>
    <td><span>Similar to getPeer, but returns an address describing this side of the 
connection.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#registerProducer">registerProducer</a></td>
    <td><span>Register to receive data from a producer.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#unregisterProducer">unregisterProducer</a></td>
    <td><span>Stop consuming data from a producer, without disconnecting.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#_checkState">_checkState</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#pauseProducing">pauseProducing</a></td>
    <td><span>Pause producing data.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#stopProducing">stopProducing</a></td>
    <td><span>Stop producing data.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.test.proto_helpers.StringTransport.html#resumeProducing">resumeProducing</a></td>
    <td><span>Resume producing data.</span></td>
  </tr>
</table>
      
    </div>
    
    

    <div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.disconnecting">
    
  </a>
  <a name="disconnecting">
    
  </a>
  <div class="functionHeader">
    disconnecting =
  </div>
  <div class="functionBody">
    A <code>bool</code> which is <code>False</code> until <a href="twisted.test.proto_helpers.StringTransport.html#loseConnection"><code>loseConnection</code></a>
is called, then <code>True</code>.
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.producer">
    
  </a>
  <a name="producer">
    
  </a>
  <div class="functionHeader">
    producer =
  </div>
  <div class="functionBody">
    If a producer is currently registered, <code>producer</code> is a reference
to it.  Otherwise, <code>None</code>.
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.streaming">
    
  </a>
  <a name="streaming">
    
  </a>
  <div class="functionHeader">
    streaming =
  </div>
  <div class="functionBody">
    If a producer is currently registered, <code>streaming</code> refers to the
value of the second parameter passed to <code>registerProducer</code>.
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.hostAddr">
    
  </a>
  <a name="hostAddr">
    
  </a>
  <div class="functionHeader">
    hostAddr =
  </div>
  <div class="functionBody">
    <code>None</code> or an object which will be returned as the host address 
of this transport.  If <code>None</code>, a nasty tuple will be returned 
instead.
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.peerAddr">
    
  </a>
  <a name="peerAddr">
    
  </a>
  <div class="functionHeader">
    peerAddr =
  </div>
  <div class="functionBody">
    <code>None</code> or an object which will be returned as the peer address 
of this transport.  If <code>None</code>, a nasty tuple will be returned 
instead.
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.producerState">
    
  </a>
  <a name="producerState">
    
  </a>
  <div class="functionHeader">
    producerState =
  </div>
  <div class="functionBody">
    The state of this <a href="twisted.test.proto_helpers.StringTransport.html"><code>StringTransport</code></a>
in its capacity as an <a href="twisted.internet.interfaces.IPushProducer.html"><code>IPushProducer</code></a>.
One of <code>'producing'</code>, <code>'paused'</code>, or 
<code>'stopped'</code>.
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.io">
    
  </a>
  <a name="io">
    
  </a>
  <div class="functionHeader">
    io =
  </div>
  <div class="functionBody">
    A <a href="http://docs.python.org/library/io.html#io.BytesIO"><code>BytesIO</code></a>
which holds the data which has been written to this transport since the 
last call to <a href="twisted.test.proto_helpers.StringTransport.html#clear"><code>clear</code></a>.
Use <a href="twisted.test.proto_helpers.StringTransport.html#value"><code>value</code></a>
instead of accessing this directly.
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, hostAddress=None, peerAddress=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L156" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.clear">
    
  </a>
  <a name="clear">
    
  </a>
  <div class="functionHeader">
    
    def
    clear(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L164" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Discard all data written to this transport so far.</p>
<p>This is not a transport method.  It is intended for tests.  Do not use 
it in implementation code.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.value">
    
  </a>
  <a name="value">
    
  </a>
  <div class="functionHeader">
    
    def
    value(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L174" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Retrieve all data which has been buffered by this transport.</p>
<p>This is not a transport method.  It is intended for tests.  Do not use 
it in implementation code.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A <code>bytes</code> giving all data written to this transport since the 
last call to <a href="twisted.test.proto_helpers.StringTransport.html#clear"><code>clear</code></a>. (type: <code>bytes</code>)</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.write">
    
  </a>
  <a name="write">
    
  </a>
  <div class="functionHeader">
    
    def
    write(self, data):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L189" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.ITransport.html#write">twisted.internet.interfaces.ITransport</a></div>
    <div><p>Write some data to the physical connection, in sequence, in a 
non-blocking fashion.</p>
<p>If possible, make sure that it is all written.  No data will ever be 
lost, although (obviously) the connection may be closed before it all gets 
through.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.writeSequence">
    
  </a>
  <a name="writeSequence">
    
  </a>
  <div class="functionHeader">
    
    def
    writeSequence(self, data):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L195" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.ITransport.html#writeSequence">twisted.internet.interfaces.ITransport</a></div>
    <div><p>Write a list of strings to the physical connection.</p>
<p>If possible, make sure that all of the data is written to the socket at 
once, without first copying it all into a single string.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.loseConnection">
    
  </a>
  <a name="loseConnection">
    
  </a>
  <div class="functionHeader">
    
    def
    loseConnection(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L199" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.ITransport.html#loseConnection">twisted.internet.interfaces.ITransport</a></div><div class="interfaceinfo">overridden in <a href="twisted.test.proto_helpers.StringTransportWithDisconnection.html">twisted.test.proto_helpers.StringTransportWithDisconnection</a></div>
    <div><p>Close the connection. Does nothing besides toggle the 
<code>disconnecting</code> instance variable to <code>True</code>.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.getPeer">
    
  </a>
  <a name="getPeer">
    
  </a>
  <div class="functionHeader">
    
    def
    getPeer(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L207" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.ITransport.html#getPeer">twisted.internet.interfaces.ITransport</a></div>
    <div><p>Get the remote address of this connection.</p>
<p>Treat this method with caution.  It is the unfortunate result of the CGI
and Jabber standards, but should not be considered reliable for the usual 
host of reasons; port forwarding, proxying, firewalls, IP masquerading, 
etc.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">An <a href="twisted.internet.interfaces.IAddress.html"><code>IAddress</code></a> 
provider.</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.getHost">
    
  </a>
  <a name="getHost">
    
  </a>
  <div class="functionHeader">
    
    def
    getHost(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L213" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.ITransport.html#getHost">twisted.internet.interfaces.ITransport</a></div>
    <div><p>Similar to getPeer, but returns an address describing this side of the 
connection.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">An <a href="twisted.internet.interfaces.IAddress.html"><code>IAddress</code></a> 
provider.</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.registerProducer">
    
  </a>
  <a name="registerProducer">
    
  </a>
  <div class="functionHeader">
    
    def
    registerProducer(self, producer, streaming):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L220" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IConsumer.html#registerProducer">twisted.internet.interfaces.IConsumer</a></div>
    <div><p>Register to receive data from a producer.</p>
<p>This sets self to be a consumer for a producer.  When this object runs 
out of data (as when a send(2) call on a socket succeeds in moving the last
data from a userspace buffer into a kernelspace buffer), it will ask the 
producer to resumeProducing().</p>
<p>For <a href="twisted.internet.interfaces.IPullProducer.html"><code>IPullProducer</code></a>
providers, <code>resumeProducing</code> will be called once each time data 
is required.</p>
<p>For <a href="twisted.internet.interfaces.IPushProducer.html"><code>IPushProducer</code></a>
providers, <code>pauseProducing</code> will be called whenever the write 
buffer fills up and <code>resumeProducing</code> will only be called when 
it empties.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streaming</td><td><code>True</code> if <code>producer</code> provides <a href="twisted.internet.interfaces.IPushProducer.html"><code>IPushProducer</code></a>,
<code>False</code> if <code>producer</code> provides <a href="twisted.internet.interfaces.IPullProducer.html"><code>IPullProducer</code></a>. (type: <code>bool</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><code>None</code></td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">RuntimeError</td><td>If a producer is already registered.</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.unregisterProducer">
    
  </a>
  <a name="unregisterProducer">
    
  </a>
  <div class="functionHeader">
    
    def
    unregisterProducer(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L227" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IConsumer.html#unregisterProducer">twisted.internet.interfaces.IConsumer</a></div>
    <div><p>Stop consuming data from a producer, without disconnecting.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport._checkState">
    
  </a>
  <a name="_checkState">
    
  </a>
  <div class="functionHeader">
    
    def
    _checkState(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L236" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.pauseProducing">
    
  </a>
  <a name="pauseProducing">
    
  </a>
  <div class="functionHeader">
    
    def
    pauseProducing(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L244" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IPushProducer.html#pauseProducing">twisted.internet.interfaces.IPushProducer</a></div>
    <div><p>Pause producing data.</p>
<p>Tells a producer that it has produced too much data to process for the 
time being, and to stop until resumeProducing() is called.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.stopProducing">
    
  </a>
  <a name="stopProducing">
    
  </a>
  <div class="functionHeader">
    
    def
    stopProducing(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L249" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProducer.html#stopProducing">twisted.internet.interfaces.IProducer</a></div>
    <div><p>Stop producing data.</p>
<p>This tells a producer that its consumer has died, so it must stop 
producing data for good.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.test.proto_helpers.StringTransport.resumeProducing">
    
  </a>
  <a name="resumeProducing">
    
  </a>
  <div class="functionHeader">
    
    def
    resumeProducing(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.1.0/twisted/test/proto_helpers.py#L253" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IPushProducer.html#resumeProducing">twisted.internet.interfaces.IPushProducer</a></div>
    <div><p>Resume producing data.</p>
<p>This tells a producer to re-add itself to the main loop and produce more
data for its consumer.</p><table class="fieldTable"></table></div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://launchpad.net/pydoctor/">pydoctor</a> at 2015-04-13 15:26:48.
    </address>
  </body>
</html>