<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.python.filepath.FilePath.setContent : API documentation</title>

    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link type="text/css" href="bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="apidocs.css" rel="stylesheet" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="navbar-brand">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div id="current-docs-container" class="container" style="display: none">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="method"><code>twisted.python.filepath.FilePath.setContent(self, content, ext='.new')</code> <small>method documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.python.html" data-type="Package" class="code">python</a>.<a href="twisted.python.filepath.html" data-type="Module" class="code">filepath</a>.<a href="twisted.python.filepath.FilePath.html" data-type="Class" class="code">FilePath</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-17.5.0/src/twisted/python/filepath.py#L1492">View Source</a>
          
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      

      <div class="moduleDocstring">
        <div><p>Replace the file at this path with a new file that contains the given 
bytes, trying to avoid data-loss in the meanwhile.</p>
<p>On UNIX-like platforms, this method does its best to ensure that by the 
time this method returns, either the old contents <i>or</i> the new 
contents of the file will be present at this path for subsequent readers 
regardless of premature device removal, program crash, or power loss, 
making the following assumptions:</p>
<ul>
  <li>
    your filesystem is journaled (i.e. your filesystem will not 
    <i>itself</i> lose data due to power loss)
  </li>
  <li>
    your filesystem's <code>rename()</code> is atomic
  </li>
  <li>
    your filesystem will not discard new data while preserving new metadata
    (see <a href="http://mjg59.livejournal.com/108257.html" target="_top">http://mjg59.livejournal.com/108257.html</a> for more 
    detail)
  </li>
</ul>
<p>On most versions of Windows there is no atomic <code>rename()</code> 
(see <a href="http://bit.ly/win32-overwrite" target="_top">http://bit.ly/win32-overwrite</a> for more information), so 
this method is slightly less helpful.  There is a small window where the 
file at this path may be deleted before the new file is moved to replace 
it: however, the new file will be fully written and flushed beforehand so 
in the unlikely event that there is a crash at that point, it should be 
possible for the user to manually recover the new version of their data.  
In the future, Twisted will support atomic file moves on those versions of 
Windows which <i>do</i> support them: see <a href="http://twistedmatrix.com/trac/ticket/3004" target="_top">Twisted 
ticket 3004</a>.</p>
<p>This method should be safe for use by multiple concurrent processes, but
note that it is not easy to predict which process's contents will 
ultimately end up on disk if they invoke this method at close to the same 
time.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">content</td><td>The desired contents of the file at this path. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr><tr><td></td><td class="fieldArg">ext</td><td>An extension to append to the temporary filename used to store the bytes 
while they are being written.  This can be used to make sure that temporary
files can be identified by their suffix, for cleanup in case of crashes. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr></table></div>
      </div>

      <div id="splitTables">
        
        

          
      </div>

      <div id="childList">

        

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2017-06-11 10:59:01.
      </address>

    </div>

    <script type="text/javascript" src="pydoctor.js"></script>

    <!-- Google analytics, obviously. -->
    <script type="text/javascript" src="//www.google-analytics.com/urchin.js"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>