<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;twisted.protocols.tls.TLSMemoryBIOProtocol&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">Class t.p.t.TLSMemoryBIOProtocol(<a href="twisted.protocols.policies.ProtocolWrapper.html">ProtocolWrapper</a>):</h1>
    <p>
      <span id="part">Part of <a href="twisted.html">twisted</a>.<a href="twisted.protocols.html">protocols</a>.<a href="twisted.protocols.tls.html">tls</a></span>
      <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L59">View Source</a>
      <a href="classIndex.html#twisted.protocols.tls.TLSMemoryBIOProtocol">View In Hierarchy</a>
    </p>
    <div>
      <p>Implements interfaces: <a href="twisted.internet.interfaces.ISSLTransport.html">twisted.internet.interfaces.ISSLTransport</a>, <a href="twisted.internet.interfaces.ISystemHandle.html">twisted.internet.interfaces.ISystemHandle</a></p>
    </div>
    <div><a 
href="twisted.protocols.tls.TLSMemoryBIOProtocol.html"><code>TLSMemoryBIOProtocol</code></a>
is a protocol wrapper which uses OpenSSL via a memory BIO to encrypt bytes 
written to it before sending them on to the underlying transport and 
decrypts bytes received from the underlying transport before delivering 
them to the wrapped protocol.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Instance Variables</td><td class="fieldArg">_tlsConnection</td><td>The <code>OpenSSL.SSL.Connection</code> instance which is encrypted and 
decrypting this connection.
</td></tr><tr><td></td><td class="fieldArg">_lostConnection</td><td>A flag indicating whether connection loss has already been dealt with 
(<code>True</code>) or not (<code>False</code>).
</td></tr><tr><td></td><td class="fieldArg">_writeBlockedOnRead</td><td>A flag indicating whether further writing must wait for data to be received
(<code>True</code>) or not (<code>False</code>).
</td></tr><tr><td></td><td class="fieldArg">_appSendBuffer</td><td>A <code>list</code> of <code>str</code> of application-level (cleartext) 
data which is waiting for <code>_writeBlockedOnRead</code> to be reset to 
<code>False</code> so it can be passed to and perhaps accepted by 
<code>_tlsConnection.send</code>.
</td></tr><tr><td></td><td class="fieldArg">_connectWrapped</td><td>A flag indicating whether or not to call <code>makeConnection</code> on the
wrapped protocol.  This is for the reactor's 
<code>ITLSTransport.startTLS</code> implementation, since it has a protocol
which it has already called <code>makeConnection</code> on, and which has 
no interest in a new transport.  See #3821.
</td></tr><tr><td></td><td class="fieldArg">_handshakeDone</td><td>A flag indicating whether or not the handshake is known to have completed 
successfully (<code>True</code>) or not (<code>False</code>).  This is used
to control error reporting behavior.  If the handshake has not completed, 
the underlying <code>OpenSSL.SSL.Error</code> will be passed to the 
application's <code>connectionLost</code> method.  If it has completed, any
unexpected <code>OpenSSL.SSL.Error</code> will be turned into a <a 
href="twisted.protocols.ftp.ConnectionLost.html"><code>ConnectionLost</code></a>.
This is weird; however, it is simply an attempt at a faithful 
re-implementation of the behavior provided by <a 
href="twisted.internet.ssl.html"><code>twisted.internet.ssl</code></a>.
</td></tr><tr><td></td><td class="fieldArg">_reason</td><td>If an unexpected <code>OpenSSL.SSL.Error</code> occurs which causes the 
connection to be lost, it is saved here.  If appropriate, this may be used 
as the reason passed to the application protocol's 
<code>connectionLost</code> method.
</td></tr></table></div>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id681">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#__init__">__init__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#getHandle">getHandle</a></td>
    <td><span>Return the <code>OpenSSL.SSL.Connection</code> object being used to 
encrypt and</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#makeConnection">makeConnection</a></td>
    <td><span>Connect this wrapper to the given transport and initialize the</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#dataReceived">dataReceived</a></td>
    <td><span>Deliver any received bytes to the receive BIO and then read and 
deliver</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#connectionLost">connectionLost</a></td>
    <td><span>Handle the possible repetition of calls to this method (due to 
either</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#loseConnection">loseConnection</a></td>
    <td><span>Send a TLS close alert and close the underlying connection.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#write">write</a></td>
    <td><span>Process the given application bytes and send any resulting TLS 
traffic</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#writeSequence">writeSequence</a></td>
    <td><span>Write a sequence of application bytes by joining them into one 
string</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#getPeerCertificate">getPeerCertificate</a></td>
    <td><span>Return an object with the peer's certificate info.</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#_flushSendBIO">_flushSendBIO</a></td>
    <td><span>Read any bytes out of the send BIO and write them to the underlying</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#_flushReceiveBIO">_flushReceiveBIO</a></td>
    <td><span>Try to receive any application-level bytes which are now available</span></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="twisted.protocols.policies.ProtocolWrapper.html">ProtocolWrapper</a>:
        </p>
        <table class="children sortable" id="id682">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.policies.ProtocolWrapper.html#getPeer">getPeer</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.policies.ProtocolWrapper.html#getHost">getHost</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.policies.ProtocolWrapper.html#registerProducer">registerProducer</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.policies.ProtocolWrapper.html#unregisterProducer">unregisterProducer</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.policies.ProtocolWrapper.html#stopConsuming">stopConsuming</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.protocols.policies.ProtocolWrapper.html#__getattr__">__getattr__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="twisted.internet.protocol.BaseProtocol.html">BaseProtocol</a> (via <a href="twisted.protocols.policies.ProtocolWrapper.html">ProtocolWrapper</a>, <a href="twisted.internet.protocol.Protocol.html">Protocol</a>):
        </p>
        <table class="children sortable" id="id683">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.protocol.BaseProtocol.html#connectionMade">connectionMade</a></td>
    <td><span>Called when a connection is made.</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, factory, wrappedProtocol, _connectWrapped=True):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L108" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.protocols.policies.ProtocolWrapper.html#__init__">twisted.protocols.policies.ProtocolWrapper.__init__</a></div>
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.getHandle">
    
  </a>
  <a name="getHandle">
    
  </a>
  <div class="functionHeader">
    
    def
    getHandle(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L113" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.ISystemHandle.html#getHandle">twisted.internet.interfaces.ISystemHandle</a></div>
    <div>Return the <code>OpenSSL.SSL.Connection</code> object being used to 
encrypt and decrypt this connection.</p>
<p>This is done for the benefit of <a 
href="twisted.internet.ssl.Certificate.html"><code>twisted.internet.ssl.Certificate</code></a>'s
<code>peerFromTransport</code> and <code>hostFromTransport</code> methods 
only.  A different system handle may be returned by future versions of this
method.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.makeConnection">
    
  </a>
  <a name="makeConnection">
    
  </a>
  <div class="functionHeader">
    
    def
    makeConnection(self, transport):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L126" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#makeConnection">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.protocols.policies.ProtocolWrapper.html#makeConnection">twisted.protocols.policies.ProtocolWrapper.makeConnection</a></div>
    <div>Connect this wrapper to the given transport and initialize the necessary
<code>OpenSSL.SSL.Connection</code> with a memory BIO.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol._flushSendBIO">
    
  </a>
  <a name="_flushSendBIO">
    
  </a>
  <div class="functionHeader">
    
    def
    _flushSendBIO(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L162" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Read any bytes out of the send BIO and write them to the underlying 
transport.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol._flushReceiveBIO">
    
  </a>
  <a name="_flushReceiveBIO">
    
  </a>
  <div class="functionHeader">
    
    def
    _flushReceiveBIO(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L176" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Try to receive any application-level bytes which are now available 
because of a previous write into the receive BIO.  This will take care of 
delivering any application-level bytes which are received to the protocol, 
as well as handling of the various exceptions which can come from trying to
get such bytes.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.dataReceived">
    
  </a>
  <a name="dataReceived">
    
  </a>
  <div class="functionHeader">
    
    def
    dataReceived(self, bytes):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L236" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#dataReceived">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.protocols.policies.ProtocolWrapper.html#dataReceived">twisted.protocols.policies.ProtocolWrapper.dataReceived</a></div>
    <div>Deliver any received bytes to the receive BIO and then read and deliver 
to the application any application-level data which becomes available as a 
result of this.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.connectionLost">
    
  </a>
  <a name="connectionLost">
    
  </a>
  <div class="functionHeader">
    
    def
    connectionLost(self, reason):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L258" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#connectionLost">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.protocols.policies.ProtocolWrapper.html#connectionLost">twisted.protocols.policies.ProtocolWrapper.connectionLost</a></div>
    <div>Handle the possible repetition of calls to this method (due to either 
the underlying transport going away or due to an error at the TLS layer) 
and make sure the base implementation only gets invoked once.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.loseConnection">
    
  </a>
  <a name="loseConnection">
    
  </a>
  <div class="functionHeader">
    
    def
    loseConnection(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L271" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.protocols.policies.ProtocolWrapper.html#loseConnection">twisted.protocols.policies.ProtocolWrapper.loseConnection</a></div>
    <div>Send a TLS close alert and close the underlying connection.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.write">
    
  </a>
  <a name="write">
    
  </a>
  <div class="functionHeader">
    
    def
    write(self, bytes):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L282" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.protocols.policies.ProtocolWrapper.html#write">twisted.protocols.policies.ProtocolWrapper.write</a></div>
    <div>Process the given application bytes and send any resulting TLS traffic 
which arrives in the send BIO.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.writeSequence">
    
  </a>
  <a name="writeSequence">
    
  </a>
  <div class="functionHeader">
    
    def
    writeSequence(self, iovec):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L317" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.protocols.policies.ProtocolWrapper.html#writeSequence">twisted.protocols.policies.ProtocolWrapper.writeSequence</a></div>
    <div>Write a sequence of application bytes by joining them into one string 
and passing them to <a 
href="twisted.protocols.tls.TLSMemoryBIOProtocol.html#write"><code>write</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.protocols.tls.TLSMemoryBIOProtocol.getPeerCertificate">
    
  </a>
  <a name="getPeerCertificate">
    
  </a>
  <div class="functionHeader">
    
    def
    getPeerCertificate(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-9.0.0/twisted/protocols/tls.py#L325" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.ISSLTransport.html#getPeerCertificate">twisted.internet.interfaces.ISSLTransport</a></div>
    <div>Return an object with the peer's certificate info.<table class="fieldTable"></table></div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2009-11-24 22:07:21.
    </address>

    <!-- Google analytics, obviously. -->
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>
  </body>
</html>