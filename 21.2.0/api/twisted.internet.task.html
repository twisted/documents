<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet.task : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            <a href="https://twistedmatrix.com/">Twisted</a> API Documentation
          </a>
        </div>
      </div>
    </nav>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><a href="twisted.html" class="code" data-type="Package">twisted</a>.<a href="twisted.internet.html" class="code" data-type="Package">internet</a>.<a href="twisted.internet.task.html" class="code" data-type="Module">task</a></code></h1>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Scheduling utility methods and classes.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1205">
  
  <tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.LoopingCall.html" class="code" data-type="Class">LoopingCall</a></td>
    <td><span>Call a function repeatedly.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.SchedulerError.html" class="code" data-type="Class">SchedulerError</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.SchedulerStopped.html" class="code" data-type="Class">SchedulerStopped</a></td>
    <td><span>The operation could not complete because the scheduler was stopped in progress or was already stopped.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.TaskFinished.html" class="code" data-type="Class">TaskFinished</a></td>
    <td><span>The operation could not complete because the task was already completed, stopped, encountered an error or otherwise permanently stopped running.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.TaskDone.html" class="code" data-type="Class">TaskDone</a></td>
    <td><span>The operation could not complete because the task was already completed.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.TaskStopped.html" class="code" data-type="Class">TaskStopped</a></td>
    <td><span>The operation could not complete because the task was stopped.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.TaskFailed.html" class="code" data-type="Class">TaskFailed</a></td>
    <td><span>The operation could not complete because the task died with an unhandled error.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.NotPaused.html" class="code" data-type="Class">NotPaused</a></td>
    <td><span>This exception is raised when a task is resumed which was not previously paused.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.CooperativeTask.html" class="code" data-type="Class">CooperativeTask</a></td>
    <td><span>A <a href="twisted.internet.task.CooperativeTask.html"><code>CooperativeTask</code></a> is a task object inside a <a href="twisted.internet.task.Cooperator.html"><code>Cooperator</code></a>, which can be paused, resumed, and stopped.  It can also have its completion (or termination) monitored.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.Cooperator.html" class="code" data-type="Class">Cooperator</a></td>
    <td><span>Cooperative task scheduler.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.task.html#coiterate" class="code" data-type="Function">coiterate</a></td>
    <td><span>Cooperatively iterate over the given iterator, dividing runtime between it and all other iterators which have been passed to this function and not yet exhausted.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.task.html#cooperate" class="code" data-type="Function">cooperate</a></td>
    <td><span>Start running the given iterator as a long-running cooperative task, by calling next() on it as a periodic timed event.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.task.Clock.html" class="code" data-type="Class">Clock</a></td>
    <td><span>Provide a deterministic, easily-controlled implementation of <a href="twisted.internet.interfaces.IReactorTime.html#callLater"><code>IReactorTime.callLater</code></a>.  This is commonly useful for writing deterministic unit tests for code which schedules events using this API.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.task.html#deferLater" class="code" data-type="Function">deferLater</a></td>
    <td><span>Call the given function after a certain period of time has passed.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.task.html#react" class="code" data-type="Function">react</a></td>
    <td><span>Call <code>main</code> and run the reactor until the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> it returns fires or the coroutine it returns completes.</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><a href="twisted.internet.task._Timer.html" class="code" data-type="Class">_Timer</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><a href="twisted.internet.task.html#_EPSILON" class="code" data-type="Variable">_EPSILON</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.internet.task.html#_defaultScheduler" class="code" data-type="Function">_defaultScheduler</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><a href="twisted.internet.task.html#_theCooperator" class="code" data-type="Variable">_theCooperator</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basevariable private">
  
  <a name="twisted.internet.task._EPSILON">
    
  </a>
  <a name="_EPSILON">
    
  </a>
  <div class="functionHeader">
    
    _EPSILON =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py#L349">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div> (type: <code><a href="https://docs.python.org/3/library/functions.html#float" class="code">float</a></code>)
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.internet.task._defaultScheduler">
    
  </a>
  <a name="_defaultScheduler">
    
  </a>
  <div class="functionHeader">
    
    def _defaultScheduler(x):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py#L352">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable private">
  
  <a name="twisted.internet.task._theCooperator">
    
  </a>
  <a name="_theCooperator">
    
  </a>
  <div class="functionHeader">
    
    _theCooperator =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py#L696">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.task.coiterate">
    
  </a>
  <a name="coiterate">
    
  </a>
  <div class="functionHeader">
    
    def coiterate(iterator):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py#L699">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Cooperatively iterate over the given iterator, dividing runtime between it and all other iterators which have been passed to this function and not yet exhausted.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">iterator</td><td>the iterator to invoke.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">a Deferred that will fire when the iterator finishes.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.task.cooperate">
    
  </a>
  <a name="cooperate">
    
  </a>
  <div class="functionHeader">
    
    def cooperate(iterator):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py#L712">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Start running the given iterator as a long-running cooperative task, by calling next() on it as a periodic timed event.</p><p>This is very useful if you have computationally expensive tasks that you want to run without blocking the reactor.  Just break each task up so that it yields frequently, pass it in here and the global <a href="twisted.internet.task.Cooperator.html"><code>Cooperator</code></a> will make sure work is distributed between them without blocking longer than a single iteration of a single task.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">iterator</td><td>the iterator to invoke.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">a <a href="twisted.internet.task.CooperativeTask.html"><code>CooperativeTask</code></a> object representing this task.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.task.deferLater">
    
  </a>
  <a name="deferLater">
    
  </a>
  <div class="functionHeader">
    
    def deferLater(clock, delay, callable=None, *args, **kw):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py#L810">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Call the given function after a certain period of time has passed.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">clock</td><td>The object which will be used to schedule the delayed call. (type: <a href="twisted.internet.interfaces.IReactorTime.html"><code>IReactorTime</code></a> provider)</td></tr><tr><td></td><td class="fieldArg">delay</td><td>The number of seconds to wait before calling the function. (type: <code>float</code> or <code>int</code>)</td></tr><tr><td></td><td class="fieldArg">callable</td><td>The object to call after the delay.</td></tr><tr><td></td><td class="fieldArg">args</td><td>The positional arguments to pass to <code>callable</code>.</td></tr><tr><td></td><td class="fieldArg">kw</td><td>The keyword arguments to pass to <code>callable</code>.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A deferred that fires with the result of the callable when the specified time has elapsed. (type: <a href="twisted.internet.defer.Deferred.html"><code>defer.Deferred</code></a>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.task.react">
    
  </a>
  <a name="react">
    
  </a>
  <div class="functionHeader">
    
    def react(main, argv=(), _reactor=None):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/task.py#L843">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Call <code>main</code> and run the reactor until the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> it returns fires or the coroutine it returns completes.</p><p>This is intended as the way to start up an application with a well-defined completion condition.  Use it to write clients or one-off asynchronous operations.  Prefer this to calling <code>reactor.run</code> directly, as this function will also:</p><ul><li>Take care to call <code>reactor.stop</code> once and only once, and at the right time.</li><li>Log any failures from the <code>Deferred</code> returned by <code>main</code>.</li><li>Exit the application when done, with exit code 0 in case of success and 1 in case of failure. If <code>main</code> fails with a <code>SystemExit</code> error, the code returned is used.</li></ul><p>The following demonstrates the signature of a <code>main</code> function which can be used with <a href="twisted.internet.task.html#react"><code>react</code></a>:</p><pre class="literalblock">
      async def main(reactor, username, password):
          return "ok"

      task.react(main, ("alice", "secret"))
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">main</td><td>A callable which returns a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> or coroutine. It should take the reactor as its first parameter, followed by the elements of <code>argv</code>.</td></tr><tr><td></td><td class="fieldArg">argv</td><td>A list of arguments to pass to <code>main</code>. If omitted the callable will be invoked with no additional arguments.</td></tr><tr><td></td><td class="fieldArg">_reactor</td><td>An implementation detail to allow easier unit testing.  Do not supply this parameter.</td></tr><tr class="fieldStart"><td class="fieldName">Present Since</td><td colspan="2">12.3</td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 20.12.1 at 2021-02-28 19:53:36.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>