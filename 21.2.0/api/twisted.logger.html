<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.logger : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            <a href="https://twistedmatrix.com/">Twisted</a> API Documentation
          </a>
        </div>
      </div>
    </nav>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="package"><code><a href="twisted.html" class="code" data-type="Package">twisted</a>.<a href="twisted.logger.html" class="code" data-type="Package">logger</a></code></h1>
      </div>

      <div class="categoryHeader">
        package documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/__init__.py">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Twisted Logger: Classes and functions to do granular logging.</p><p>Example usage in a module <code>some.module</code>:</p><pre class="literalblock">
    from twisted.logger import Logger
    log = Logger()

    def handleData(data):
        log.debug("Got data: {data!r}.", data=data)
</pre><p>Or in a class:</p><pre class="literalblock">
    from twisted.logger import Logger

    class Foo:
        log = Logger()

        def oops(self, data):
            self.log.error("Oops! Invalid data from server: {data!r}",
                           data=data)
</pre><p><code>Logger</code>s have namespaces, for which logging can be configured independently. Namespaces may be specified by passing in a <code>namespace</code> argument to <a href="twisted.logger.Logger.html"><code>Logger</code></a> when instantiating it, but if none is given, the logger will derive its own namespace by using the module name of the callable that instantiated it, or, in the case of a class, by using the fully qualified name of the class.</p><p>In the first example above, the namespace would be <code>some.module</code>, and in the second example, it would be <code>some.module.Foo</code>.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1382">
  
  <tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._buffer.html" class="code" data-type="Module">_buffer</a></td>
    <td><span>Log observer that maintains a buffer.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._capture.html" class="code" data-type="Module">_capture</a></td>
    <td><span>Context manager for capturing logs.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._file.html" class="code" data-type="Module">_file</a></td>
    <td><span>File log observer.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._filter.html" class="code" data-type="Module">_filter</a></td>
    <td><span>Filtering log observer.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._flatten.html" class="code" data-type="Module">_flatten</a></td>
    <td><span>Code related to "flattening" events; that is, extracting a description of all relevant fields from the format string and persisting them for later examination.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._format.html" class="code" data-type="Module">_format</a></td>
    <td><span>Tools for formatting logging events.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._global.html" class="code" data-type="Module">_global</a></td>
    <td><span>This module includes process-global state associated with the logging system, and implementation of logic for managing that global state.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._interfaces.html" class="code" data-type="Module">_interfaces</a></td>
    <td><span>Logger interfaces.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._io.html" class="code" data-type="Module">_io</a></td>
    <td><span>File-like object that logs.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._json.html" class="code" data-type="Module">_json</a></td>
    <td><span>Tools for saving and loading log events in a structured format.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._legacy.html" class="code" data-type="Module">_legacy</a></td>
    <td><span>Integration with <a href="twisted.python.log.html"><code>twisted.python.log</code></a>.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._levels.html" class="code" data-type="Module">_levels</a></td>
    <td><span>Log levels.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._logger.html" class="code" data-type="Module">_logger</a></td>
    <td><span>Logger class.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._observer.html" class="code" data-type="Module">_observer</a></td>
    <td><span>Basic log observers.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._stdlib.html" class="code" data-type="Module">_stdlib</a></td>
    <td><span>Integration with Python standard library logging.</span></td>
  </tr><tr class="module private">
    
    <td>Module</td>
    <td><a href="twisted.logger._util.html" class="code" data-type="Module">_util</a></td>
    <td><span>Logging utilities.</span></td>
  </tr>
</table>
        

          <p class="fromInitPy">From the <code>__init__.py</code> module:</p><table class="children sortable" id="id1383">
  
  <tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.FileLogObserver.html" class="code" data-type="Class">FileLogObserver</a></td>
    <td><span>Log observer that writes to a file-like object.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.FilteringLogObserver.html" class="code" data-type="Class">FilteringLogObserver</a></td>
    <td><span><a href="twisted.logger.ILogObserver.html"><code>ILogObserver</code></a> that wraps another <a href="twisted.logger.ILogObserver.html"><code>ILogObserver</code></a>, but filters out events based on applying a series of <a href="twisted.logger.ILogFilterPredicate.html"><code>ILogFilterPredicate</code></a>s.</span></td>
  </tr><tr class="interface">
    
    <td>Interface</td>
    <td><a href="twisted.logger.ILogFilterPredicate.html" class="code" data-type="Interface">ILogFilterPredicate</a></td>
    <td><span>A predicate that determined whether an event should be logged.</span></td>
  </tr><tr class="interface">
    
    <td>Interface</td>
    <td><a href="twisted.logger.ILogObserver.html" class="code" data-type="Interface">ILogObserver</a></td>
    <td><span>An observer which can handle log events.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.InvalidLogLevelError.html" class="code" data-type="Class">InvalidLogLevelError</a></td>
    <td><span>Someone tried to use a <a href="twisted.logger.LogLevel.html"><code>LogLevel</code></a> that is unknown to the logging system.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.LegacyLogObserverWrapper.html" class="code" data-type="Class">LegacyLogObserverWrapper</a></td>
    <td><span><a href="twisted.logger.ILogObserver.html"><code>ILogObserver</code></a> that wraps a <a href="twisted.python.log.ILogObserver.html"><code>twisted.python.log.ILogObserver</code></a>.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.LimitedHistoryLogObserver.html" class="code" data-type="Class">LimitedHistoryLogObserver</a></td>
    <td><span><a href="twisted.logger.ILogObserver.html"><code>ILogObserver</code></a> that stores events in a buffer of a fixed size:</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.LogBeginner.html" class="code" data-type="Class">LogBeginner</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><a href="twisted.logger.html#LogEvent" class="code" data-type="Variable">LogEvent</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.LogLevel.html" class="code" data-type="Class">LogLevel</a></td>
    <td><span>Constants describing log levels.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.LogLevelFilterPredicate.html" class="code" data-type="Class">LogLevelFilterPredicate</a></td>
    <td><span><a href="twisted.logger.ILogFilterPredicate.html"><code>ILogFilterPredicate</code></a> that filters out events with a log level lower than the log level for the event's namespace.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.LogPublisher.html" class="code" data-type="Class">LogPublisher</a></td>
    <td><span><i>ILogObserver</i> that fans out events to other observers.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.Logger.html" class="code" data-type="Class">Logger</a></td>
    <td><span>A <a href="twisted.logger.Logger.html"><code>Logger</code></a> emits log messages to an observer.  You should instantiate it as a class or module attribute, as documented in <a href="twisted.logger.html"><code>this module's documentation</code></a>.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.LoggingFile.html" class="code" data-type="Class">LoggingFile</a></td>
    <td><span>File-like object that turns <code>write()</code> calls into logging events.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.PredicateResult.html" class="code" data-type="Class">PredicateResult</a></td>
    <td><span>Predicate results.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.logger.STDLibLogObserver.html" class="code" data-type="Class">STDLibLogObserver</a></td>
    <td><span>Log observer that writes to the python standard library's <code>logging</code> module.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#capturedLogs" class="code" data-type="Function">capturedLogs</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#eventAsJSON" class="code" data-type="Function">eventAsJSON</a></td>
    <td><span>Encode an event as JSON, flattening it if necessary to preserve as much structure as possible.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#eventAsText" class="code" data-type="Function">eventAsText</a></td>
    <td><span>Format an event as text.  Optionally, attach timestamp, traceback, and system information.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#eventFromJSON" class="code" data-type="Function">eventFromJSON</a></td>
    <td><span>Decode a log event from JSON.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#eventsFromJSONLogFile" class="code" data-type="Function">eventsFromJSONLogFile</a></td>
    <td><span>Load events from a file previously saved with <a href="twisted.logger.html#jsonFileLogObserver"><code>jsonFileLogObserver</code></a>. Event records that are truncated or otherwise unreadable are ignored.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#extractField" class="code" data-type="Function">extractField</a></td>
    <td><span>Extract a given format field from the given event.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#formatEvent" class="code" data-type="Function">formatEvent</a></td>
    <td><span>Formats an event as text, using the format in <code>event["log_format"]</code>.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#formatEventAsClassicLogText" class="code" data-type="Function">formatEventAsClassicLogText</a></td>
    <td><span>Format an event as a line of human-readable text for, e.g. traditional log file output.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#formatTime" class="code" data-type="Function">formatTime</a></td>
    <td><span>Format a timestamp as text.</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><a href="twisted.logger.html#globalLogBeginner" class="code" data-type="Variable">globalLogBeginner</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><a href="twisted.logger.html#globalLogPublisher" class="code" data-type="Variable">globalLogPublisher</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#jsonFileLogObserver" class="code" data-type="Function">jsonFileLogObserver</a></td>
    <td><span>Create a <a href="twisted.logger.FileLogObserver.html"><code>FileLogObserver</code></a> that emits JSON-serialized events to a specified (writable) file-like object.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.logger.html#textFileLogObserver" class="code" data-type="Function">textFileLogObserver</a></td>
    <td><span>Create a <a href="twisted.logger.FileLogObserver.html"><code>FileLogObserver</code></a> that emits text to a specified (writable) file-like object.</span></td>
  </tr><tr class="variable">
    
    <td>Variable</td>
    <td><a href="twisted.logger.html#timeFormatRFC3339" class="code" data-type="Variable">timeFormatRFC3339</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><a href="twisted.logger.html#_loggerFor" class="code" data-type="Variable">_loggerFor</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
      </div>

      <div id="childList">

        <div class="basevariable">
  
  <a name="twisted.logger.globalLogPublisher">
    
  </a>
  <a name="globalLogPublisher">
    
  </a>
  <div class="functionHeader">
    
    globalLogPublisher =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_global.py#L227">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable">
  
  <a name="twisted.logger.globalLogBeginner">
    
  </a>
  <a name="globalLogBeginner">
    
  </a>
  <div class="functionHeader">
    
    globalLogBeginner =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_global.py#L228">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.extractField">
    
  </a>
  <a name="extractField">
    
  </a>
  <div class="functionHeader">
    
    def extractField(field, event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_flatten.py#L124">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Extract a given format field from the given event.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">field</td><td>A string describing a format field or log key.  This is the text that would normally fall between a pair of curly braces in a format string: for example, <code>"key[2].attribute"</code>.  If a conversion is specified (the thing after the <code>"!"</code> character in a format field) then the result will always be str. (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr><tr><td></td><td class="fieldArg">event</td><td>A log event. (type: <code><a href="twisted.logger.html#LogEvent" class="code">LogEvent</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A value extracted from the field. (type: <code>Any</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">KeyError</td><td>if the field is not found in the given event.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.formatEvent">
    
  </a>
  <a name="formatEvent">
    
  </a>
  <div class="functionHeader">
    
    def formatEvent(event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_format.py#L26">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Formats an event as text, using the format in <code>event["log_format"]</code>.</p><p>This implementation should never raise an exception; if the formatting cannot be done, the returned string will describe the event generically so that a useful message is emitted regardless.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>A logging event. (type: <code><a href="twisted.logger.html#LogEvent" class="code">LogEvent</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A formatted string. (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.formatEventAsClassicLogText">
    
  </a>
  <a name="formatEventAsClassicLogText">
    
  </a>
  <div class="functionHeader">
    
    def formatEventAsClassicLogText(event, formatTime=formatTime):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_format.py#L116">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format an event as a line of human-readable text for, e.g. traditional log file output.</p><p>The output format is <code>"{timeStamp} [{system}] {event}\n"</code>, where:</p><ul><li><code>timeStamp</code> is computed by calling the given <code>formatTime</code> callable on the event's <code>"log_time"</code> value</li><li><code>system</code> is the event's <code>"log_system"</code> value, if set, otherwise, the <code>"log_namespace"</code> and <code>"log_level"</code>, joined by a <code>"#"</code>.  Each defaults to <code>"-"</code> is not set.</li><li><code>event</code> is the event, as formatted by <a href="twisted.logger.html#formatEvent"><code>formatEvent</code></a>.</li></ul><p>Example:</p><pre class="literalblock">
    &gt;&gt;&gt; from time import time
    &gt;&gt;&gt; from twisted.logger import formatEventAsClassicLogText
    &gt;&gt;&gt; from twisted.logger import LogLevel
    &gt;&gt;&gt;
    &gt;&gt;&gt; formatEventAsClassicLogText(dict())  # No format, returns None
    &gt;&gt;&gt; formatEventAsClassicLogText(dict(log_format="Hello!"))
    u'- [-#-] Hello!\n'
    &gt;&gt;&gt; formatEventAsClassicLogText(dict(
    ...     log_format="Hello!",
    ...     log_time=time(),
    ...     log_namespace="my_namespace",
    ...     log_level=LogLevel.info,
    ... ))
    u'2013-10-22T17:30:02-0700 [my_namespace#info] Hello!\n'
    &gt;&gt;&gt; formatEventAsClassicLogText(dict(
    ...     log_format="Hello!",
    ...     log_time=time(),
    ...     log_system="my_system",
    ... ))
    u'2013-11-11T17:22:06-0800 [my_system] Hello!\n'
    &gt;&gt;&gt;
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>an event. (type: <code><a href="twisted.logger.html#LogEvent" class="code">LogEvent</a></code>)</td></tr><tr><td></td><td class="fieldArg">formatTime</td><td>A time formatter (type: <code>Callable[[Optional[<a href="https://docs.python.org/3/library/functions.html#float" class="code">float</a>]], <a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a>]</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A formatted event, or <a href="https://docs.python.org/3/library/constants.html#None"><code>None</code></a> if no output is appropriate. (type: <code>Optional[<a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a>]</code>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.formatTime">
    
  </a>
  <a name="formatTime">
    
  </a>
  <div class="functionHeader">
    
    def formatTime(when, timeFormat=timeFormatRFC3339, default='-'):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_format.py#L82">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format a timestamp as text.</p><p>Example:</p><pre class="literalblock">
    &gt;&gt;&gt; from time import time
    &gt;&gt;&gt; from twisted.logger import formatTime
    &gt;&gt;&gt;
    &gt;&gt;&gt; t = time()
    &gt;&gt;&gt; formatTime(t)
    u'2013-10-22T14:19:11-0700'
    &gt;&gt;&gt; formatTime(t, timeFormat="%Y/%W")  # Year and week number
    u'2013/42'
    &gt;&gt;&gt;
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">when</td><td>A timestamp. (type: <code>Optional[<a href="https://docs.python.org/3/library/functions.html#float" class="code">float</a>]</code>)</td></tr><tr><td></td><td class="fieldArg">timeFormat</td><td>A time format. (type: <code>Optional[<a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a>]</code>)</td></tr><tr><td></td><td class="fieldArg">default</td><td>Text to return if <code>when</code> or <code>timeFormat</code> is <a href="https://docs.python.org/3/library/constants.html#None"><code>None</code></a>. (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A formatted time. (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  <a name="twisted.logger.timeFormatRFC3339">
    
  </a>
  <a name="timeFormatRFC3339">
    
  </a>
  <div class="functionHeader">
    
    timeFormatRFC3339 =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_format.py#L23">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div> (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.eventAsText">
    
  </a>
  <a name="eventAsText">
    
  </a>
  <div class="functionHeader">
    
    def eventAsText(event, includeTraceback=True, includeTimestamp=True, includeSystem=True, formatTime=formatTime):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_format.py#L313">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Format an event as text.  Optionally, attach timestamp, traceback, and system information.</p><p>The full output format is: <code>"{timeStamp} [{system}] {event}\n{traceback}\n"</code> where:</p><ul><li><code>timeStamp</code> is the event's <code>"log_time"</code> value formatted with the provided <code>formatTime</code> callable.</li><li><code>system</code> is the event's <code>"log_system"</code> value, if set, otherwise, the <code>"log_namespace"</code> and <code>"log_level"</code>, joined by a <code>"#"</code>.  Each defaults to <code>"-"</code> is not set.</li><li><code>event</code> is the event, as formatted by <a href="twisted.logger.html#formatEvent"><code>formatEvent</code></a>.</li><li><code>traceback</code> is the traceback if the event contains a <code>"log_failure"</code> key.  In the event the original traceback cannot be formatted, a message indicating the failure will be substituted.</li></ul><p>If the event cannot be formatted, and no traceback exists, an empty string is returned, even if includeSystem or includeTimestamp are true.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>A logging event. (type: <code><a href="twisted.logger.html#LogEvent" class="code">LogEvent</a></code>)</td></tr><tr><td></td><td class="fieldArg">includeTraceback</td><td>If true and a <code>"log_failure"</code> key exists, append a traceback. (type: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="code">bool</a></code>)</td></tr><tr><td></td><td class="fieldArg">includeTimestamp</td><td>If true include a formatted timestamp before the event. (type: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="code">bool</a></code>)</td></tr><tr><td></td><td class="fieldArg">includeSystem</td><td>If true, include the event's <code>"log_system"</code> value. (type: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="code">bool</a></code>)</td></tr><tr><td></td><td class="fieldArg">formatTime</td><td>A time formatter (type: <code>Callable[[<a href="https://docs.python.org/3/library/functions.html#float" class="code">float</a>], <a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a>]</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A formatted string with specified options. (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Present Since</td><td colspan="2">Twisted 18.9.0</td></tr></table></div>
  </div>
</div><div class="basevariable">
  
  <a name="twisted.logger.LogEvent">
    
  </a>
  <a name="LogEvent">
    
  </a>
  <div class="functionHeader">
    
    LogEvent =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_interfaces.py#L16">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basevariable private">
  
  <a name="twisted.logger._loggerFor">
    
  </a>
  <a name="_loggerFor">
    
  </a>
  <div class="functionHeader">
    
    _loggerFor =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_logger.py#L270">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.textFileLogObserver">
    
  </a>
  <a name="textFileLogObserver">
    
  </a>
  <div class="functionHeader">
    
    def textFileLogObserver(outFile, timeFormat=timeFormatRFC3339):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_file.py#L59">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a <a href="twisted.logger.FileLogObserver.html"><code>FileLogObserver</code></a> that emits text to a specified (writable) file-like object.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">outFile</td><td>A file-like object.  Ideally one should be passed which accepts text data.  Otherwise, UTF-8 <a href="https://docs.python.org/3/library/stdtypes.html#bytes"><code>bytes</code></a> will be used. (type: <code>IO[Any]</code>)</td></tr><tr><td></td><td class="fieldArg">timeFormat</td><td>The format to use when adding timestamp prefixes to logged events.  If <a href="https://docs.python.org/3/library/constants.html#None"><code>None</code></a>, or for events with no <code>"log_timestamp"</code> key, the default timestamp prefix of <code>"-"</code> is used. (type: <code>Optional[<a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a>]</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A file log observer. (type: <code><a href="twisted.logger.FileLogObserver.html" class="code">FileLogObserver</a></code>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.eventAsJSON">
    
  </a>
  <a name="eventAsJSON">
    
  </a>
  <div class="functionHeader">
    
    def eventAsJSON(event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_json.py#L121">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Encode an event as JSON, flattening it if necessary to preserve as much structure as possible.</p><p>Not all structure from the log event will be preserved when it is serialized.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>A log event dictionary. (type: <code><a href="twisted.logger.html#LogEvent" class="code">LogEvent</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A string of the serialized JSON; note that this will contain no newline characters, and may thus safely be stored in a line-delimited file. (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.eventFromJSON">
    
  </a>
  <a name="eventFromJSON">
    
  </a>
  <div class="functionHeader">
    
    def eventFromJSON(eventText):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_json.py#L152">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Decode a log event from JSON.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">eventText</td><td>The output of a previous call to <a href="twisted.logger.html#eventAsJSON"><code>eventAsJSON</code></a> (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A reconstructed version of the log event. (type: <code>JSONDict</code>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.jsonFileLogObserver">
    
  </a>
  <a name="jsonFileLogObserver">
    
  </a>
  <div class="functionHeader">
    
    def jsonFileLogObserver(outFile, recordSeparator='\x1e'):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_json.py#L163">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a <a href="twisted.logger.FileLogObserver.html"><code>FileLogObserver</code></a> that emits JSON-serialized events to a specified (writable) file-like object.</p><p>Events are written in the following form:</p><pre class="literalblock">
    RS + JSON + NL
</pre><p><code>JSON</code> is the serialized event, which is JSON text.  <code>NL</code> is a newline (<code>"\n"</code>).  <code>RS</code> is a record separator.  By default, this is a single RS character (<code>"\x1e"</code>), which makes the default output conform to the IETF draft document "draft-ietf-json-text-sequence-13".</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">outFile</td><td>A file-like object.  Ideally one should be passed which accepts <a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str</code></a> data.  Otherwise, UTF-8 <a href="https://docs.python.org/3/library/stdtypes.html#bytes"><code>bytes</code></a> will be used. (type: <code>IO[Any]</code>)</td></tr><tr><td></td><td class="fieldArg">recordSeparator</td><td>The record separator to use. (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A file log observer. (type: <code><a href="twisted.logger.FileLogObserver.html" class="code">FileLogObserver</a></code>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.eventsFromJSONLogFile">
    
  </a>
  <a name="eventsFromJSONLogFile">
    
  </a>
  <div class="functionHeader">
    
    def eventsFromJSONLogFile(inFile, recordSeparator=None, bufferSize=4096):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_json.py#L190">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Load events from a file previously saved with <a href="twisted.logger.html#jsonFileLogObserver"><code>jsonFileLogObserver</code></a>. Event records that are truncated or otherwise unreadable are ignored.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">inFile</td><td>A (readable) file-like object.  Data read from <code>inFile</code> should be <a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str</code></a> or UTF-8 <a href="https://docs.python.org/3/library/stdtypes.html#bytes"><code>bytes</code></a>. (type: <code>IO[Any]</code>)</td></tr><tr><td></td><td class="fieldArg">recordSeparator</td><td>The expected record separator. If <a href="https://docs.python.org/3/library/constants.html#None"><code>None</code></a>, attempt to automatically detect the record separator from one of <code>"\x1e"</code> or <code>""</code>. (type: <code>Optional[<a href="https://docs.python.org/3/library/stdtypes.html#str" class="code">str</a>]</code>)</td></tr><tr><td></td><td class="fieldArg">bufferSize</td><td>The size of the read buffer used while reading from <code>inFile</code>. (type: <code><a href="https://docs.python.org/3/library/functions.html#int" class="code">int</a></code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">Log events as read from <code>inFile</code>. (type: <code>Iterable[<a href="twisted.logger.html#LogEvent" class="code">LogEvent</a>]</code>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.logger.capturedLogs">
    
  </a>
  <a name="capturedLogs">
    
  </a>
  <div class="functionHeader">
    @contextmanager<br />
    def capturedLogs():
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/logger/_capture.py#L17">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><span class="undocumented">Undocumented</span> (type: <code>Iterator[Sequence[<a href="twisted.logger.html#LogEvent" class="code">LogEvent</a>]]</code>)</td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 20.12.1 at 2021-02-28 19:53:36.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>