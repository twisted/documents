<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.python.context.ContextTracker : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            <a href="https://twistedmatrix.com/">Twisted</a> API Documentation
          </a>
        </div>
      </div>
    </nav>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><a href="twisted.html" class="code" data-type="Package">twisted</a>.<a href="twisted.python.html" class="code" data-type="Package">python</a>.<a href="twisted.python.context.html" class="code" data-type="Module">context</a>.<a href="twisted.python.context.ContextTracker.html" class="code" data-type="Class">ContextTracker</a></code></h1>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> twisted.python.context.ContextTracker: <a href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/python/context.py#L25">(source)</a></code></p>
        <p><a href="classIndex.html#twisted.python.context.ContextTracker">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>A <a href="twisted.python.context.ContextTracker.html"><code>ContextTracker</code></a> provides a way to pass arbitrary key/value data up and down a call stack without passing them as parameters to the functions on that call stack.</p><p>This can be useful when functions on the top and bottom of the call stack need to cooperate but the functions in between them do not allow passing the necessary state.  For example:</p><pre class="literalblock">
    from twisted.python.context import call, get

    def handleRequest(request):
        call({'request-id': request.id}, renderRequest, request.url)

    def renderRequest(url):
        renderHeader(url)
        renderBody(url)

    def renderHeader(url):
        return "the header"

    def renderBody(url):
        return "the body (request id=%r)" % (get("request-id"),)
</pre><p>This should be used sparingly, since the lack of a clear connection between the two halves can result in code which is difficult to understand and maintain.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id2562">
  
  <tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.python.context.ContextTracker.html#contexts" class="code" data-type="Instance Variable">contexts</a></td>
    <td><span>A <code>list</code> of <code>dict</code>s tracking the context state.  Each new <a href="twisted.python.context.ContextTracker.html#callWithContext"><code>ContextTracker.callWithContext</code></a> pushes a new <code>dict</code> onto this stack for the duration of the call, making the data available to the function called and restoring the previous data once it is complete..</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.python.context.ContextTracker.html#__init__" class="code" data-type="Method">__init__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.python.context.ContextTracker.html#callWithContext" class="code" data-type="Method">callWithContext</a></td>
    <td><span>Call <code>func(*args, **kw)</code> such that the contents of <code>newContext</code> will be available for it to retrieve using <a href="twisted.python.context.ContextTracker.html#getContext"><code>getContext</code></a>.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.python.context.ContextTracker.html#getContext" class="code" data-type="Method">getContext</a></td>
    <td><span>Retrieve the value for a key from the context.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="baseinstancevariable">
  
  <a name="twisted.python.context.ContextTracker.contexts">
    
  </a>
  <a name="contexts">
    
  </a>
  <div class="functionHeader">
    
    contexts =
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/python/context.py#L54">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div>A <code>list</code> of <code>dict</code>s tracking the context state.  Each new <a href="twisted.python.context.ContextTracker.html#callWithContext"><code>ContextTracker.callWithContext</code></a> pushes a new <code>dict</code> onto this stack for the duration of the call, making the data available to the function called and restoring the previous data once it is complete..</div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.python.context.ContextTracker.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def __init__(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/python/context.py#L60">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.python.context.ContextTracker.callWithContext">
    
  </a>
  <a name="callWithContext">
    
  </a>
  <div class="functionHeader">
    
    def callWithContext(self, newContext, func, *args, **kw):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/python/context.py#L63">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Call <code>func(*args, **kw)</code> such that the contents of <code>newContext</code> will be available for it to retrieve using <a href="twisted.python.context.ContextTracker.html#getContext"><code>getContext</code></a>.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">newContext</td><td>A <code>dict</code> of data to push onto the context for the duration of the call to <code>func</code>.</td></tr><tr><td></td><td class="fieldArg">func</td><td>A callable which will be called.</td></tr><tr><td></td><td class="fieldArg">args</td><td>Any additional positional arguments to pass to <code>func</code>.</td></tr><tr><td></td><td class="fieldArg">kw</td><td>Any additional keyword arguments to pass to <code>func</code>.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">Whatever is returned by <code>func</code></td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">Exception</td><td>Whatever is raised by <code>func</code>.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.python.context.ContextTracker.getContext">
    
  </a>
  <a name="getContext">
    
  </a>
  <div class="functionHeader">
    
    def getContext(self, key, default=None):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/python/context.py#L87">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Retrieve the value for a key from the context.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">key</td><td>The key to look up in the context.</td></tr><tr><td></td><td class="fieldArg">default</td><td>The value to return if <code>key</code> is not found in the context.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">The value most recently remembered in the context for <code>key</code>.</td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 20.12.1 at 2021-02-28 19:53:36.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>