<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet._threadedselect : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            <a href="https://twistedmatrix.com/">Twisted</a> API Documentation
          </a>
        </div>
      </div>
    </nav>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="module private"><code><a href="twisted.html" class="code" data-type="Package">twisted</a>.<a href="twisted.internet.html" class="code" data-type="Package">internet</a>.<a href="twisted.internet._threadedselect.html" class="code" data-type="Module">_threadedselect</a></code></h1>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/_threadedselect.py">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p>Threaded select reactor</p><p>The threadedselectreactor is a specialized reactor for integrating with arbitrary foreign event loop, such as those you find in GUI toolkits.</p><p>There are three things you'll need to do to use this reactor.</p><p>Install the reactor at the beginning of your program, before importing the rest of Twisted:</p><pre class="literalblock">
    | from twisted.internet import _threadedselect
    | _threadedselect.install()
</pre><p>Interleave this reactor with your foreign event loop, at some point after your event loop is initialized:</p><pre class="literalblock">
    | from twisted.internet import reactor
    | reactor.interleave(foreignEventLoopWakerFunction)
    | self.addSystemEventTrigger('after', 'shutdown', foreignEventLoopStop)
</pre><p>Instead of shutting down the foreign event loop directly, shut down the reactor:</p><pre class="literalblock">
    | from twisted.internet import reactor
    | reactor.stop()
</pre><p>In order for Twisted to do its work in the main thread (the thread that interleave is called from), a waker function is necessary.  The waker function will be called from a "background" thread with one argument: func. The waker function's purpose is to call func() from the main thread. Many GUI toolkits ship with appropriate waker functions. Some examples of this are wxPython's wx.callAfter (may be wxCallAfter in older versions of wxPython) or PyObjC's PyObjCTools.AppHelper.callAfter. These would be used in place of "foreignEventLoopWakerFunction" in the above example.</p><p>The other integration point at which the foreign event loop and this reactor must integrate is shutdown.  In order to ensure clean shutdown of Twisted, you must allow for Twisted to come to a complete stop before quitting the application.  Typically, you will do this by setting up an after shutdown trigger to stop your foreign event loop, and call reactor.stop() where you would normally have initiated the shutdown procedure for the foreign event loop.  Shutdown functions that could be used in place of "foreignEventloopStop" would be the ExitMainLoop method of the wxApp instance with wxPython, or the PyObjCTools.AppHelper.stopEventLoop function.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id662">
  
  <tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet._threadedselect.html#dictRemove" class="code" data-type="Function">dictRemove</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet._threadedselect.html#raiseException" class="code" data-type="Function">raiseException</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet._threadedselect.ThreadedSelectReactor.html" class="code" data-type="Class">ThreadedSelectReactor</a></td>
    <td><span>A threaded select() based reactor - runs on all POSIX platforms and on Win32.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet._threadedselect.html#install" class="code" data-type="Function">install</a></td>
    <td><span>Configure the twisted mainloop to be run using the select() reactor.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  <a name="twisted.internet._threadedselect.dictRemove">
    
  </a>
  <a name="dictRemove">
    
  </a>
  <div class="functionHeader">
    
    def dictRemove(dct, value):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/_threadedselect.py#L72">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet._threadedselect.raiseException">
    
  </a>
  <a name="raiseException">
    
  </a>
  <div class="functionHeader">
    
    def raiseException(e):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/_threadedselect.py#L79">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet._threadedselect.install">
    
  </a>
  <a name="install">
    
  </a>
  <div class="functionHeader">
    
    def install():
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/release-21.2.0-10091
/src/twisted/internet/_threadedselect.py#L331">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Configure the twisted mainloop to be run using the select() reactor.</p></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="https://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 20.12.1 at 2021-02-28 19:53:36.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>