<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <meta name="Description" content="An event-driven networking engine written in Python and MIT licensed." />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Writing a twistd Plugin &mdash; Twisted 21.2.0 documentation</title>
    <link rel="stylesheet" href="../../_static/twistedtrac.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '21.2.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Twisted 21.2.0 documentation" href="../../index.html" />
    <link rel="up" title="Developer Guides" href="index.html" />
    <link rel="next" title="Deploying Twisted with systemd" href="systemd.html" />
    <link rel="prev" title="Using the Twisted Application Framework" href="application.html" /> 

  </head>
  
  
<body>

<div id="banner">
<div id="top_grad">
         
</div>
<div id="tab">
        <a href="https://twistedmatrix.com/trac/wiki">HOME</a>
    <a href="https://twistedmatrix.com/trac/wiki/FrequentlyAskedQuestions">FAQ</a>
    <a href="/">DOCS</a>
    <a href="https://twistedmatrix.com/trac/wiki/Downloads">DOWNLOAD</a>

</div>
      <div id="header">
        <a id="logo" href="https://twistedmatrix.com/trac/"><img src="../../_static/trac_banner.png" alt="Twisted" /></a>
      </div>
      <!-- taking this out for now, but might use 
           the space for something else later 
      -->
      <!--
      <form id="topsearch" action="/trac/search" method="get"><div>
        <label for="proj-search">Search:</label>
        <input type="text" id="proj-search" name="q" size="10" value="" />
        <input type="submit" value="Search" />
        <input type="hidden" name="wiki" value="on" />

        <input type="hidden" name="changeset" value="on" />
        <input type="hidden" name="ticket" value="on" />
      </div></form>
      -->
      <div id="metanav" class="nav">
    <ul>
      <li> </li>
      <!-- taking this out for now, but might use 
           the space for something else later 
      -->
      <!--
      <li class="first">logged in as khorn</li><li class=""><a href="/trac/logout">Logout</a></li><li class=""><a href="/trac/wiki/TracGuide">Help/Guide</a></li><li class=""><a href="/trac/about">About Trac</a></li><li class="last"><a href="/trac/account">My Account</a></li>
      -->
    </ul>
  </div>
    </div>

<!-- mainnav -->
    <div id="mainnav" class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="systemd.html" title="Deploying Twisted with systemd"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="application.html" title="Using the Twisted Application Framework"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Twisted 21.2.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Twisted Core</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Developer Guides</a> &raquo;</li> 
      </ul>
    </div>

    <div id="main">
    <div id="ctxtnav" class="nav">
      <h2>Wiki Navigation</h2>
      <ul>
        <li>
        
        </li>
        <!-- taking this out for now, but might use 
             the space for something else later 
        -->
        <!--
        <li><a href="/trac/wiki/WikiStart">Start Page</a></li>
        <li><a href="/trac/wiki/TitleIndex">Index by Title</a></li>

        <li><a href="/trac/wiki/RecentChanges">Index by Date</a></li>
        <li class="last">
          <a href="/trac/wiki/Documentation?action=diff&amp;version=15">Last Change</a>
        </li>
        -->
      </ul>
      <hr />
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div id="current-docs-container" style="display: none">
            <em>
              <a id="current-docs-link">
                Go to the latest version of this document.
              </a>
            </em>
          </div>
          <div class="body">
            
  <div class="section" id="writing-a-twistd-plugin">
<h1>Writing a twistd Plugin<a class="headerlink" href="#writing-a-twistd-plugin" title="Permalink to this headline">¶</a></h1>
<p>This document describes adding subcommands to the <code class="docutils literal notranslate"><span class="pre">twistd</span></code> command,
as a way to facilitate the deployment of your applications.</p>
<p>The target audience of this document are those that have developed a Twisted application which needs a command line-based deployment mechanism.</p>
<p>There are a few prerequisites to understanding this document:</p>
<ul class="simple">
<li><p>A basic understanding of the Twisted Plugin System (i.e., the <a class="reference external" href="/documents/21.2.0/api/twisted.plugin.html" title="(in twisted v2.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">twisted.plugin</span></code></a> module) is necessary,
however, step-by-step instructions will be given.
Reading <a class="reference internal" href="plugin.html"><span class="doc">The Twisted Plugin System</span></a> is recommended,
in particular the “Extending an Existing Program” section.</p></li>
<li><p>The <a class="reference internal" href="application.html"><span class="doc">Application</span></a> infrastructure is used in <code class="docutils literal notranslate"><span class="pre">twistd</span></code> plugins;
in particular, you should know how to expose your program’s functionality as a Service.</p></li>
<li><p>In order to parse command line arguments, the <code class="docutils literal notranslate"><span class="pre">twistd</span></code> plugin mechanism relies on <code class="docutils literal notranslate"><span class="pre">twisted.python.usage</span></code> ,
which is documented in <a class="reference internal" href="options.html"><span class="doc">Using usage.Options</span></a> .</p></li>
</ul>
<div class="section" id="goals">
<h2>Goals<a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h2>
<p>After reading this document,
the reader should be able to expose their Service-using application as a subcommand of <code class="docutils literal notranslate"><span class="pre">twistd</span></code> ,
taking into consideration whatever was passed on the command line.</p>
</div>
<div class="section" id="alternatives-to-twistd-plugins">
<h2>Alternatives to twistd Plugins<a class="headerlink" href="#alternatives-to-twistd-plugins" title="Permalink to this headline">¶</a></h2>
<p>The major alternative to the twistd plugin mechanism is the <code class="docutils literal notranslate"><span class="pre">.tac</span></code> file,
which is a simple script to be used with the twistd <code class="docutils literal notranslate"><span class="pre">-y/--python</span></code> parameter.
The twistd plugin mechanism exists to offer a more extensible command-line-driven interface to your application.
For more information on <code class="docutils literal notranslate"><span class="pre">.tac</span></code> files,
see the document <a class="reference internal" href="application.html"><span class="doc">Using the Twisted Application Framework</span></a> .</p>
</div>
<div class="section" id="creating-the-plugin">
<h2>Creating the Plugin<a class="headerlink" href="#creating-the-plugin" title="Permalink to this headline">¶</a></h2>
<p>The following directory structure is assumed of your project:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MyProject</span></code> - Top level directory</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">myproject</span></code> - Python package</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>During development of your project,
Twisted plugins can be loaded from a special directory in your project,
assuming your top level directory ends up in <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.path" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>.
Create a directory named <code class="docutils literal notranslate"><span class="pre">twisted</span></code> containing a directory named <code class="docutils literal notranslate"><span class="pre">plugins</span></code> ,
and add a file named <code class="docutils literal notranslate"><span class="pre">myproject_plugin.py</span></code> to it.
This file will contain your plugin.
Note that you must <em>not</em> add any <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> files to this directory structure,
and the plugin file should <em>not</em> be named <code class="docutils literal notranslate"><span class="pre">myproject.py</span></code>
(because that would conflict with your project’s module name).</p>
<p>In this file, define an object which <em>provides</em> the interfaces <a class="reference external" href="/documents/21.2.0/api/twisted.plugin.IPlugin.html" title="(in twisted v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">twisted.plugin.IPlugin</span></code></a>
and <a class="reference external" href="/documents/21.2.0/api/twisted.application.service.IServiceMaker.html" title="(in twisted v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">twisted.application.service.IServiceMaker</span></code></a> .</p>
<p>The <code class="docutils literal notranslate"><span class="pre">tapname</span></code> attribute of your IServiceMaker provider will be used as the subcommand name in a command like <code class="docutils literal notranslate"><span class="pre">twistd</span> <span class="pre">[subcommand]</span> <span class="pre">[args...]</span></code> ,
and the <code class="docutils literal notranslate"><span class="pre">options</span></code> attribute
(which should be a <a class="reference external" href="/documents/21.2.0/api/twisted.python.usage.Options.html" title="(in twisted v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">usage.Options</span></code></a> subclass)
will be used to parse the given args.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">zope.interface</span> <span class="kn">import</span> <span class="n">implementer</span>

<span class="kn">from</span> <span class="nn">twisted.python</span> <span class="kn">import</span> <span class="n">usage</span>
<span class="kn">from</span> <span class="nn">twisted.plugin</span> <span class="kn">import</span> <span class="n">IPlugin</span>
<span class="kn">from</span> <span class="nn">twisted.application.service</span> <span class="kn">import</span> <span class="n">IServiceMaker</span>
<span class="kn">from</span> <span class="nn">twisted.application</span> <span class="kn">import</span> <span class="n">internet</span>

<span class="kn">from</span> <span class="nn">myproject</span> <span class="kn">import</span> <span class="n">MyFactory</span>


<span class="k">class</span> <span class="nc">Options</span><span class="p">(</span><span class="n">usage</span><span class="o">.</span><span class="n">Options</span><span class="p">):</span>
    <span class="n">optParameters</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;port&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="mi">1235</span><span class="p">,</span> <span class="s2">&quot;The port number to listen on.&quot;</span><span class="p">]]</span>


<span class="nd">@implementer</span><span class="p">(</span><span class="n">IServiceMaker</span><span class="p">,</span> <span class="n">IPlugin</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MyServiceMaker</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">tapname</span> <span class="o">=</span> <span class="s2">&quot;myproject&quot;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Run this! It&#39;ll make your dog happy.&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">Options</span>

    <span class="k">def</span> <span class="nf">makeService</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct a TCPServer from a factory defined in myproject.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">internet</span><span class="o">.</span><span class="n">TCPServer</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;port&quot;</span><span class="p">]),</span> <span class="n">MyFactory</span><span class="p">())</span>


<span class="c1"># Now construct an object which *provides* the relevant interfaces</span>
<span class="c1"># The name of this variable is irrelevant, as long as there is *some*</span>
<span class="c1"># name bound to a provider of IPlugin and IServiceMaker.</span>
<span class="n">serviceMaker</span> <span class="o">=</span> <span class="n">MyServiceMaker</span><span class="p">()</span>
</pre></div>
</div>
<p>Now running <code class="docutils literal notranslate"><span class="pre">twistd</span> <span class="pre">--help</span></code> should print <code class="docutils literal notranslate"><span class="pre">myproject</span></code> in the list of available subcommands,
followed by the description that we specified in the plugin.
<code class="docutils literal notranslate"><span class="pre">twistd</span> <span class="pre">-n</span> <span class="pre">myproject</span></code> would,
assuming we defined a <code class="docutils literal notranslate"><span class="pre">MyFactory</span></code> factory inside <code class="docutils literal notranslate"><span class="pre">myproject</span></code> ,
start a listening server on port 1235 with that factory.</p>
</div>
<div class="section" id="using-cred-with-your-tap">
<h2>Using <code class="docutils literal notranslate"><span class="pre">cred</span></code> with your TAP<a class="headerlink" href="#using-cred-with-your-tap" title="Permalink to this headline">¶</a></h2>
<p>Twisted ships with a robust authentication framework to use with your application.
If your server needs authentication functionality,
and you haven’t read about <a class="reference internal" href="cred.html"><span class="doc">twisted.cred</span></a> yet,
read up on it first.</p>
<p>If you are building a twistd plugin and you want to support a wide variety of authentication patterns,
Twisted provides an easy-to-use mixin for your Options subclass:
<a class="reference external" href="/documents/21.2.0/api/twisted.cred.strcred.AuthOptionMixin.html" title="(in twisted v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">strcred.AuthOptionMixin</span></code></a> .
The following code is an example of using this mixin:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">twisted.cred</span> <span class="kn">import</span> <span class="n">credentials</span><span class="p">,</span> <span class="n">portal</span><span class="p">,</span> <span class="n">strcred</span>
<span class="kn">from</span> <span class="nn">twisted.python</span> <span class="kn">import</span> <span class="n">usage</span>
<span class="kn">from</span> <span class="nn">twisted.plugin</span> <span class="kn">import</span> <span class="n">IPlugin</span>
<span class="kn">from</span> <span class="nn">twisted.application.service</span> <span class="kn">import</span> <span class="n">IServiceMaker</span>
<span class="kn">from</span> <span class="nn">myserver</span> <span class="kn">import</span> <span class="n">myservice</span>


<span class="k">class</span> <span class="nc">ServerOptions</span><span class="p">(</span><span class="n">usage</span><span class="o">.</span><span class="n">Options</span><span class="p">,</span> <span class="n">strcred</span><span class="o">.</span><span class="n">AuthOptionMixin</span><span class="p">):</span>
    <span class="c1"># This part is optional; it tells AuthOptionMixin what</span>
    <span class="c1"># kinds of credential interfaces the user can give us.</span>
    <span class="n">supportedInterfaces</span> <span class="o">=</span> <span class="p">(</span><span class="n">credentials</span><span class="o">.</span><span class="n">IUsernamePassword</span><span class="p">,)</span>

    <span class="n">optParameters</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="s2">&quot;port&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="mi">1234</span><span class="p">,</span> <span class="s2">&quot;Server port number&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;host&quot;</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="p">,</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="s2">&quot;Server hostname&quot;</span><span class="p">]]</span>


<span class="nd">@implementer</span><span class="p">(</span><span class="n">IServiceMaker</span><span class="p">,</span> <span class="n">IPlugin</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MyServerServiceMaker</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">tapname</span> <span class="o">=</span> <span class="s2">&quot;myserver&quot;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;This server does nothing productive.&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">ServerOptions</span>

    <span class="k">def</span> <span class="nf">makeService</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a service object.&quot;&quot;&quot;</span>
        <span class="c1"># The realm is a custom object that your server defines.</span>
        <span class="n">realm</span> <span class="o">=</span> <span class="n">myservice</span><span class="o">.</span><span class="n">MyServerRealm</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;host&quot;</span><span class="p">])</span>

        <span class="c1"># The portal is something Cred can provide, as long as</span>
        <span class="c1"># you have a list of checkers that you&#39;ll support. This</span>
        <span class="c1"># list is provided my AuthOptionMixin.</span>
        <span class="n">portal</span> <span class="o">=</span> <span class="n">portal</span><span class="o">.</span><span class="n">Portal</span><span class="p">(</span><span class="n">realm</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;credCheckers&quot;</span><span class="p">])</span>

        <span class="c1"># OR, if you know you might get multiple interfaces, and</span>
        <span class="c1"># only want to give your application one of them, you</span>
        <span class="c1"># also have that option with AuthOptionMixin:</span>
        <span class="n">interface</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">IUsernamePassword</span>
        <span class="n">portal</span> <span class="o">=</span> <span class="n">portal</span><span class="o">.</span><span class="n">Portal</span><span class="p">(</span><span class="n">realm</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;credInterfaces&quot;</span><span class="p">][</span><span class="n">interface</span><span class="p">])</span>

        <span class="c1"># The protocol factory is, like the realm, something you implement.</span>
        <span class="n">factory</span> <span class="o">=</span> <span class="n">myservice</span><span class="o">.</span><span class="n">ServerFactory</span><span class="p">(</span><span class="n">realm</span><span class="p">,</span> <span class="n">portal</span><span class="p">)</span>

        <span class="c1"># Finally, return a service that will listen for connections.</span>
        <span class="k">return</span> <span class="n">internet</span><span class="o">.</span><span class="n">TCPServer</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;port&quot;</span><span class="p">]),</span> <span class="n">factory</span><span class="p">)</span>


<span class="c1"># As in our example above, we have to construct an object that</span>
<span class="c1"># provides the IPlugin and IServiceMaker interfaces.</span>
<span class="n">serviceMaker</span> <span class="o">=</span> <span class="n">MyServerServiceMaker</span><span class="p">()</span>
</pre></div>
</div>
<p>Now that you have your TAP configured to support any authentication we can throw at it,
you’re ready to use it.
Here is an example of starting your server using the <code class="docutils literal notranslate"><span class="pre">/etc/passwd</span></code> file for authentication.
(Clearly, this won’t work on servers with shadow passwords.)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>twistd myserver --auth passwd:/etc/passwd
</pre></div>
</div>
<p>For a full list of cred plugins supported,
see <a class="reference external" href="/documents/21.2.0/api/twisted.plugins.html" title="(in twisted v2.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">twisted.plugins</span></code></a> ,
or use the command-line help:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>twistd myserver --help-auth
<span class="gp">$ </span>twistd myserver --help-auth-type passwd
</pre></div>
</div>
</div>
<div class="section" id="deploy-your-application-using-python-packages">
<h2>Deploy your Application Using Python Packages<a class="headerlink" href="#deploy-your-application-using-python-packages" title="Permalink to this headline">¶</a></h2>
<p>To deploy your application one possibility is to wrap it up in a Python package.
For this you need to write a special file <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>, which contains metadata
of the package. You would have to extend the layout of your files like this:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MyProject</span></code> - Top level directory</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> - Description file for the package</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">myproject</span></code> - Python package</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">twisted</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">plugins</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">myproject_plugins.py</span></code> - Dropin file containing the actual plugin</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">a minimal <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;MyApplication&#39;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="s1">&#39;0.1dev&#39;</span><span class="p">,</span>
    <span class="c1"># it is necesary to extend the found package list with the twisted.plugin</span>
    <span class="c1"># directory. It cannot be automatically detected, because it should not</span>
    <span class="c1"># contain a __init__.py file.</span>
    <span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;twisted.plugins&#39;</span><span class="p">],</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;twisted&#39;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>To create the Python package from the directory the standard setup tools can be used:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python3 setup.py sdist
</pre></div>
</div>
<p>This command creates a <code class="docutils literal notranslate"><span class="pre">dist</span></code> directory in your project folder with the
compressed archive file <code class="docutils literal notranslate"><span class="pre">MyApplication-0.1dev.tar.gz</span></code>. This archive contains
all the code and additional files if specified. This file can be copied and used
for deployment.</p>
<p>To install the application just use pip. It will also install all requirements
specified in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip install MyApplication-0.1dev.tar.gz
</pre></div>
</div>
<p>For more information about packaging in Python have a look at the <a class="reference external" href="https://packaging.python.org/tutorials/packaging-projects/">official
Python packaging user guide</a> or
<a class="reference external" href="https://the-hitchhikers-guide-to-packaging.readthedocs.io/">hitchhiker’s guide to packaging</a>.</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>You should now be able to</p>
<ul class="simple">
<li><p>Create a twistd plugin</p></li>
<li><p>Incorporate authentication into your plugin</p></li>
<li><p>Use it from your development environment</p></li>
<li><p>Install it correctly and use it in deployment</p></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Writing a twistd Plugin</a><ul>
<li><a class="reference internal" href="#goals">Goals</a></li>
<li><a class="reference internal" href="#alternatives-to-twistd-plugins">Alternatives to twistd Plugins</a></li>
<li><a class="reference internal" href="#creating-the-plugin">Creating the Plugin</a></li>
<li><a class="reference internal" href="#using-cred-with-your-tap">Using <code class="docutils literal notranslate"><span class="pre">cred</span></code> with your TAP</a></li>
<li><a class="reference internal" href="#deploy-your-application-using-python-packages">Deploy your Application Using Python Packages</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="application.html"
                                  title="previous chapter">Using the Twisted Application Framework</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="systemd.html"
                                  title="next chapter">Deploying Twisted with systemd</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/core/howto/tap.rst.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../search.html" method="get">
                <p>
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                </p>
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    </div>
    <div id="footer"><hr />
      <div>

</div>
      <p class="left2">
        Copyright 2021, Twisted Matrix Labs. Ver 21.2.0. Built on 2021-02-28.<br />
        Site design<br />
        By <a href="http://huw.ugbox.net/">huw.wilkins.</a>

      </p>
      <p class="right"></p>
    </div>
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
          <!-- Give the user a link to this page, but in the current version of the docs. -->
          var link = document.getElementById('current-docs-link');
          link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+/, '/current');
          <!-- And make it visible -->
          var container = document.getElementById('current-docs-container');
          container.style.display = '';
          delete link;
          delete container;
      }
    </script>
  </body>
</html>