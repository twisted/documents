<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.web._http2.H2Connection : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div style="display: none" id="current-docs-container" class="container">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code>twisted.web._http2.H2Connection(<a href="twisted.internet.protocol.Protocol.html" data-type="Class" class="code">Protocol</a>)</code> <small>class documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.web.html" data-type="Package" class="code">web</a>.<a href="twisted.web._http2.html" data-type="Module" class="code">_http2</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L62">View Source</a>
          <a href="classIndex.html#twisted.web._http2.H2Connection">(View In Hierarchy)</a>
        </span>
      </div>

      <div class="extrasDocstring">
        <p>Implements interfaces: <a href="twisted.internet.interfaces.IProtocol.html" data-type="Interface" class="code">twisted.internet.interfaces.IProtocol</a>, <a href="twisted.internet.interfaces.IPushProducer.html" data-type="Interface" class="code">twisted.internet.interfaces.IPushProducer</a></p>
      </div>

      

      <div class="moduleDocstring">
        <div><p>A class representing a single HTTP/2 connection.</p>
<p>This implementation of <a href="twisted.internet.interfaces.IProtocol.html"><code>IProtocol</code></a>
works hand in hand with <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a>. This is 
because we have the requirement to register multiple producers for a single
HTTP/2 connection, one for each stream. The standard Twisted interfaces 
don't really allow for this, so instead there's a custom interface between 
the two objects that allows them to work hand-in-hand here.</p><table class="fieldTable"></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id3034">
  
  <tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.web._http2.H2Connection.html#conn" data-type="Instance Variable" class="code">conn</a></td>
    <td>The HTTP/2 connection state machine. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.connection.H2Connection"><code>h2.connection.H2Connection</code></a>)</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.web._http2.H2Connection.html#streams" data-type="Instance Variable" class="code">streams</a></td>
    <td>A mapping of stream IDs to <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects, 
used to call specific methods on streams when events occur. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>,
mapping <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>
stream IDs to <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects.)</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.web._http2.H2Connection.html#priority" data-type="Instance Variable" class="code">priority</a></td>
    <td>A HTTP/2 priority tree used to ensure that responses are prioritised 
appropriately. (type: <a href="https://python-hyper.org/priority/en/stable/api.html#priority.PriorityTree"><code>priority.PriorityTree</code></a>)</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#__init__" data-type="Method" class="code">__init__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#connectionMade" data-type="Method" class="code">connectionMade</a></td>
    <td><span>Called by the reactor when a connection is received. May also be called 
by the <a href="twisted.web.http._GenericHTTPChannelProtocol.html"><code>twisted.web.http._GenericHTTPChannelProtocol</code></a>
during upgrade to HTTP/2.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#dataReceived" data-type="Method" class="code">dataReceived</a></td>
    <td><span>Called whenever a chunk of data is received from the transport.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#connectionLost" data-type="Method" class="code">connectionLost</a></td>
    <td><span>Called when the transport connection is lost.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#stopProducing" data-type="Method" class="code">stopProducing</a></td>
    <td><span>Stop producing data.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#pauseProducing" data-type="Method" class="code">pauseProducing</a></td>
    <td><span>Pause producing data.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#resumeProducing" data-type="Method" class="code">resumeProducing</a></td>
    <td><span>Resume producing data.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#writeHeaders" data-type="Method" class="code">writeHeaders</a></td>
    <td><span>Called by <a href="twisted.web.http.Request.html"><code>twisted.web.http.Request</code></a>
objects to write a complete set of HTTP headers to a stream.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#writeDataToStream" data-type="Method" class="code">writeDataToStream</a></td>
    <td><span>May be called by <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects 
to write response data to a given stream. Writes a single data frame.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#endRequest" data-type="Method" class="code">endRequest</a></td>
    <td><span>Called by <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects 
to signal completion of a response.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#abortRequest" data-type="Method" class="code">abortRequest</a></td>
    <td><span>Called by <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects 
to request early termination of a stream. This emits a RstStream frame and 
then removes all stream state.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#remainingOutboundWindow" data-type="Method" class="code">remainingOutboundWindow</a></td>
    <td><span>Called to determine how much room is left in the send window for a given
stream. Allows us to handle blocking and unblocking producers.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#getPeer" data-type="Method" class="code">getPeer</a></td>
    <td><span>Get the remote address of this connection.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#getHost" data-type="Method" class="code">getHost</a></td>
    <td><span>Similar to getPeer, but returns an address describing this side of the 
connection.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#openStreamWindow" data-type="Method" class="code">openStreamWindow</a></td>
    <td><span>Open the stream window by a given increment.</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><a href="twisted.web._http2.H2Connection.html#_consumerBlocked" data-type="Instance Variable" class="code">_consumerBlocked</a></td>
    <td>A flag tracking whether or not the <a href="twisted.internet.interfaces.IConsumer.html"><code>IConsumer</code></a>
that is consuming this data has asked us to stop producing. (type: A <a href="twisted.internet.defer.Deferred.html"><code>twisted.internet.defer.Deferred</code></a>,
or <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>)</td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><a href="twisted.web._http2.H2Connection.html#_sendingDeferred" data-type="Instance Variable" class="code">_sendingDeferred</a></td>
    <td>A <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
used to restart the data-sending loop when more response data has been 
produced. Will not be present if there is outstanding data still to send.</td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><a href="twisted.web._http2.H2Connection.html#_outboundStreamQueues" data-type="Instance Variable" class="code">_outboundStreamQueues</a></td>
    <td>A map of stream IDs to queues, used to store data blocks that are yet to be
sent on the connection. These are used both to handle producers that do not
respect <a href="twisted.internet.interfaces.IConsumer.html"><code>IConsumer</code></a>
but also to allow priority to multiplex data appropriately. (type: A <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>
mapping <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>
stream IDs to <a href="https://docs.python.org/2/library/collections.html#collections.deque"><code>collections.deque</code></a>
queues, which contain either <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>
objects or <code>_END_STREAM_SENTINEL</code>.)</td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><a href="twisted.web._http2.H2Connection.html#_sender" data-type="Instance Variable" class="code">_sender</a></td>
    <td>A handle to the data-sending loop, allowing it to be terminated if needed. (type: <a href="twisted.internet.task.LoopingCall.html"><code>twisted.internet.task.LoopingCall</code></a>)</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_sendPrioritisedData" data-type="Method" class="code">_sendPrioritisedData</a></td>
    <td><span>The data sending loop. This function repeatedly calls itself, either 
from <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s or 
from <code>twisted.internet.reactor.callLater</code>.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_requestReceived" data-type="Method" class="code">_requestReceived</a></td>
    <td><span>Internal handler for when a request has been received.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_requestDataReceived" data-type="Method" class="code">_requestDataReceived</a></td>
    <td><span>Internal handler for when a chunk of data is received for a given 
request.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_requestEnded" data-type="Method" class="code">_requestEnded</a></td>
    <td><span>Internal handler for when a request is complete, and we expect no 
further data for that request.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_requestAborted" data-type="Method" class="code">_requestAborted</a></td>
    <td><span>Internal handler for when a request is aborted by a remote peer.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_handlePriorityUpdate" data-type="Method" class="code">_handlePriorityUpdate</a></td>
    <td><span>Internal handler for when a stream priority is updated.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_requestDone" data-type="Method" class="code">_requestDone</a></td>
    <td><span>Called internally by the data sending loop to clean up state that was 
being used for the stream. Called when the stream is complete.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_handleWindowUpdate" data-type="Method" class="code">_handleWindowUpdate</a></td>
    <td><span>Manage flow control windows.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_isSecure" data-type="Method" class="code">_isSecure</a></td>
    <td><span>Returns <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a>
if this channel is using a secure transport.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_send100Continue" data-type="Method" class="code">_send100Continue</a></td>
    <td><span>Sends a 100 Continue response, used to signal to clients that further 
processing will be performed.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.web._http2.H2Connection.html#_respondToBadRequestAndDisconnect" data-type="Method" class="code">_respondToBadRequestAndDisconnect</a></td>
    <td><span>This is a quick and dirty way of responding to bad requests.</span></td>
  </tr>
</table>
        
          <p class="inheritedFrom">
            Inherited from <a href="twisted.internet.protocol.BaseProtocol.html" data-type="Class" class="code">BaseProtocol</a> (via <a href="twisted.internet.protocol.Protocol.html" data-type="Class" class="code">Protocol</a>):
          </p>
          <table class="children sortable" id="id3036">
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><a href="twisted.internet.protocol.BaseProtocol.html#makeConnection" data-type="Method" class="code">makeConnection</a></td>
    <td><span>Make a connection to a transport and a server.</span></td>
  </tr>
</table>
          
          <p class="inheritedFrom">
            Inherited from <a href="twisted.internet.protocol.BaseProtocol.html" data-type="Class" class="code">BaseProtocol</a> (via <a href="twisted.internet.protocol.Protocol.html" data-type="Class" class="code">Protocol</a>):
          </p>
          <table class="children sortable" id="id3036">
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><a href="twisted.internet.protocol.BaseProtocol.html#makeConnection" data-type="Method" class="code">makeConnection</a></td>
    <td><span>Make a connection to a transport and a server.</span></td>
  </tr>
</table>
          

          
      </div>

      <div id="childList">

        <div class="baseinstancevariable">
  
  <a name="twisted.web._http2.H2Connection.conn">
    
  </a>
  <a name="conn">
    
  </a>
  <div class="functionHeader">
    conn =
  </div>
  <div class="functionBody">
    The HTTP/2 connection state machine. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.connection.H2Connection"><code>h2.connection.H2Connection</code></a>)
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.web._http2.H2Connection.streams">
    
  </a>
  <a name="streams">
    
  </a>
  <div class="functionHeader">
    streams =
  </div>
  <div class="functionBody">
    A mapping of stream IDs to <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects, 
used to call specific methods on streams when events occur. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>,
mapping <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>
stream IDs to <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects.)
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.web._http2.H2Connection.priority">
    
  </a>
  <a name="priority">
    
  </a>
  <div class="functionHeader">
    priority =
  </div>
  <div class="functionBody">
    A HTTP/2 priority tree used to ensure that responses are prioritised 
appropriately. (type: <a href="https://python-hyper.org/priority/en/stable/api.html#priority.PriorityTree"><code>priority.PriorityTree</code></a>)
  </div>
</div><div class="baseinstancevariable private">
  
  <a name="twisted.web._http2.H2Connection._consumerBlocked">
    
  </a>
  <a name="_consumerBlocked">
    
  </a>
  <div class="functionHeader">
    _consumerBlocked =
  </div>
  <div class="functionBody">
    A flag tracking whether or not the <a href="twisted.internet.interfaces.IConsumer.html"><code>IConsumer</code></a>
that is consuming this data has asked us to stop producing. (type: A <a href="twisted.internet.defer.Deferred.html"><code>twisted.internet.defer.Deferred</code></a>,
or <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>)
  </div>
</div><div class="baseinstancevariable private">
  
  <a name="twisted.web._http2.H2Connection._sendingDeferred">
    
  </a>
  <a name="_sendingDeferred">
    
  </a>
  <div class="functionHeader">
    _sendingDeferred =
  </div>
  <div class="functionBody">
    A <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
used to restart the data-sending loop when more response data has been 
produced. Will not be present if there is outstanding data still to send.
  </div>
</div><div class="baseinstancevariable private">
  
  <a name="twisted.web._http2.H2Connection._outboundStreamQueues">
    
  </a>
  <a name="_outboundStreamQueues">
    
  </a>
  <div class="functionHeader">
    _outboundStreamQueues =
  </div>
  <div class="functionBody">
    A map of stream IDs to queues, used to store data blocks that are yet to be
sent on the connection. These are used both to handle producers that do not
respect <a href="twisted.internet.interfaces.IConsumer.html"><code>IConsumer</code></a>
but also to allow priority to multiplex data appropriately. (type: A <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>
mapping <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>
stream IDs to <a href="https://docs.python.org/2/library/collections.html#collections.deque"><code>collections.deque</code></a>
queues, which contain either <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>
objects or <code>_END_STREAM_SENTINEL</code>.)
  </div>
</div><div class="baseinstancevariable private">
  
  <a name="twisted.web._http2.H2Connection._sender">
    
  </a>
  <a name="_sender">
    
  </a>
  <div class="functionHeader">
    _sender =
  </div>
  <div class="functionBody">
    A handle to the data-sending loop, allowing it to be terminated if needed. (type: <a href="twisted.internet.task.LoopingCall.html"><code>twisted.internet.task.LoopingCall</code></a>)
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, reactor=None):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L107">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.connectionMade">
    
  </a>
  <a name="connectionMade">
    
  </a>
  <div class="functionHeader">
    
    def
    connectionMade(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L129">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#connectionMade" data-type="Method" class="code">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.internet.protocol.BaseProtocol.html#connectionMade" data-type="Method" class="code">twisted.internet.protocol.BaseProtocol.connectionMade</a></div>
    
    <div><p>Called by the reactor when a connection is received. May also be called 
by the <a href="twisted.web.http._GenericHTTPChannelProtocol.html"><code>twisted.web.http._GenericHTTPChannelProtocol</code></a>
during upgrade to HTTP/2.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.dataReceived">
    
  </a>
  <a name="dataReceived">
    
  </a>
  <div class="functionHeader">
    
    def
    dataReceived(self, data):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L139">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#dataReceived" data-type="Method" class="code">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.internet.protocol.Protocol.html#dataReceived" data-type="Method" class="code">twisted.internet.protocol.Protocol.dataReceived</a></div>
    
    <div><p>Called whenever a chunk of data is received from the transport.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">data</td><td>The data received from the transport. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.connectionLost">
    
  </a>
  <a name="connectionLost">
    
  </a>
  <div class="functionHeader">
    
    def
    connectionLost(self, reason):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L178">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProtocol.html#connectionLost" data-type="Method" class="code">twisted.internet.interfaces.IProtocol</a></div><div class="interfaceinfo">overrides <a href="twisted.internet.protocol.Protocol.html#connectionLost" data-type="Method" class="code">twisted.internet.protocol.Protocol.connectionLost</a></div>
    
    <div><p>Called when the transport connection is lost.</p>
<p>Informs all outstanding response handlers that the connection has been 
lost, and cleans up all internal state.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.stopProducing">
    
  </a>
  <a name="stopProducing">
    
  </a>
  <div class="functionHeader">
    
    def
    stopProducing(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L238">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IProducer.html#stopProducing" data-type="Method" class="code">twisted.internet.interfaces.IProducer</a></div>
    
    <div><p>Stop producing data.</p>
<p>This tells the <a href="twisted.web._http2.H2Connection.html"><code>H2Connection</code></a> 
that its consumer has died, so it must stop producing data for good.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.pauseProducing">
    
  </a>
  <a name="pauseProducing">
    
  </a>
  <div class="functionHeader">
    
    def
    pauseProducing(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L248">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IPushProducer.html#pauseProducing" data-type="Method" class="code">twisted.internet.interfaces.IPushProducer</a></div>
    
    <div><p>Pause producing data.</p>
<p>Tells the <a href="twisted.web._http2.H2Connection.html"><code>H2Connection</code></a> 
that it has produced too much data to process for the time being, and to 
stop until resumeProducing() is called.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.resumeProducing">
    
  </a>
  <a name="resumeProducing">
    
  </a>
  <div class="functionHeader">
    
    def
    resumeProducing(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L258">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">from <a href="twisted.internet.interfaces.IPushProducer.html#resumeProducing" data-type="Method" class="code">twisted.internet.interfaces.IPushProducer</a></div>
    
    <div><p>Resume producing data.</p>
<p>This tells the <a href="twisted.web._http2.H2Connection.html"><code>H2Connection</code></a> 
to re-add itself to the main loop and produce more data for the 
consumer.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._sendPrioritisedData">
    
  </a>
  <a name="_sendPrioritisedData">
    
  </a>
  <div class="functionHeader">
    
    def
    _sendPrioritisedData(self, *args):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L271">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>The data sending loop. This function repeatedly calls itself, either 
from <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s or 
from <code>twisted.internet.reactor.callLater</code>.</p>
<p>This function sends data on streams according to the rules of HTTP/2 
priority. It ensures that the data from each stream is interleved according
to the priority signalled by the client, making sure that the connection is
used with maximal efficiency.</p>
<p>This function will execute if data is available: if all data is 
exhausted, the function will place a deferred onto the <a href="twisted.web._http2.H2Connection.html"><code>H2Connection</code></a> 
object and wait until it is called to resume executing.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._requestReceived">
    
  </a>
  <a name="_requestReceived">
    
  </a>
  <div class="functionHeader">
    
    def
    _requestReceived(self, event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L348">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Internal handler for when a request has been received.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>The Hyper-h2 event that encodes information about the received request. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.events.RequestReceived"><code>h2.events.RequestReceived</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._requestDataReceived">
    
  </a>
  <a name="_requestDataReceived">
    
  </a>
  <div class="functionHeader">
    
    def
    _requestDataReceived(self, event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L377">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Internal handler for when a chunk of data is received for a given 
request.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>The Hyper-h2 event that encodes information about the received data. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.events.DataReceived"><code>h2.events.DataReceived</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._requestEnded">
    
  </a>
  <a name="_requestEnded">
    
  </a>
  <div class="functionHeader">
    
    def
    _requestEnded(self, event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L390">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Internal handler for when a request is complete, and we expect no 
further data for that request.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>The Hyper-h2 event that encodes information about the completed stream. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.events.StreamEnded"><code>h2.events.StreamEnded</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._requestAborted">
    
  </a>
  <a name="_requestAborted">
    
  </a>
  <div class="functionHeader">
    
    def
    _requestAborted(self, event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L403">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Internal handler for when a request is aborted by a remote peer.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>The Hyper-h2 event that encodes information about the reset stream. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.events.StreamReset"><code>h2.events.StreamReset</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._handlePriorityUpdate">
    
  </a>
  <a name="_handlePriorityUpdate">
    
  </a>
  <div class="functionHeader">
    
    def
    _handlePriorityUpdate(self, event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L416">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Internal handler for when a stream priority is updated.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>The Hyper-h2 event that encodes information about the stream 
reprioritization. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.events.PriorityUpdated"><code>h2.events.PriorityUpdated</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.writeHeaders">
    
  </a>
  <a name="writeHeaders">
    
  </a>
  <div class="functionHeader">
    
    def
    writeHeaders(self, version, code, reason, headers, streamID):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L444">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called by <a href="twisted.web.http.Request.html"><code>twisted.web.http.Request</code></a>
objects to write a complete set of HTTP headers to a stream.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">version</td><td>The HTTP version in use. Unused in HTTP/2. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr><tr><td></td><td class="fieldArg">code</td><td>The HTTP status code to write. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr><tr><td></td><td class="fieldArg">reason</td><td>The HTTP reason phrase to write. Unused in HTTP/2. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr><tr><td></td><td class="fieldArg">headers</td><td>The headers to write to the stream. (type: <a href="twisted.web.http_headers.Headers.html"><code>twisted.web.http_headers.Headers</code></a>)</td></tr><tr><td></td><td class="fieldArg">streamID</td><td>The ID of the stream to write the headers to. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.writeDataToStream">
    
  </a>
  <a name="writeDataToStream">
    
  </a>
  <div class="functionHeader">
    
    def
    writeDataToStream(self, streamID, data):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L469">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>May be called by <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects 
to write response data to a given stream. Writes a single data frame.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream to write the data to. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr><tr><td></td><td class="fieldArg">data</td><td>The data chunk to write to the stream. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.endRequest">
    
  </a>
  <a name="endRequest">
    
  </a>
  <div class="functionHeader">
    
    def
    endRequest(self, streamID):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L496">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called by <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects 
to signal completion of a response.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream to write the data to. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.abortRequest">
    
  </a>
  <a name="abortRequest">
    
  </a>
  <div class="functionHeader">
    
    def
    abortRequest(self, streamID):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L511">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called by <a href="twisted.web._http2.H2Stream.html"><code>H2Stream</code></a> objects 
to request early termination of a stream. This emits a RstStream frame and 
then removes all stream state.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream to write the data to. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._requestDone">
    
  </a>
  <a name="_requestDone">
    
  </a>
  <div class="functionHeader">
    
    def
    _requestDone(self, streamID):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L524">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called internally by the data sending loop to clean up state that was 
being used for the stream. Called when the stream is complete.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream to clean up state for. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.remainingOutboundWindow">
    
  </a>
  <a name="remainingOutboundWindow">
    
  </a>
  <div class="functionHeader">
    
    def
    remainingOutboundWindow(self, streamID):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L539">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Called to determine how much room is left in the send window for a given
stream. Allows us to handle blocking and unblocking producers.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream whose flow control window we'll check. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">The amount of room remaining in the send window for the given stream, 
including the data queued to be sent. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._handleWindowUpdate">
    
  </a>
  <a name="_handleWindowUpdate">
    
  </a>
  <div class="functionHeader">
    
    def
    _handleWindowUpdate(self, event):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L564">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Manage flow control windows.</p>
<p>Streams that are blocked on flow control will register themselves with 
the connection. This will fire deferreds that wake those streams up and 
allow them to continue processing.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">event</td><td>The Hyper-h2 event that encodes information about the flow control window 
change. (type: <a href="https://python-hyper.org/h2/en/stable/api.html#h2.events.WindowUpdated"><code>h2.events.WindowUpdated</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.getPeer">
    
  </a>
  <a name="getPeer">
    
  </a>
  <div class="functionHeader">
    
    def
    getPeer(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L593">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Get the remote address of this connection.</p>
<p>Treat this method with caution.  It is the unfortunate result of the CGI
and Jabber standards, but should not be considered reliable for the usual 
host of reasons; port forwarding, proxying, firewalls, IP masquerading, 
etc.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">An <a href="twisted.internet.interfaces.IAddress.html"><code>IAddress</code></a> 
provider.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.getHost">
    
  </a>
  <a name="getHost">
    
  </a>
  <div class="functionHeader">
    
    def
    getHost(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L607">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Similar to getPeer, but returns an address describing this side of the 
connection.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">An <a href="twisted.internet.interfaces.IAddress.html"><code>IAddress</code></a> 
provider.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.web._http2.H2Connection.openStreamWindow">
    
  </a>
  <a name="openStreamWindow">
    
  </a>
  <div class="functionHeader">
    
    def
    openStreamWindow(self, streamID, increment):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L617">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Open the stream window by a given increment.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream whose window needs to be opened. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr><tr><td></td><td class="fieldArg">increment</td><td>The amount by which the stream window must be incremented. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._isSecure">
    
  </a>
  <a name="_isSecure">
    
  </a>
  <div class="functionHeader">
    
    def
    _isSecure(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L634">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Returns <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a>
if this channel is using a secure transport.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><a href="http://docs.python.org/library/constants.html#True"><code>True</code></a>
if this channel is secure. (type: <a href="http://docs.python.org/library/stdtypes.html#bool"><code>bool</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._send100Continue">
    
  </a>
  <a name="_send100Continue">
    
  </a>
  <div class="functionHeader">
    
    def
    _send100Continue(self, streamID):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L645">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Sends a 100 Continue response, used to signal to clients that further 
processing will be performed.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream that needs the 100 Continue response (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.web._http2.H2Connection._respondToBadRequestAndDisconnect">
    
  </a>
  <a name="_respondToBadRequestAndDisconnect">
    
  </a>
  <div class="functionHeader">
    
    def
    _respondToBadRequestAndDisconnect(self, streamID):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/web/_http2.py#L659">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>This is a quick and dirty way of responding to bad requests.</p>
<p>As described by HTTP standard we should be patient and accept the whole 
request from the client before sending a polite bad request response, even 
in the case when clients send tons of data.</p>
<p>Unlike in the HTTP/1.1 case, this does not actually disconnect the 
underlying transport: there's no need. This instead just sends a 400 
response and terminates the stream.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">streamID</td><td>The ID of the stream that needs the 100 Continue response (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2016-07-06 22:44:36.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

    <!-- Google analytics, obviously. -->
    <script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>