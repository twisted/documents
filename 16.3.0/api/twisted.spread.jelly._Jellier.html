<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.spread.jelly._Jellier : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div style="display: none" id="current-docs-container" class="container">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="class private"><code>twisted.spread.jelly._Jellier</code> <small>class documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.spread.html" data-type="Package" class="code">spread</a>.<a href="twisted.spread.jelly.html" data-type="Module" class="code">jelly</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L357">View Source</a>
          <a href="classIndex.html#twisted.spread.jelly._Jellier">(View In Hierarchy)</a>
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      

      <div class="moduleDocstring">
        <div><p>(Internal) This class manages state for a call to jelly()</p><table class="fieldTable"></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id2766">
  
  <tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#__init__" data-type="Method" class="code">__init__</a></td>
    <td><span>Initialize.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#prepare" data-type="Method" class="code">prepare</a></td>
    <td><span>(internal) Create a list for persisting an object to.  This will allow 
backreferences to be made internal to the object. (circular 
references).</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#preserve" data-type="Method" class="code">preserve</a></td>
    <td><span>(internal) Mark an object's persistent list for later referral.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#jelly" data-type="Method" class="code">jelly</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#jelly_decimal" data-type="Method" class="code">jelly_decimal</a></td>
    <td><span>Jelly a decimal object.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#unpersistable" data-type="Method" class="code">unpersistable</a></td>
    <td><span>(internal) Returns an sexp: (unpersistable "reason").  Utility
method for making note that a particular object could not be 
serialized.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#_cook" data-type="Method" class="code">_cook</a></td>
    <td><span>(internal) Backreference an object.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#_checkMutable" data-type="Method" class="code">_checkMutable</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.spread.jelly._Jellier.html#_jellyIterable" data-type="Method" class="code">_jellyIterable</a></td>
    <td><span>Jelly an iterable object.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  <a name="twisted.spread.jelly._Jellier.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, taster, persistentStore, invoker):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L362">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Initialize.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.spread.jelly._Jellier._cook">
    
  </a>
  <a name="_cook">
    
  </a>
  <div class="functionHeader">
    
    def
    _cook(self, object):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L378">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Backreference an object.</p>
<p>Notes on this method for the hapless future maintainer: If I've already 
gone through the prepare/preserve cycle on the specified object (it is 
being referenced after the serializer is "done with" it, e.g. 
this reference is NOT circular), the copy-in-place of aList is relevant, 
since the list being modified is the actual, pre-existing jelly expression 
that was returned for that object. If not, it's technically superfluous, 
since the value in self.preserved didn't need to be set, but the invariant 
that self.preserved[id(object)] is a list is convenient because that means 
we don't have to test and create it or not create it here, creating fewer 
code-paths.  that's why self.preserved is always set to a list.</p>
<p>Sorry that this code is so hard to follow, but Python objects are tricky
to persist correctly. -glyph</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.spread.jelly._Jellier.prepare">
    
  </a>
  <a name="prepare">
    
  </a>
  <div class="functionHeader">
    
    def
    prepare(self, object):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L409">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Create a list for persisting an object to.  This will allow 
backreferences to be made internal to the object. (circular 
references).</p>
<p>The reason this needs to happen is that we don't generate an ID for 
every object, so we won't necessarily know which ID the object will have in
the future.  When it is 'cooked' ( see _cook ), it will be assigned an ID, 
and the temporary placeholder list created here will be modified in-place 
to create an expression that gives this object an ID: [reference id# 
[object-jelly]].</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.spread.jelly._Jellier.preserve">
    
  </a>
  <a name="preserve">
    
  </a>
  <div class="functionHeader">
    
    def
    preserve(self, object, sexp):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L434">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Mark an object's persistent list for later referral.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.spread.jelly._Jellier._checkMutable">
    
  </a>
  <a name="_checkMutable">
    
  </a>
  <div class="functionHeader">
    
    def
    _checkMutable(self, obj):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L452">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.spread.jelly._Jellier.jelly">
    
  </a>
  <a name="jelly">
    
  </a>
  <div class="functionHeader">
    
    def
    jelly(self, obj):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L461">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.spread.jelly._Jellier._jellyIterable">
    
  </a>
  <a name="_jellyIterable">
    
  </a>
  <div class="functionHeader">
    
    def
    _jellyIterable(self, atom, obj):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L562">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Jelly an iterable object.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">atom</td><td>the identifier atom of the object. (type: <code>str</code>)</td></tr><tr><td></td><td class="fieldArg">obj</td><td>any iterable object. (type: <code>iterable</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">a generator of jellied data. (type: <code>generator</code>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.spread.jelly._Jellier.jelly_decimal">
    
  </a>
  <a name="jelly_decimal">
    
  </a>
  <div class="functionHeader">
    
    def
    jelly_decimal(self, d):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L580">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Jelly a decimal object.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">d</td><td>a decimal object to serialize. (type: <code>decimal.Decimal</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">jelly for the decimal object. (type: <code>list</code>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.spread.jelly._Jellier.unpersistable">
    
  </a>
  <a name="unpersistable">
    
  </a>
  <div class="functionHeader">
    
    def
    unpersistable(self, reason, sxp=None):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-16.3.0/twisted/spread/jelly.py#L597">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>(internal) Returns an sexp: (unpersistable "reason").  Utility
method for making note that a particular object could not be 
serialized.</p><table class="fieldTable"></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2016-07-06 22:44:36.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

    <!-- Google analytics, obviously. -->
    <script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>