<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet.defer : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>

    <span style="display: none" id="current-docs-container">
      <em>
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </em>
    </span>

    <h1 class="module">t.i.defer : module documentation</h1>
    <p>
      <span id="part">Part of <a href="twisted.html">twisted</a>.<a href="twisted.internet.html">internet</a></span>
      <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py">View Source</a>
      
    </p>
    <div>
      
    </div>
    <div>Support for results that aren't immediately available.</p>
<p>Maintainer: Glyph Lefkowitz<table class="fieldTable"></table></div>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id611">
  
  
<tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.AlreadyCalledError.html">AlreadyCalledError</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.CancelledError.html">CancelledError</a></td>
    <td><span>This error is raised by default when a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> is 
cancelled.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.TimeoutError.html">TimeoutError</a></td>
    <td><span>This exception is deprecated.  It is used only by the deprecated 
<code>Deferred.setTimeout</code> method.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#logError">logError</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#succeed">succeed</a></td>
    <td><span>Return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.callback(result)</code> called.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#fail">fail</a></td>
    <td><span>Return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.errback(result)</code> called.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#execute">execute</a></td>
    <td><span>Create a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> from 
a callable and arguments.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#maybeDeferred">maybeDeferred</a></td>
    <td><span>Invoke a function that may or may not return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#timeout">timeout</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#passthru">passthru</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#setDebugging">setDebugging</a></td>
    <td><span>Enable or disable <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#getDebugging">getDebugging</a></td>
    <td><span>Determine whether <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging is enabled.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.Deferred.html">Deferred</a></td>
    <td><span>This is a callback which will be put off until later.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DebugInfo.html">DebugInfo</a></td>
    <td><span>Deferred debug helper.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.FirstError.html">FirstError</a></td>
    <td><span>First error to occur in a <a 
href="twisted.internet.defer.DeferredList.html"><code>DeferredList</code></a>
if <code>fireOnOneErrback</code> is set.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredList.html">DeferredList</a></td>
    <td><span><a 
href="twisted.internet.defer.DeferredList.html"><code>DeferredList</code></a>
is a tool for collecting the results of several Deferreds.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#gatherResults">gatherResults</a></td>
    <td><span>Returns, via a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, a 
list with the results of the given <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s - in
effect, a &quot;join&quot; of multiple deferred operations.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.waitForDeferred.html">waitForDeferred</a></td>
    <td><span>See <a 
href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#deferredGenerator">deferredGenerator</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#returnValue">returnValue</a></td>
    <td><span>Return val from a <a 
href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
generator.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#inlineCallbacks">inlineCallbacks</a></td>
    <td><span><p>inlineCallbacks helps you write <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>-using
code that looks like a regular sequential function. For example:</p>
<pre class="literalblock">

</pre></span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredLock.html">DeferredLock</a></td>
    <td><span>A lock for event driven systems.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredSemaphore.html">DeferredSemaphore</a></td>
    <td><span>A semaphore for event driven systems.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.QueueOverflow.html">QueueOverflow</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.QueueUnderflow.html">QueueUnderflow</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredQueue.html">DeferredQueue</a></td>
    <td><span>An event driven queue.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.AlreadyTryingToLockError.html">AlreadyTryingToLockError</a></td>
    <td><span>Raised when <a 
href="twisted.internet.defer.DeferredFilesystemLock.html#deferUntilLocked"><code>DeferredFilesystemLock.deferUntilLocked</code></a>
is called twice on a single <a 
href="twisted.internet.defer.DeferredFilesystemLock.html"><code>DeferredFilesystemLock</code></a>.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredFilesystemLock.html">DeferredFilesystemLock</a></td>
    <td><span>A <a 
href="twisted.python.lockfile.FilesystemLock.html"><code>FilesystemLock</code></a>
that allows for a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to be
fired when the lock is acquired.</span></td>
  </tr><tr class="function private">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_parseDListResult">_parseDListResult</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_deferGenerator">_deferGenerator</a></td>
    <td><span>See <a 
href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.</span></td>
  </tr><tr class="class private">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer._DefGen_Return.html">_DefGen_Return</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_inlineCallbacks">_inlineCallbacks</a></td>
    <td><span>See <a 
href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>.</span></td>
  </tr><tr class="class private">
    
    
    <td>Class</td>
    <td><a href="twisted.internet.defer._ConcurrencyPrimitive.html">_ConcurrencyPrimitive</a></td>
    <td><span class="undocumented">No class docstring; 1/3 methods documented</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="twisted.internet.defer.logError">
    
  </a>
  <a name="logError">
    
  </a>
  <div class="functionHeader">
    
    def
    logError(err):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L53" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.succeed">
    
  </a>
  <a name="succeed">
    
  </a>
  <div class="functionHeader">
    
    def
    succeed(result):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L59" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.callback(result)</code> called.</p>
<p>This is useful when you're writing synchronous code to an asynchronous 
interface: i.e., some code is calling you expecting a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
result, but you don't actually need to do anything asynchronous. Just 
return <code>defer.succeed(theResult)</code>.</p>
<p>See <a href="twisted.internet.defer.html#fail"><code>fail</code></a> for
a version of this function that uses a failing <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
rather than a successful one.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">result</td><td>The result to give to the Deferred's 'callback' method.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"> (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.fail">
    
  </a>
  <a name="fail">
    
  </a>
  <div class="functionHeader">
    
    def
    fail(result=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L82" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.errback(result)</code> called.</p>
<p>See <a 
href="twisted.internet.defer.html#succeed"><code>succeed</code></a>'s 
docstring for rationale.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">result</td><td>The same argument that <a 
href="twisted.internet.defer.Deferred.html#errback"><code>Deferred.errback</code></a>
takes.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"> (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">NoCurrentExceptionError</td><td>If <code>result</code> is <code>None</code> but there is no current 
exception state.</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.execute">
    
  </a>
  <a name="execute">
    
  </a>
  <div class="functionHeader">
    
    def
    execute(callable, *args, **kw):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L101" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Create a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> from 
a callable and arguments.</p>
<p>Call the given function with the given arguments.  Return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> which
has been fired with its callback as the result of that invocation or its 
<code>errback</code> with a <a 
href="twisted.python.failure.Failure.html"><code>Failure</code></a> for the
exception thrown.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.maybeDeferred">
    
  </a>
  <a name="maybeDeferred">
    
  </a>
  <div class="functionHeader">
    
    def
    maybeDeferred(f, *args, **kw):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L118" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Invoke a function that may or may not return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>Call the given function with the given arguments.  If the returned 
object is a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, 
return it.  If the returned object is a <a 
href="twisted.python.failure.Failure.html"><code>Failure</code></a>, wrap 
it with <a href="twisted.internet.defer.html#fail"><code>fail</code></a> 
and return it.  Otherwise, wrap it in <a 
href="twisted.internet.defer.html#succeed"><code>succeed</code></a> and 
return it.  If an exception is raised, convert it to a <a 
href="twisted.python.failure.Failure.html"><code>Failure</code></a>, wrap 
it in <a href="twisted.internet.defer.html#fail"><code>fail</code></a>, and
then return it.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">f</td><td>The callable to invoke (type: Any callable)</td></tr><tr><td></td><td class="fieldArg">args</td><td>The arguments to pass to <code>f</code></td></tr><tr><td></td><td class="fieldArg">kw</td><td>The keyword arguments to pass to <code>f</code></td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">The result of the function call, wrapped in a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> if 
necessary. (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.timeout">
    
  </a>
  <a name="timeout">
    
  </a>
  <div class="functionHeader">
    
    def
    timeout(deferred):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L152" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.passthru">
    
  </a>
  <a name="passthru">
    
  </a>
  <div class="functionHeader">
    
    def
    passthru(arg):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L157" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.setDebugging">
    
  </a>
  <a name="setDebugging">
    
  </a>
  <div class="functionHeader">
    
    def
    setDebugging(on):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L162" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Enable or disable <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging.</p>
<p>When debugging is on, the call stacks from creation and invocation are 
recorded, and added to any <code>AlreadyCalledErrors</code> we raise.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.getDebugging">
    
  </a>
  <a name="getDebugging">
    
  </a>
  <div class="functionHeader">
    
    def
    getDebugging():
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L173" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Determine whether <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging is enabled.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer._parseDListResult">
    
  </a>
  <a name="_parseDListResult">
    
  </a>
  <div class="functionHeader">
    
    def
    _parseDListResult(l, fireOnOneErrback=False):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L868" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.gatherResults">
    
  </a>
  <a name="gatherResults">
    
  </a>
  <div class="functionHeader">
    
    def
    gatherResults(deferredList, consumeErrors=False):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L876" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Returns, via a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, a 
list with the results of the given <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s - in
effect, a &quot;join&quot; of multiple deferred operations.</p>
<p>The returned <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> will 
fire when <i>all</i> of the provided <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s have
fired, or when any one of them has failed.</p>
<p>This method can be cancelled by calling the <code>cancel</code> method 
of the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, all 
the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s in 
the list will be cancelled.</p>
<p>This differs from <a 
href="twisted.internet.defer.DeferredList.html"><code>DeferredList</code></a>
in that you don't need to parse the result for success/failure.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">consumeErrors</td><td>(keyword param) a flag, defaulting to False, indicating that failures in 
any of the given <code>Deferreds</code> should not be propagated to 
errbacks added to the individual <code>Deferreds</code> after this <a 
href="twisted.internet.defer.html#gatherResults"><code>gatherResults</code></a>
invocation.  Any such errors in the individual <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s will
be converted to a callback result of <code>None</code>.  This is useful to 
prevent spurious 'Unhandled error in Deferred' messages from being logged.
This parameter is available since 11.1.0. (type: <code>bool</code>)</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer._deferGenerator">
    
  </a>
  <a name="_deferGenerator">
    
  </a>
  <div class="functionHeader">
    
    def
    _deferGenerator(g, deferred):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L935" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>See <a 
href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.deferredGenerator">
    
  </a>
  <a name="deferredGenerator">
    
  </a>
  <div class="functionHeader">
    
    def
    deferredGenerator(f):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L991" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div><a 
href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>
and <a 
href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
help you write <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>-using
code that looks like a regular sequential function. Consider the use of <a 
href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
instead, which can accomplish the same thing in a more concise manner.</p>
<p>There are two important functions involved: <a 
href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>,
and <a 
href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.
They are used together, like this:</p>
<pre class="literalblock">
   @deferredGenerator
   def thingummy():
       thing = waitForDeferred(makeSomeRequestResultingInDeferred())
       yield thing
       thing = thing.getResult()
       print thing #the result! hoorj!
</pre>
<p><a 
href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
returns something that you should immediately yield; when your generator is
resumed, calling <code>thing.getResult()</code> will either give you the 
result of the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> if it
was a success, or raise an exception if it was a failure.  Calling 
<code>getResult</code> is <b>absolutely mandatory</b>.  If you do not call 
it, <i>your program will not work</i>.</p>
<p><a 
href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>
takes one of these waitForDeferred-using generator functions and converts 
it into a function that returns a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>. The 
result of the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> will 
be the last value that your generator yielded unless the last value is a <a
href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
instance, in which case the result will be <code>None</code>.  If the 
function raises an unhandled exception, the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> will 
errback instead.  Remember that <code>return result</code> won't work; use 
<code>yield result; return</code> in place of that.</p>
<p>Note that not yielding anything from your generator will make the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
result in <code>None</code>. Yielding a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> from 
your generator is also an error condition; always yield 
<code>waitForDeferred(d)</code> instead.</p>
<p>The <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
returned from your deferred generator may also errback if your generator 
raised an exception.  For example:</p>
<pre class="literalblock">
   @deferredGenerator
   def thingummy():
       thing = waitForDeferred(makeSomeRequestResultingInDeferred())
       yield thing
       thing = thing.getResult()
       if thing == 'I love Twisted':
           # will become the result of the Deferred
           yield 'TWISTED IS GREAT!'
           return
       else:
           # will trigger an errback
           raise Exception('DESTROY ALL LIFE')
</pre>
<p>Put succinctly, these functions connect deferred-using code with this 
'fake blocking' style in both directions: <a 
href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
converts from a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
the 'blocking' style, and <a 
href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>
converts from the 'blocking' style to a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.returnValue">
    
  </a>
  <a name="returnValue">
    
  </a>
  <div class="functionHeader">
    
    def
    returnValue(val):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L1063" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Return val from a <a 
href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
generator.</p>
<p>Note: this is currently implemented by raising an exception derived from
<a 
href="http://docs.python.org/library/exceptions.html#exceptions.BaseException"><code>BaseException</code></a>.
You might want to change any 'except:' clauses to an 'except Exception:' 
clause so as not to catch this exception.</p>
<p>Also: while this function currently will work when called from within 
arbitrary functions called from within the generator, do not rely upon this
behavior.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer._inlineCallbacks">
    
  </a>
  <a name="_inlineCallbacks">
    
  </a>
  <div class="functionHeader">
    
    def
    _inlineCallbacks(result, g, deferred):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L1080" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>See <a 
href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.inlineCallbacks">
    
  </a>
  <a name="inlineCallbacks">
    
  </a>
  <div class="functionHeader">
    
    def
    inlineCallbacks(f):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-14.0.0/twisted/internet/defer.py#L1179" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>inlineCallbacks helps you write <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>-using
code that looks like a regular sequential function. For example:</p>
<pre class="literalblock">
   @inlineCallBacks
   def thingummy():
       thing = yield makeSomeRequestResultingInDeferred()
       print(thing)  # the result! hoorj!
</pre>
<p>When you call anything that results in a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, you 
can simply yield it; your generator will automatically be resumed when the 
Deferred's result is available. The generator will be sent the result of 
the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> with 
the 'send' method on generators, or if the result was a failure, 
'throw'.</p>
<p>Things that are not <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s may 
also be yielded, and your generator will be resumed with the same object 
sent back. This means <code>yield</code> performs an operation roughly 
equivalent to <a 
href="twisted.internet.defer.html#maybeDeferred"><code>maybeDeferred</code></a>.</p>
<p>Your inlineCallbacks-enabled generator will return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
object, which will result in the return value of the generator (or will 
fail with a failure object if your generator raises an unhandled 
exception). Note that you can't use <code>return result</code> to return a 
value; use <code>returnValue(result)</code> instead. Falling off the end of
the generator, or simply using <code>return</code> will cause the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
have a result of <code>None</code>.</p>
<p>Be aware that <a 
href="twisted.internet.defer.html#returnValue"><code>returnValue</code></a>
will not accept a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> as a 
parameter. If you believe the thing you'd like to return could be a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, do 
this:</p>
<pre class="literalblock">
   result = yield result
   returnValue(result)
</pre>
<p>The <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
returned from your deferred generator may errback if your generator raised 
an exception:</p>
<pre class="literalblock">
   @inlineCallbacks
   def thingummy():
       thing = yield makeSomeRequestResultingInDeferred()
       if thing == 'I love Twisted':
           # will become the result of the Deferred
           returnValue('TWISTED IS GREAT!')
       else:
           # will trigger an errback
           raise Exception('DESTROY ALL LIFE')
</pre><table class="fieldTable"></table></div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2014-05-12 18:27:00.
    </address>

    <!-- Google analytics, obviously. -->
    <script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
          <!-- Give the user a link to this page, but in the current version of the docs. -->
          var link = document.getElementById('current-docs-link');
          link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
          <!-- And make it visible -->
          var container = document.getElementById('current-docs-container');
          container.style.display = "";
          delete link;
          delete container;
      }
    </script>

  </body>
</html>