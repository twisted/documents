<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet.process._FDDetector : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>

    <span style="display: none" id="current-docs-container">
      <em>
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </em>
    </span>

    <h1 class="class private">t.i.p._FDDetector(<span title="object">object</span>) : class documentation</h1>
    <p>
      <span id="part">Part of <a href="twisted.html">twisted</a>.<a href="twisted.internet.html">internet</a>.<a href="twisted.internet.process.html">process</a></span>
      <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L470">View Source</a>
      <a href="classIndex.html#twisted.internet.process._FDDetector">View In Hierarchy</a>
    </p>
    <div>
      
    </div>
    <div>This class contains the logic necessary to decide which of the available
system techniques should be used to detect the open file descriptors for 
the current process. The chosen technique gets monkey-patched into the 
_listOpenFDs method of this class so that the detection only needs to occur
once.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Unknown Field: ivars</td><td class="fieldArg">listdir</td><td>The implementation of listdir to use. This gets overwritten by the test 
cases.
</td></tr><tr><td></td><td class="fieldArg">getpid</td><td>The implementation of getpid to use, returns the PID of the running 
process.
</td></tr><tr><td></td><td class="fieldArg">openfile</td><td>The implementation of open() to use, by default the Python builtin.
</td></tr></table></div>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id1643">
  
  
<tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.process._FDDetector.html#_listOpenFDs">_listOpenFDs</a></td>
    <td><span>Figure out which implementation to use, then run it.
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.process._FDDetector.html#_getImplementation">_getImplementation</a></td>
    <td><span>Check if /dev/fd works, if so, use that.  Otherwise, check if 
/proc/%d/fd exists, if so use that.
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.process._FDDetector.html#_checkDevFDSanity">_checkDevFDSanity</a></td>
    <td><span>Returns true iff opening a file modifies the fds visible in /dev/fd, as 
it should on a sane platform.
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.process._FDDetector.html#_devFDImplementation">_devFDImplementation</a></td>
    <td><span>Simple implementation for systems where /dev/fd actually works. See: 
http://www.freebsd.org/cgi/man.cgi?fdescfs
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.process._FDDetector.html#_procFDImplementation">_procFDImplementation</a></td>
    <td><span>Simple implementation for systems where /proc/pid/fd exists (we assume 
it works).
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.process._FDDetector.html#_resourceFDImplementation">_resourceFDImplementation</a></td>
    <td><span>Fallback implementation where the resource module can inform us about 
how many FDs we can expect.
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.process._FDDetector.html#_fallbackFDImplementation">_fallbackFDImplementation</a></td>
    <td><span>Fallback-fallback implementation where we just assume that we need to 
close 256 FDs.
</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="twisted.internet.process._FDDetector._listOpenFDs">
    
  </a>
  <a name="_listOpenFDs">
    
  </a>
  <div class="functionHeader">
    
    def
    _listOpenFDs(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L491" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Figure out which implementation to use, then run it.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.process._FDDetector._getImplementation">
    
  </a>
  <a name="_getImplementation">
    
  </a>
  <div class="functionHeader">
    
    def
    _getImplementation(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L499" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Check if /dev/fd works, if so, use that.  Otherwise, check if 
/proc/%d/fd exists, if so use that.</p>
Otherwise, ask resource.getrlimit, if that throws an exception, then 
fallback to _fallbackFDImplementation.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.process._FDDetector._checkDevFDSanity">
    
  </a>
  <a name="_checkDevFDSanity">
    
  </a>
  <div class="functionHeader">
    
    def
    _checkDevFDSanity(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L525" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Returns true iff opening a file modifies the fds visible in /dev/fd, as 
it should on a sane platform.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.process._FDDetector._devFDImplementation">
    
  </a>
  <a name="_devFDImplementation">
    
  </a>
  <div class="functionHeader">
    
    def
    _devFDImplementation(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L536" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Simple implementation for systems where /dev/fd actually works. See: 
http://www.freebsd.org/cgi/man.cgi?fdescfs
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.process._FDDetector._procFDImplementation">
    
  </a>
  <a name="_procFDImplementation">
    
  </a>
  <div class="functionHeader">
    
    def
    _procFDImplementation(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L546" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Simple implementation for systems where /proc/pid/fd exists (we assume 
it works).
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.process._FDDetector._resourceFDImplementation">
    
  </a>
  <a name="_resourceFDImplementation">
    
  </a>
  <div class="functionHeader">
    
    def
    _resourceFDImplementation(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L555" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Fallback implementation where the resource module can inform us about 
how many FDs we can expect.</p>
Note that on OS-X we expect to be using the /dev/fd implementation.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.process._FDDetector._fallbackFDImplementation">
    
  </a>
  <a name="_fallbackFDImplementation">
    
  </a>
  <div class="functionHeader">
    
    def
    _fallbackFDImplementation(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-11.0.0/twisted/internet/process.py#L571" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Fallback-fallback implementation where we just assume that we need to 
close 256 FDs.
<table class="fieldTable"></table></div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2011-10-27 16:27:37.
    </address>

    <!-- Google analytics, obviously. -->
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
          <!-- Give the user a link to this page, but in the current version of the docs. -->
          var link = document.getElementById('current-docs-link');
          link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
          <!-- And make it visible -->
          var container = document.getElementById('current-docs-container');
          container.style.display = "";
          delete link;
          delete container;
      }
    </script>

  </body>
</html>