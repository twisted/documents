<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet.defer : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" href="bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="apidocs.css" type="text/css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div id="current-docs-container" class="container" style="display: none">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code>twisted.internet.defer</code> <small>module documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.internet.html" data-type="Package" class="code">internet</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py">View Source</a>
          
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      

      <div class="moduleDocstring">
        <div><p>Support for results that aren't immediately available.</p>
<p>Maintainer: Glyph Lefkowitz</p><table class="fieldTable"></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id659">
  
  <tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.AlreadyCalledError.html" data-type="Class" class="code">AlreadyCalledError</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.CancelledError.html" data-type="Class" class="code">CancelledError</a></td>
    <td><span>This error is raised by default when a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> is 
cancelled.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.TimeoutError.html" data-type="Class" class="code">TimeoutError</a></td>
    <td><span>This error is raised by default when a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> times
out.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#logError" data-type="Function" class="code">logError</a></td>
    <td><span>Log and return failure.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#succeed" data-type="Function" class="code">succeed</a></td>
    <td><span>Return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.callback(result)</code> called.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#fail" data-type="Function" class="code">fail</a></td>
    <td><span>Return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.errback(result)</code> called.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#execute" data-type="Function" class="code">execute</a></td>
    <td><span>Create a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> from 
a callable and arguments.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#maybeDeferred" data-type="Function" class="code">maybeDeferred</a></td>
    <td><span>Invoke a function that may or may not return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#timeout" data-type="Function" class="code">timeout</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#passthru" data-type="Function" class="code">passthru</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#setDebugging" data-type="Function" class="code">setDebugging</a></td>
    <td><span>Enable or disable <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#getDebugging" data-type="Function" class="code">getDebugging</a></td>
    <td><span>Determine whether <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging is enabled.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.Deferred.html" data-type="Class" class="code">Deferred</a></td>
    <td><span>This is a callback which will be put off until later.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#ensureDeferred" data-type="Function" class="code">ensureDeferred</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DebugInfo.html" data-type="Class" class="code">DebugInfo</a></td>
    <td><span>Deferred debug helper.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.FirstError.html" data-type="Class" class="code">FirstError</a></td>
    <td><span>First error to occur in a <a href="twisted.internet.defer.DeferredList.html"><code>DeferredList</code></a>
if <code>fireOnOneErrback</code> is set.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredList.html" data-type="Class" class="code">DeferredList</a></td>
    <td><span><a href="twisted.internet.defer.DeferredList.html"><code>DeferredList</code></a>
is a tool for collecting the results of several Deferreds.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#gatherResults" data-type="Function" class="code">gatherResults</a></td>
    <td><span>Returns, via a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, a 
list with the results of the given <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s - in
effect, a "join" of multiple deferred operations.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.waitForDeferred.html" data-type="Class" class="code">waitForDeferred</a></td>
    <td><span>See <a href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#deferredGenerator" data-type="Function" class="code">deferredGenerator</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#returnValue" data-type="Function" class="code">returnValue</a></td>
    <td><span>Return val from a <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
generator.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#inlineCallbacks" data-type="Function" class="code">inlineCallbacks</a></td>
    <td><span><p><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
helps you write <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>-using
code that looks like a regular sequential function. For example:</p>
<pre class="literalblock">

</pre></span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredLock.html" data-type="Class" class="code">DeferredLock</a></td>
    <td><span>A lock for event driven systems.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredSemaphore.html" data-type="Class" class="code">DeferredSemaphore</a></td>
    <td><span>A semaphore for event driven systems.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.QueueOverflow.html" data-type="Class" class="code">QueueOverflow</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.QueueUnderflow.html" data-type="Class" class="code">QueueUnderflow</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredQueue.html" data-type="Class" class="code">DeferredQueue</a></td>
    <td><span>An event driven queue.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.AlreadyTryingToLockError.html" data-type="Class" class="code">AlreadyTryingToLockError</a></td>
    <td><span>Raised when <a href="twisted.internet.defer.DeferredFilesystemLock.html#deferUntilLocked"><code>DeferredFilesystemLock.deferUntilLocked</code></a>
is called twice on a single <a href="twisted.internet.defer.DeferredFilesystemLock.html"><code>DeferredFilesystemLock</code></a>.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer.DeferredFilesystemLock.html" data-type="Class" class="code">DeferredFilesystemLock</a></td>
    <td><span>A <a href="twisted.python.lockfile.FilesystemLock.html"><code>FilesystemLock</code></a>
that allows for a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to be
fired when the lock is acquired.</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><a href="twisted.internet.defer.html#_NO_RESULT" data-type="Variable" class="code">_NO_RESULT</a></td>
    <td>The result used to represent the fact that there is no result. <b>Never 
ever ever use this as an actual result for a Deferred</b>.  You have been 
warned.</td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><a href="twisted.internet.defer.html#_CONTINUE" data-type="Variable" class="code">_CONTINUE</a></td>
    <td>A marker left in <a href="twisted.internet.defer.Deferred.html#callback"><code>Deferred.callback</code></a>s
to indicate a Deferred chain.  Always accompanied by a Deferred instance in
the args tuple pointing at the Deferred which is chained to the Deferred 
which has this marker.</td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_cancelledToTimedOutError" data-type="Function" class="code">_cancelledToTimedOutError</a></td>
    <td><span>A default translation function that translates <a href="twisted.python.failure.Failure.html"><code>Failure</code></a>s that 
are <a href="twisted.internet.defer.CancelledError.html"><code>CancelledError</code></a>s
to <a href="twisted.internet.defer.TimeoutError.html"><code>TimeoutError</code></a>s.</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_parseDListResult" data-type="Function" class="code">_parseDListResult</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_deferGenerator" data-type="Function" class="code">_deferGenerator</a></td>
    <td><span>See <a href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer._DefGen_Return.html" data-type="Class" class="code">_DefGen_Return</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer._CancellationStatus.html" data-type="Class" class="code">_CancellationStatus</a></td>
    <td><span>Cancellation status of an <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
invocation.</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_inlineCallbacks" data-type="Function" class="code">_inlineCallbacks</a></td>
    <td><span>Carry out the work of <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>.</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.internet.defer.html#_cancellableInlineCallbacks" data-type="Function" class="code">_cancellableInlineCallbacks</a></td>
    <td><span>Make an <code>@</code><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
cancellable.</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer._InternalInlineCallbacksCancelledError.html" data-type="Class" class="code">_InternalInlineCallbacksCancelledError</a></td>
    <td><span>A unique exception used only in <a href="twisted.internet.defer.html#_cancellableInlineCallbacks"><code>_cancellableInlineCallbacks</code></a>
to verify that an <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
is being cancelled as expected.</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><a href="twisted.internet.defer._ConcurrencyPrimitive.html" data-type="Class" class="code">_ConcurrencyPrimitive</a></td>
    <td><span class="undocumented">No class docstring; 2/5 methods documented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basevariable private">
  
  <a name="twisted.internet.defer._NO_RESULT">
    
  </a>
  <a name="_NO_RESULT">
    
  </a>
  <div class="functionHeader">
    _NO_RESULT =
  </div>
  <div class="functionBody">
    The result used to represent the fact that there is no result. <b>Never 
ever ever use this as an actual result for a Deferred</b>.  You have been 
warned.
  </div>
</div><div class="basevariable private">
  
  <a name="twisted.internet.defer._CONTINUE">
    
  </a>
  <a name="_CONTINUE">
    
  </a>
  <div class="functionHeader">
    _CONTINUE =
  </div>
  <div class="functionBody">
    A marker left in <a href="twisted.internet.defer.Deferred.html#callback"><code>Deferred.callback</code></a>s
to indicate a Deferred chain.  Always accompanied by a Deferred instance in
the args tuple pointing at the Deferred which is chained to the Deferred 
which has this marker.
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.logError">
    
  </a>
  <a name="logError">
    
  </a>
  <div class="functionHeader">
    
    def
    logError(err):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L57">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Log and return failure.</p>
<p>This method can be used as an errback that passes the failure on to the 
next errback unmodified. Note that if this is the last errback, and the 
deferred gets garbage collected after being this errback has been called, 
the clean up code logs it again.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.succeed">
    
  </a>
  <a name="succeed">
    
  </a>
  <div class="functionHeader">
    
    def
    succeed(result):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L71">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.callback(result)</code> called.</p>
<p>This is useful when you're writing synchronous code to an asynchronous 
interface: i.e., some code is calling you expecting a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
result, but you don't actually need to do anything asynchronous. Just 
return <code>defer.succeed(theResult)</code>.</p>
<p>See <a href="twisted.internet.defer.html#fail"><code>fail</code></a> for
a version of this function that uses a failing <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
rather than a successful one.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">result</td><td>The result to give to the Deferred's 'callback' method.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"> (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.fail">
    
  </a>
  <a name="fail">
    
  </a>
  <div class="functionHeader">
    
    def
    fail(result=None):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L94">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
has already had <code>.errback(result)</code> called.</p>
<p>See <a href="twisted.internet.defer.html#succeed"><code>succeed</code></a>'s 
docstring for rationale.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">result</td><td>The same argument that <a href="twisted.internet.defer.Deferred.html#errback"><code>Deferred.errback</code></a>
takes.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"> (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">NoCurrentExceptionError</td><td>If <code>result</code> is <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>
but there is no current exception state.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.execute">
    
  </a>
  <a name="execute">
    
  </a>
  <div class="functionHeader">
    
    def
    execute(callable, *args, **kw):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L113">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> from 
a callable and arguments.</p>
<p>Call the given function with the given arguments.  Return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> which
has been fired with its callback as the result of that invocation or its 
<code>errback</code> with a <a href="twisted.python.failure.Failure.html"><code>Failure</code></a> for the
exception thrown.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.maybeDeferred">
    
  </a>
  <a name="maybeDeferred">
    
  </a>
  <div class="functionHeader">
    
    def
    maybeDeferred(f, *args, **kw):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L130">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Invoke a function that may or may not return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>Call the given function with the given arguments.  If the returned 
object is a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, 
return it.  If the returned object is a <a href="twisted.python.failure.Failure.html"><code>Failure</code></a>, wrap 
it with <a href="twisted.internet.defer.html#fail"><code>fail</code></a> 
and return it.  Otherwise, wrap it in <a href="twisted.internet.defer.html#succeed"><code>succeed</code></a> and 
return it.  If an exception is raised, convert it to a <a href="twisted.python.failure.Failure.html"><code>Failure</code></a>, wrap 
it in <a href="twisted.internet.defer.html#fail"><code>fail</code></a>, and
then return it.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">f</td><td>The callable to invoke (type: Any callable)</td></tr><tr><td></td><td class="fieldArg">args</td><td>The arguments to pass to <code>f</code></td></tr><tr><td></td><td class="fieldArg">kw</td><td>The keyword arguments to pass to <code>f</code></td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">The result of the function call, wrapped in a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> if 
necessary. (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.timeout">
    
  </a>
  <a name="timeout">
    
  </a>
  <div class="functionHeader">
    
    def
    timeout(deferred):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L166">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div role="alert" class="deprecationNotice alert alert-warning">timeout was deprecated in Twisted 17.1.0; please use twisted.internet.defer.Deferred.addTimeout instead.</div>
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.passthru">
    
  </a>
  <a name="passthru">
    
  </a>
  <div class="functionHeader">
    
    def
    passthru(arg):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L171">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.setDebugging">
    
  </a>
  <a name="setDebugging">
    
  </a>
  <div class="functionHeader">
    
    def
    setDebugging(on):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L176">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Enable or disable <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging.</p>
<p>When debugging is on, the call stacks from creation and invocation are 
recorded, and added to any <a href="twisted.internet.defer.AlreadyCalledError.html"><code>AlreadyCalledError</code></a>s
we raise.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.getDebugging">
    
  </a>
  <a name="getDebugging">
    
  </a>
  <div class="functionHeader">
    
    def
    getDebugging():
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L187">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Determine whether <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
debugging is enabled.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.internet.defer._cancelledToTimedOutError">
    
  </a>
  <a name="_cancelledToTimedOutError">
    
  </a>
  <div class="functionHeader">
    
    def
    _cancelledToTimedOutError(value, timeout):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L845">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>A default translation function that translates <a href="twisted.python.failure.Failure.html"><code>Failure</code></a>s that 
are <a href="twisted.internet.defer.CancelledError.html"><code>CancelledError</code></a>s
to <a href="twisted.internet.defer.TimeoutError.html"><code>TimeoutError</code></a>s.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">value</td><td>Anything (type: Anything)</td></tr><tr><td></td><td class="fieldArg">timeout</td><td>The timeout (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"> (type: <code>value</code>)</td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td colspan="2"><a href="twisted.internet.defer.TimeoutError.html"><code>TimeoutError</code></a></td></tr><tr class="fieldStart"><td class="fieldName">Present Since</td><td colspan="2">16.5</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.ensureDeferred">
    
  </a>
  <a name="ensureDeferred">
    
  </a>
  <div class="functionHeader">
    
    def
    ensureDeferred(coro):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L868">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Schedule the execution of a coroutine that awaits/yields from <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s, 
wrapping it in a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> that 
will fire on success/failure of the coroutine. If a Deferred is passed to 
this function, it will be returned directly (mimicing 
<code>asyncio</code>'s <code>ensure_future</code> function).</p>
<p>Coroutine functions return a coroutine object, similar to how generators
work. This function turns that coroutine into a Deferred, meaning that it 
can be used in regular Twisted code. For example:</p>
<pre class="literalblock">
   import treq
   from twisted.internet.defer import ensureDeferred
   from twisted.internet.task import react

   async def crawl(pages):
       results = {}
       for page in pages:
           results[page] = await treq.content(await treq.get(page))
       return results

   def main(reactor):
       pages = [
           "http://localhost:8080"
       ]
       d = ensureDeferred(crawl(pages))
       d.addCallback(print)
       return d

   react(main)
</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">coro</td><td>The coroutine object to schedule, or a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>. (type: A Python 3.5+ <code>async def</code> <code>coroutine</code>, a Python 3.4+ 
<code>yield from</code> using <a href="http://docs.python.org/library/types.html#types.GeneratorType"><code>types.GeneratorType</code></a>,
or a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"> (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.internet.defer._parseDListResult">
    
  </a>
  <a name="_parseDListResult">
    
  </a>
  <div class="functionHeader">
    
    def
    _parseDListResult(l, fireOnOneErrback=False):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1147">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.gatherResults">
    
  </a>
  <a name="gatherResults">
    
  </a>
  <div class="functionHeader">
    
    def
    gatherResults(deferredList, consumeErrors=False):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1155">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Returns, via a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, a 
list with the results of the given <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s - in
effect, a "join" of multiple deferred operations.</p>
<p>The returned <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> will 
fire when <i>all</i> of the provided <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s have
fired, or when any one of them has failed.</p>
<p>This method can be cancelled by calling the <code>cancel</code> method 
of the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, all 
the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s in 
the list will be cancelled.</p>
<p>This differs from <a href="twisted.internet.defer.DeferredList.html"><code>DeferredList</code></a>
in that you don't need to parse the result for success/failure.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">consumeErrors</td><td>(keyword param) a flag, defaulting to False, indicating that failures in 
any of the given <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s 
should not be propagated to errbacks added to the individual <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s 
after this <a href="twisted.internet.defer.html#gatherResults"><code>gatherResults</code></a>
invocation.  Any such errors in the individual <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s will
be converted to a callback result of <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>.
This is useful to prevent spurious 'Unhandled error in Deferred' messages 
from being logged.  This parameter is available since 11.1.0. (type: <a href="http://docs.python.org/library/stdtypes.html#bool"><code>bool</code></a>)</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.internet.defer._deferGenerator">
    
  </a>
  <a name="_deferGenerator">
    
  </a>
  <div class="functionHeader">
    
    def
    _deferGenerator(g, deferred):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1219">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>See <a href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.deferredGenerator">
    
  </a>
  <a name="deferredGenerator">
    
  </a>
  <div class="functionHeader">
    
    def
    deferredGenerator(f):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1277">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div role="alert" class="deprecationNotice alert alert-warning">deferredGenerator was deprecated in Twisted 15.0.0; please use twisted.internet.defer.inlineCallbacks instead.</div>
    <div><p><a href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>
and <a href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
help you write <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>-using
code that looks like a regular sequential function. Consider the use of <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
instead, which can accomplish the same thing in a more concise manner.</p>
<p>There are two important functions involved: <a href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>,
and <a href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>.
They are used together, like this:</p>
<pre class="literalblock">
   @deferredGenerator
   def thingummy():
       thing = waitForDeferred(makeSomeRequestResultingInDeferred())
       yield thing
       thing = thing.getResult()
       print(thing) #the result! hoorj!
</pre>
<p><a href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
returns something that you should immediately yield; when your generator is
resumed, calling <code>thing.getResult()</code> will either give you the 
result of the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> if it
was a success, or raise an exception if it was a failure.  Calling 
<code>getResult</code> is <b>absolutely mandatory</b>.  If you do not call 
it, <i>your program will not work</i>.</p>
<p><a href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>
takes one of these waitForDeferred-using generator functions and converts 
it into a function that returns a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>. The 
result of the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> will 
be the last value that your generator yielded unless the last value is a <a href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
instance, in which case the result will be <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>.
If the function raises an unhandled exception, the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> will 
errback instead.  Remember that <code>return result</code> won't work; use 
<code>yield result; return</code> in place of that.</p>
<p>Note that not yielding anything from your generator will make the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
result in <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>.
Yielding a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> from 
your generator is also an error condition; always yield 
<code>waitForDeferred(d)</code> instead.</p>
<p>The <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
returned from your deferred generator may also errback if your generator 
raised an exception.  For example:</p>
<pre class="literalblock">
   @deferredGenerator
   def thingummy():
       thing = waitForDeferred(makeSomeRequestResultingInDeferred())
       yield thing
       thing = thing.getResult()
       if thing == 'I love Twisted':
           # will become the result of the Deferred
           yield 'TWISTED IS GREAT!'
           return
       else:
           # will trigger an errback
           raise Exception('DESTROY ALL LIFE')
</pre>
<p>Put succinctly, these functions connect deferred-using code with this 
'fake blocking' style in both directions: <a href="twisted.internet.defer.waitForDeferred.html"><code>waitForDeferred</code></a>
converts from a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
the 'blocking' style, and <a href="twisted.internet.defer.html#deferredGenerator"><code>deferredGenerator</code></a>
converts from the 'blocking' style to a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.returnValue">
    
  </a>
  <a name="returnValue">
    
  </a>
  <div class="functionHeader">
    
    def
    returnValue(val):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1349">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Return val from a <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
generator.</p>
<p>Note: this is currently implemented by raising an exception derived from
<a href="http://docs.python.org/library/exceptions.html#exceptions.BaseException"><code>BaseException</code></a>.
You might want to change any 'except:' clauses to an 'except Exception:' 
clause so as not to catch this exception.</p>
<p>Also: while this function currently will work when called from within 
arbitrary functions called from within the generator, do not rely upon this
behavior.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.internet.defer._inlineCallbacks">
    
  </a>
  <a name="_inlineCallbacks">
    
  </a>
  <div class="functionHeader">
    @failure._extraneous<br />
    def
    _inlineCallbacks(result, g, status):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1384">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Carry out the work of <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>.</p>
<p>Iterate the generator produced by an <code>@</code><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>-decorated
function, <code>g</code>, <code>send()</code>ing it the results of each 
value <code>yield</code>ed by that generator, until a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> is 
yielded, at which point a callback is added to that <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
call this function again.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">result</td><td>The last result seen by this generator.  Note that this is never a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> - by 
the time this function is invoked, the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> has 
been called back and this will be a particular result at a point in its 
callback chain.</td></tr><tr><td></td><td class="fieldArg">g</td><td>a generator object returned by calling a function or method decorated with 
<code>@</code><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a></td></tr><tr><td></td><td class="fieldArg">status</td><td>a <a href="twisted.internet.defer._CancellationStatus.html"><code>_CancellationStatus</code></a>
tracking the current status of <code>g</code></td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.internet.defer._cancellableInlineCallbacks">
    
  </a>
  <a name="_cancellableInlineCallbacks">
    
  </a>
  <div class="functionHeader">
    
    def
    _cancellableInlineCallbacks(g):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1496">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Make an <code>@</code><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
cancellable.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">g</td><td>a generator object returned by calling a function or method decorated with 
<code>@</code><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a></td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
for the <code>@</code><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
that is cancellable.</td></tr></table></div>
  </div>
</div><div class="basefunction">
  
  <a name="twisted.internet.defer.inlineCallbacks">
    
  </a>
  <a name="inlineCallbacks">
    
  </a>
  <div class="functionHeader">
    
    def
    inlineCallbacks(f):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.0/src/twisted/internet/defer.py#L1542">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p><a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
helps you write <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>-using
code that looks like a regular sequential function. For example:</p>
<pre class="literalblock">
   @inlineCallbacks
   def thingummy():
       thing = yield makeSomeRequestResultingInDeferred()
       print(thing)  # the result! hoorj!
</pre>
<p>When you call anything that results in a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, you 
can simply yield it; your generator will automatically be resumed when the 
Deferred's result is available. The generator will be sent the result of 
the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> with 
the 'send' method on generators, or if the result was a failure, 
'throw'.</p>
<p>Things that are not <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>s may 
also be yielded, and your generator will be resumed with the same object 
sent back. This means <code>yield</code> performs an operation roughly 
equivalent to <a href="twisted.internet.defer.html#maybeDeferred"><code>maybeDeferred</code></a>.</p>
<p>Your inlineCallbacks-enabled generator will return a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
object, which will result in the return value of the generator (or will 
fail with a failure object if your generator raises an unhandled 
exception). Note that you can't use <code>return result</code> to return a 
value; use <code>returnValue(result)</code> instead. Falling off the end of
the generator, or simply using <code>return</code> will cause the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
have a result of <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>.</p>
<p>Be aware that <a href="twisted.internet.defer.html#returnValue"><code>returnValue</code></a>
will not accept a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> as a 
parameter. If you believe the thing you'd like to return could be a <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, do 
this:</p>
<pre class="literalblock">
   result = yield result
   returnValue(result)
</pre>
<p>The <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
returned from your deferred generator may errback if your generator raised 
an exception:</p>
<pre class="literalblock">
   @inlineCallbacks
   def thingummy():
       thing = yield makeSomeRequestResultingInDeferred()
       if thing == 'I love Twisted':
           # will become the result of the Deferred
           returnValue('TWISTED IS GREAT!')
       else:
           # will trigger an errback
           raise Exception('DESTROY ALL LIFE')
</pre>
<p>It is possible to use the <code>return</code> statement instead of <a href="twisted.internet.defer.html#returnValue"><code>returnValue</code></a>:</p>
<pre class="literalblock">
   @inlineCallbacks
   def loadData(url):
       response = yield makeRequest(url)
       return json.loads(response)
</pre>
<p>You can cancel the <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
returned from your <a href="twisted.internet.defer.html#inlineCallbacks"><code>inlineCallbacks</code></a>
generator before it is fired by your generator completing (either by 
reaching its end, a <code>return</code> statement, or by calling <a href="twisted.internet.defer.html#returnValue"><code>returnValue</code></a>).
A <code>CancelledError</code> will be raised from the <code>yielde</code>ed
<a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
that has been cancelled if that <code>Deferred</code> does not otherwise 
suppress it.</p><table class="fieldTable"></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2019-04-10 22:20:19.
      </address>

    </div>

    <script type="text/javascript" src="pydoctor.js"></script>

    <!-- Google analytics, obviously. -->
    <script type="text/javascript" src="//www.google-analytics.com/urchin.js"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>