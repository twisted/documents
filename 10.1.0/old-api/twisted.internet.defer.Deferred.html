<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet.defer.Deferred : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">t.i.d.Deferred : class documentation</h1>
    <p>
      <span id="part">Part of <a href="twisted.html">twisted</a>.<a href="twisted.internet.html">internet</a>.<a href="twisted.internet.defer.html">defer</a></span>
      <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L167">View Source</a>
      <a href="classIndex.html#twisted.internet.defer.Deferred">View In Hierarchy</a>
    </p>
    <div>
      <p>Known subclasses: <a href="twisted.internet.defer.DeferredList.html">twisted.internet.defer.DeferredList</a>, <a href="twisted.persisted.crefutil._Defer.html">twisted.persisted.crefutil._Defer</a></p>
    </div>
    <div>This is a callback which will be put off until later.</p>
<p>Why do we want this? Well, in cases where a function in a threaded 
program would block until it gets a result, for Twisted it should not 
block. Instead, it should return a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>This can be implemented for protocols that run over the network by 
writing an asynchronous protocol for <a 
href="twisted.internet.html"><code>twisted.internet</code></a>. For methods
that come from outside packages that are not under our control, we use 
threads (see for example <a 
href="twisted.enterprise.adbapi.html"><code>twisted.enterprise.adbapi</code></a>).</p>
<p>For more information about Deferreds, see doc/howto/defer.html or <a 
href="http://twistedmatrix.com/projects/core/documentation/howto/defer.html"
target="_top">http://twistedmatrix.com/projects/core/documentation/howto/defer.html</a></p>
<p>When creating a Deferred, you may provide a canceller function, which 
will be called by d.cancel() to let you do any clean-up necessary if the 
user decides not to wait for the deferred to complete.<table class="fieldTable"></table></div>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id2509">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#__init__">__init__</a></td>
    <td><span>Initialize a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#addCallbacks">addCallbacks</a></td>
    <td><span>Add a pair of callbacks (success and error) to this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#addCallback">addCallback</a></td>
    <td><span>Convenience method for adding just a callback.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#addErrback">addErrback</a></td>
    <td><span>Convenience method for adding just an errback.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#addBoth">addBoth</a></td>
    <td><span>Convenience method for adding a single callable as both a callback</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#chainDeferred">chainDeferred</a></td>
    <td><span>Chain another <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#callback">callback</a></td>
    <td><span>Run all success callbacks that have been added to this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#errback">errback</a></td>
    <td><span>Run all error callbacks that have been added to this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#pause">pause</a></td>
    <td><span>Stop processing on a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> until
<a 
href="twisted.internet.defer.Deferred.html#unpause"><code>unpause</code></a>()
is called.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#unpause">unpause</a></td>
    <td><span>Process all callbacks made since <a 
href="twisted.internet.defer.Deferred.html#pause"><code>pause</code></a>() 
was called.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#cancel">cancel</a></td>
    <td><span>Cancel this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#setTimeout">setTimeout</a></td>
    <td><span>Set a timeout function to be triggered if I am not called.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#__str__">__str__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#_continue">_continue</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#_startRunCallbacks">_startRunCallbacks</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.internet.defer.Deferred.html#_runCallbacks">_runCallbacks</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="twisted.internet.defer.Deferred.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, canceller=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L203" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <a href="twisted.internet.defer.DeferredList.html">twisted.internet.defer.DeferredList</a>, <a href="twisted.persisted.crefutil._Defer.html">twisted.persisted.crefutil._Defer</a></div>
    <div>Initialize a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">canceller</td><td>a callable used to stop the pending operation scheduled by this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> when 
<a 
href="twisted.internet.defer.Deferred.html#cancel"><code>Deferred.cancel</code></a>
is invoked. The canceller will be passed the deferred whose cancelation is 
requested (i.e., self).
<p>If a canceller is not given, or does not invoke its argument's 
<code>callback</code> or <code>errback</code> method, <a 
href="twisted.internet.defer.Deferred.html#cancel"><code>Deferred.cancel</code></a>
will invoke <a 
href="twisted.internet.defer.Deferred.html#errback"><code>Deferred.errback</code></a>
with a <a 
href="twisted.internet.defer.CancelledError.html"><code>CancelledError</code></a>.</p>
<p>Note that if a canceller is not given, <code>callback</code> or 
<code>errback</code> may still be invoked exactly once, even though 
defer.py will have already invoked <code>errback</code>, as described 
above.  This allows clients of code which returns a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
cancel it without requiring the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
instantiator to provide any specific implementation support for 
cancellation. New in 10.0.</p>
 (type: a 1-argument callable which takes a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>. The 
return result is ignored.
)</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.addCallbacks">
    
  </a>
  <a name="addCallbacks">
    
  </a>
  <div class="functionHeader">
    
    def
    addCallbacks(self, callback, errback=None, callbackArgs=None, callbackKeywords=None, errbackArgs=None, errbackKeywords=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L234" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Add a pair of callbacks (success and error) to this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>These will be executed when the 'master' callback is run.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.addCallback">
    
  </a>
  <a name="addCallback">
    
  </a>
  <div class="functionHeader">
    
    def
    addCallback(self, callback, *args, **kw):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L253" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Convenience method for adding just a callback.</p>
<p>See <a 
href="twisted.internet.defer.Deferred.html#addCallbacks"><code>addCallbacks</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.addErrback">
    
  </a>
  <a name="addErrback">
    
  </a>
  <div class="functionHeader">
    
    def
    addErrback(self, errback, *args, **kw):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L263" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Convenience method for adding just an errback.</p>
<p>See <a 
href="twisted.internet.defer.Deferred.html#addCallbacks"><code>addCallbacks</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.addBoth">
    
  </a>
  <a name="addBoth">
    
  </a>
  <div class="functionHeader">
    
    def
    addBoth(self, callback, *args, **kw):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L274" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Convenience method for adding a single callable as both a callback and 
an errback.</p>
<p>See <a 
href="twisted.internet.defer.Deferred.html#addCallbacks"><code>addCallbacks</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.chainDeferred">
    
  </a>
  <a name="chainDeferred">
    
  </a>
  <div class="functionHeader">
    
    def
    chainDeferred(self, d):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L286" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Chain another <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>This method adds callbacks to this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> to 
call <code>d</code>'s callback or errback, as appropriate. It is merely a 
shorthand way of performing the following:</p>
<pre class="literalblock">
   self.addCallbacks(d.callback, d.errback)
</pre>
<p>When you chain a deferred d2 to another deferred d1 with 
d1.chainDeferred(d2), you are making d2 participate in the callback chain 
of d1. Thus any event that fires d1 will also fire d2. However, the 
converse is <b>not</b> true; if d2 is fired d1 will not be affected.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.callback">
    
  </a>
  <a name="callback">
    
  </a>
  <div class="functionHeader">
    
    def
    callback(self, result):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L305" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Run all success callbacks that have been added to this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>Each callback will have its result passed as the first argument to the 
next; this way, the callbacks act as a 'processing chain'.  If the 
success-callback returns a <a 
href="twisted.python.failure.Failure.html"><code>Failure</code></a> or 
raises an <code>Exception</code>, processing will continue on the *error* 
callback chain.  If a callback (or errback) returns another <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, this
<a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> 
will be chained to it (and further callbacks will not run until that <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> has a
result).<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.errback">
    
  </a>
  <a name="errback">
    
  </a>
  <div class="functionHeader">
    
    def
    errback(self, fail=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L321" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Run all error callbacks that have been added to this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>Each callback will have its result passed as the first argument to the 
next; this way, the callbacks act as a 'processing chain'. Also, if the 
error-callback returns a non-Failure or doesn't raise an 
<code>Exception</code>, processing will continue on the *success*-callback 
chain.</p>
<p>If the argument that's passed to me is not a <a 
href="twisted.python.failure.Failure.html"><code>failure.Failure</code></a>
instance, it will be embedded in one. If no argument is passed, a <a 
href="twisted.python.failure.Failure.html"><code>failure.Failure</code></a>
instance will be created based on the current traceback stack.</p>
<p>Passing a string as `fail' is deprecated, and will be punished with a 
warning message.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">NoCurrentExceptionError</td><td>If <code>fail</code> is <code>None</code> but there is no current exception
state.
</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.pause">
    
  </a>
  <a name="pause">
    
  </a>
  <div class="functionHeader">
    
    def
    pause(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L348" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Stop processing on a <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> until
<a 
href="twisted.internet.defer.Deferred.html#unpause"><code>unpause</code></a>()
is called.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.unpause">
    
  </a>
  <a name="unpause">
    
  </a>
  <div class="functionHeader">
    
    def
    unpause(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L355" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Process all callbacks made since <a 
href="twisted.internet.defer.Deferred.html#pause"><code>pause</code></a>() 
was called.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.cancel">
    
  </a>
  <a name="cancel">
    
  </a>
  <div class="functionHeader">
    
    def
    cancel(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L366" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Cancel this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.</p>
<p>If the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> has 
not yet had its <code>errback</code> or <code>callback</code> method 
invoked, call the canceller function provided to the constructor. If that 
function does not invoke <code>callback</code> or <code>errback</code>, or 
if no canceller function was provided, errback with <a 
href="twisted.internet.defer.CancelledError.html"><code>CancelledError</code></a>.</p>
<p>If this <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> is 
waiting on another <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, 
forward the cancellation to the other <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred._continue">
    
  </a>
  <a name="_continue">
    
  </a>
  <div class="functionHeader">
    
    def
    _continue(self, result):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L395" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred._startRunCallbacks">
    
  </a>
  <a name="_startRunCallbacks">
    
  </a>
  <div class="functionHeader">
    
    def
    _startRunCallbacks(self, result):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L400" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred._runCallbacks">
    
  </a>
  <a name="_runCallbacks">
    
  </a>
  <div class="functionHeader">
    
    def
    _runCallbacks(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L427" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.setTimeout">
    
  </a>
  <a name="setTimeout">
    
  </a>
  <div class="functionHeader">
    
    def
    setTimeout(self, seconds, *args, timeoutFunc=timeout, **kw):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L469" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Set a timeout function to be triggered if I am not called.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">seconds</td><td>How long to wait (from now) before firing the <code>timeoutFunc</code>.
</td></tr><tr><td></td><td class="fieldArg">timeoutFunc</td><td>will receive the <a 
href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a> and 
*args, **kw as its arguments.  The default <code>timeoutFunc</code> will 
call the errback with a <a 
href="twisted.internet.defer.TimeoutError.html"><code>TimeoutError</code></a>.
</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.internet.defer.Deferred.__str__">
    
  </a>
  <a name="__str__">
    
  </a>
  <div class="functionHeader">
    
    def
    __str__(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/internet/defer.py#L495" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/trac">Twisted</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2010-07-05 15:03:32.
    </address>

    <!-- Google analytics, obviously. -->
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>
  </body>
</html>