<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.mail.smtp : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="module">t.m.smtp : module documentation</h1>
    <p>
      <span id="part">Part of <a href="twisted.html">twisted</a>.<a href="twisted.mail.html">mail</a></span>
      <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py">View Source</a>
      
    </p>
    <div>
      
    </div>
    <div>Simple Mail Transfer Protocol implementation.<table class="fieldTable"></table></div>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id3200">
  
  
<tr class="interface">
    
    
    <td>Interface</td>
    <td><a href="twisted.mail.smtp.IMessageDelivery.html">IMessageDelivery</a></td>
    <td><span class="undocumented">No interface docstring; 3/3 methods documented</span></td>
  </tr><tr class="interface">
    
    
    <td>Interface</td>
    <td><a href="twisted.mail.smtp.IMessageDeliveryFactory.html">IMessageDeliveryFactory</a></td>
    <td><span>An alternate interface to implement for handling message delivery.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPError.html">SMTPError</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPClientError.html">SMTPClientError</a></td>
    <td><span>Base class for SMTP client errors.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.ESMTPClientError.html">ESMTPClientError</a></td>
    <td><span>Base class for ESMTP client errors.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.EHLORequiredError.html">EHLORequiredError</a></td>
    <td><span>The server does not support EHLO.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.AUTHRequiredError.html">AUTHRequiredError</a></td>
    <td><span>Authentication was required but the server does not support it.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.TLSRequiredError.html">TLSRequiredError</a></td>
    <td><span>Transport security was required but the server does not support it.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.AUTHDeclinedError.html">AUTHDeclinedError</a></td>
    <td><span>The server rejected our credentials.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.AuthenticationError.html">AuthenticationError</a></td>
    <td><span>An error ocurred while authenticating.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.TLSError.html">TLSError</a></td>
    <td><span>An error occurred while negiotiating for transport security.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPConnectError.html">SMTPConnectError</a></td>
    <td><span>Failed to connect to the mail exchange host.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPTimeoutError.html">SMTPTimeoutError</a></td>
    <td><span>Failed to receive a response from the server in the expected time 
period.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPProtocolError.html">SMTPProtocolError</a></td>
    <td><span>The server sent a mangled response.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPDeliveryError.html">SMTPDeliveryError</a></td>
    <td><span>Indicates that a delivery attempt has had an error.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPServerError.html">SMTPServerError</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPAddressError.html">SMTPAddressError</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPBadRcpt.html">SMTPBadRcpt</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPBadSender.html">SMTPBadSender</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#rfc822date">rfc822date</a></td>
    <td><span>Format an RFC-2822 compliant date string.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#idGenerator">idGenerator</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#messageid">messageid</a></td>
    <td><span>Return a globally unique random string in RFC 2822 Message-ID format</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#quoteaddr">quoteaddr</a></td>
    <td><span>Turn an email address, possibly with realname part etc, into</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.AddressError.html">AddressError</a></td>
    <td><span>Parse error in address</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.Address.html">Address</a></td>
    <td><span>Parse and hold an RFC 2821 address.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.User.html">User</a></td>
    <td><span>Hold information about and SMTP message recipient,</span></td>
  </tr><tr class="interface">
    
    
    <td>Interface</td>
    <td><a href="twisted.mail.smtp.IMessage.html">IMessage</a></td>
    <td><span>Interface definition for messages that can be sent via SMTP.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTP.html">SMTP</a></td>
    <td><span>SMTP server-side protocol.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPFactory.html">SMTPFactory</a></td>
    <td><span>Factory for SMTP.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPClient.html">SMTPClient</a></td>
    <td><span>SMTP client for sending emails.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.ESMTPClient.html">ESMTPClient</a></td>
    <td><span class="undocumented">No class docstring; 2/19 methods documented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.ESMTP.html">ESMTP</a></td>
    <td><span class="undocumented">No class docstring; 3/12 methods documented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SenderMixin.html">SenderMixin</a></td>
    <td><span>Utility class for sending emails easily.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPSender.html">SMTPSender</a></td>
    <td><span>SMTP protocol that sends a single email based on information it</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.SMTPSenderFactory.html">SMTPSenderFactory</a></td>
    <td><span>Utility factory for sending emails easily.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.PLAINAuthenticator.html">PLAINAuthenticator</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.ESMTPSender.html">ESMTPSender</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.ESMTPSenderFactory.html">ESMTPSenderFactory</a></td>
    <td><span>Utility factory for sending emails easily.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#sendmail">sendmail</a></td>
    <td><span>Send an email</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#sendEmail">sendEmail</a></td>
    <td><span>Send an email, optionally with attachments.</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#xtext_encode">xtext_encode</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#xtext_decode">xtext_decode</a></td>
    <td><span>Decode the xtext-encoded string <code>s</code> using a fast extension 
function.</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.xtextStreamReader.html">xtextStreamReader</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    
    <td>Class</td>
    <td><a href="twisted.mail.smtp.xtextStreamWriter.html">xtextStreamWriter</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#xtext_codec">xtext_codec</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    
    <td>Function</td>
    <td><a href="twisted.mail.smtp.html#_slowXTextDecode">_slowXTextDecode</a></td>
    <td><span>Decode the xtext-encoded string <code>s</code>.</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="twisted.mail.smtp.rfc822date">
    
  </a>
  <a name="rfc822date">
    
  </a>
  <div class="functionHeader">
    
    def
    rfc822date(timeinfo=None, local=1):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L271" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Format an RFC-2822 compliant date string.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">timeinfo</td><td>(optional) A sequence as returned by <code>time.localtime()</code> or 
<code>time.gmtime()</code>. Default is now.
</td></tr><tr><td></td><td class="fieldArg">local</td><td>(optional) Indicates if the supplied time is local or universal time, or if
no time is given, whether now should be local or universal time. Default is
local, as suggested (SHOULD) by rfc-2822.
</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A string representing the time and date in RFC-2822 format.
</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.idGenerator">
    
  </a>
  <a name="idGenerator">
    
  </a>
  <div class="functionHeader">
    
    def
    idGenerator():
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L310" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.messageid">
    
  </a>
  <a name="messageid">
    
  </a>
  <div class="functionHeader">
    
    def
    messageid(uniq=None, N=idGenerator().next):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L316" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Return a globally unique random string in RFC 2822 Message-ID format</p>
<p>&lt;datetime.pid.random@host.dom.ain&gt;</p>
<p>Optional uniq string will be added to strenghten uniqueness if 
given.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.quoteaddr">
    
  </a>
  <a name="quoteaddr">
    
  </a>
  <div class="functionHeader">
    
    def
    quoteaddr(addr):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L333" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Turn an email address, possibly with realname part etc, into a form 
suitable for and SMTP envelope.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.sendmail">
    
  </a>
  <a name="sendmail">
    
  </a>
  <div class="functionHeader">
    
    def
    sendmail(smtphost, from_addr, to_addrs, msg, senderDomainName=None, port=25):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L1827" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Send an email</p>
<p>This interface is intended to be a direct replacement for 
smtplib.SMTP.sendmail() (with the obvious change that you specify the 
smtphost as well). Also, ESMTP options are not accepted, as we don't do 
ESMTP yet. I reserve the right to implement the ESMTP options 
differently.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">smtphost</td><td>The host the message should be sent to
</td></tr><tr><td></td><td class="fieldArg">from_addr</td><td>The (envelope) address sending this mail.
</td></tr><tr><td></td><td class="fieldArg">to_addrs</td><td>A list of addresses to send this mail to.  A string will be treated as a 
list of one address
</td></tr><tr><td></td><td class="fieldArg">msg</td><td>The message, including headers, either as a file or a string. File-like 
objects need to support read() and close(). Lines must be delimited by 
'\n'. If you pass something that doesn't look like a file, we try to 
convert it to a string (so you should be able to pass an email.Message 
directly, but doing the conversion with email.Generator manually will give 
you more control over the process).
</td></tr><tr><td></td><td class="fieldArg">senderDomainName</td><td>Name by which to identify.  If None, try to pick something sane (but this 
depends on external configuration and may not succeed).
</td></tr><tr><td></td><td class="fieldArg">port</td><td>Remote port to which to connect.
</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>,
its callback will be called if a message is sent to ANY address, the 
errback if no message is sent.
<p>The callback will be called with a tuple (numOk, addresses) where numOk 
is the number of successful recipient addresses and addresses is a list of 
tuples (address, code, resp) giving the response to the RCPT command for 
each address.</p>
 (type: <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>
)</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.sendEmail">
    
  </a>
  <a name="sendEmail">
    
  </a>
  <div class="functionHeader">
    
    def
    sendEmail(smtphost, fromEmail, toEmail, content, headers=None, attachments=None, multipartbody='mixed'):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L1877" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Send an email, optionally with attachments.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">smtphost</td><td>hostname of SMTP server to which to connect
 (type: str
)</td></tr><tr><td></td><td class="fieldArg">fromEmail</td><td>email address to indicate this email is from
 (type: str
)</td></tr><tr><td></td><td class="fieldArg">toEmail</td><td>email address to which to send this email
 (type: str
)</td></tr><tr><td></td><td class="fieldArg">content</td><td>The body if this email.
 (type: str
)</td></tr><tr><td></td><td class="fieldArg">headers</td><td>Dictionary of headers to include in the email
 (type: dict
)</td></tr><tr><td></td><td class="fieldArg">attachments</td><td>Each 3-tuple should consist of the name of the attachment, the mime-type of
the attachment, and a string that is the attachment itself.
 (type: list of 3-tuples
)</td></tr><tr><td></td><td class="fieldArg">multipartbody</td><td>The type of MIME multi-part body.  Generally either &quot;mixed&quot; (as 
in text and images) or &quot;alternative&quot; (html email with a fallback 
to text/plain).
 (type: str
)</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">The returned Deferred has its callback or errback invoked when the mail is 
successfully sent or when an error occurs, respectively.
 (type: Deferred
)</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.xtext_encode">
    
  </a>
  <a name="xtext_encode">
    
  </a>
  <div class="functionHeader">
    
    def
    xtext_encode(s, errors=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L1972" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp._slowXTextDecode">
    
  </a>
  <a name="_slowXTextDecode">
    
  </a>
  <div class="functionHeader">
    
    def
    _slowXTextDecode(s, errors=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L1983" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Decode the xtext-encoded string <code>s</code>.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.xtext_decode">
    
  </a>
  <a name="xtext_decode">
    
  </a>
  <div class="functionHeader">
    
    def
    xtext_decode(s, errors=None):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L2006" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Decode the xtext-encoded string <code>s</code> using a fast extension 
function.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.mail.smtp.xtext_codec">
    
  </a>
  <a name="xtext_codec">
    
  </a>
  <div class="functionHeader">
    
    def
    xtext_codec(name):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-10.1.0/twisted/mail/smtp.py#L2020" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/trac">Twisted</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2010-07-05 15:03:32.
    </address>

    <!-- Google analytics, obviously. -->
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>
  </body>
</html>