<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.words.protocols.msn : API documentation</title>

    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link type="text/css" href="bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="apidocs.css" rel="stylesheet" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="navbar-brand">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div id="current-docs-container" style="display: none" class="container">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code>twisted.words.protocols.msn</code> <small>module documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.words.html" data-type="Package" class="code">words</a>.<a href="twisted.words.protocols.html" data-type="Package" class="code">protocols</a></code>
          <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.3.0/twisted/words/protocols/msn.py">View Source</a>
          
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      <div class="moduleDocstring">
        <div><p>MSNP8 Protocol (client only) - semi-experimental</p>
<p>This module provides support for clients using the MSN Protocol (MSNP8).
There are basically 3 servers involved in any MSN session:</p>
<p><i>Dispatch server</i></p>
<p>The DispatchClient class handles connections to the dispatch server, 
which basically delegates users to a suitable notification server.</p>
<p>You will want to subclass this and handle the gotNotificationReferral 
method appropriately.</p>
<p><i>Notification Server</i></p>
<p>The NotificationClient class handles connections to the notification 
server, which acts as a session server (state updates, message negotiation 
etc...)</p>
<p><i>Switcboard Server</i></p>
<p>The SwitchboardClient handles connections to switchboard servers which 
are used to conduct conversations with other users.</p>
<p>There are also two classes (FileSend and FileReceive) used for file 
transfers.</p>
<p>Clients handle events in two ways.</p>
<ul>
  <li>
    each client request requiring a response will return a Deferred, the 
    callback for same will be fired when the server sends the required 
    response
  </li>
  <li>
    Events which are not in response to any client request have respective 
    methods which should be overridden and handled in an adequate manner
  </li>
</ul>
<p>Most client request callbacks require more than one argument, and since 
Deferreds can only pass the callback one result, most of the time the 
callback argument will be a tuple of values (documented in the respective 
request method). To make reading/writing code easier, callbacks can be 
defined in a number of ways to handle this 'cleanly'. One way would be to 
define methods like: def callBack(self, (arg1, arg2, arg)): ... another way
would be to do something like: d.addCallback(lambda result: 
myCallback(*result)).</p>
<p>If the server sends an error response to a client request, the errback 
of the corresponding Deferred will be called, the argument being the 
corresponding error code.</p>
<p><b>NOTE</b>: Due to the lack of an official spec for MSNP8, extra 
checking than may be deemed necessary often takes place considering the 
server is never 'wrong'. Thus, if gotBadLine (in any of the 3 main clients)
is called, or an MSNProtocolError is raised, it's probably a good idea to 
submit a bug report. ;) Use of this module requires that PyOpenSSL is 
installed.</p>
<h1 class="heading">TODO</h1>
  <ul>
    <li>
      check message hooks with invalid x-msgsinvite messages.
    </li>
    <li>
      font handling
    </li>
    <li>
      switchboard factory
    </li>
  </ul><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Author</td><td colspan="2">Sam Jordan</td></tr></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id3739">
  
  <tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.SSLRequired.html" data-type="Class" class="code">SSLRequired</a></td>
    <td><span>This exception is raised when it is necessary to talk to a passport 
server using SSL, but the necessary SSL dependencies are unavailable.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="twisted.words.protocols.msn.html#checkParamLen" data-type="Function" class="code">checkParamLen</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.PassportNexus.html" data-type="Class" class="code">PassportNexus</a></td>
    <td><span>Used to obtain the URL of a valid passport login HTTPS server.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.PassportLogin.html" data-type="Class" class="code">PassportLogin</a></td>
    <td><span>This class is used internally to obtain a login ticket from a passport 
HTTPS server -- it should not be used directly.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.MSNProtocolError.html" data-type="Class" class="code">MSNProtocolError</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.MSNCommandFailed.html" data-type="Class" class="code">MSNCommandFailed</a></td>
    <td><span>The server said that the command failed.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.MSNMessage.html" data-type="Class" class="code">MSNMessage</a></td>
    <td><span>I am the class used to represent an 'instant' message.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.MSNContact.html" data-type="Class" class="code">MSNContact</a></td>
    <td><span>This class represents a contact (user).</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.MSNContactList.html" data-type="Class" class="code">MSNContactList</a></td>
    <td><span>This class represents a basic MSN contact list.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.MSNEventBase.html" data-type="Class" class="code">MSNEventBase</a></td>
    <td><span>This class provides support for handling / dispatching events and is the
base class of the three main client protocols (DispatchClient, 
NotificationClient, SwitchboardClient)</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.DispatchClient.html" data-type="Class" class="code">DispatchClient</a></td>
    <td><span>This class provides support for clients connecting to the dispatch 
server @ivar userHandle: your user handle (passport) needed before 
connecting.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.NotificationClient.html" data-type="Class" class="code">NotificationClient</a></td>
    <td><span>This class provides support for clients connecting to the notification 
server.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.NotificationFactory.html" data-type="Class" class="code">NotificationFactory</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.SwitchboardClient.html" data-type="Class" class="code">SwitchboardClient</a></td>
    <td><span>This class provides support for clients connecting to a switchboard 
server.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.FileReceive.html" data-type="Class" class="code">FileReceive</a></td>
    <td><span>This class provides support for receiving files from contacts.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><a href="twisted.words.protocols.msn.FileSend.html" data-type="Class" class="code">FileSend</a></td>
    <td><span>This class provides support for sending files to other contacts.</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.words.protocols.msn.html#_parseHeader" data-type="Function" class="code">_parseHeader</a></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.words.protocols.msn.html#_parsePrimitiveHost" data-type="Function" class="code">_parsePrimitiveHost</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="twisted.words.protocols.msn.html#_login" data-type="Function" class="code">_login</a></td>
    <td><span>This function is used internally and should not ever be called 
directly.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  <a name="twisted.words.protocols.msn.checkParamLen">
    
  </a>
  <a name="checkParamLen">
    
  </a>
  <div class="functionHeader">
    
    def
    checkParamLen(num, expected, cmd, error=None):
    <a class="functionSourceLink" href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.3.0/twisted/words/protocols/msn.py#L139">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.words.protocols.msn._parseHeader">
    
  </a>
  <a name="_parseHeader">
    
  </a>
  <div class="functionHeader">
    
    def
    _parseHeader(h, v):
    <a class="functionSourceLink" href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.3.0/twisted/words/protocols/msn.py#L145">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Split a certin number of known header values with the format: 
field1=val,field2=val,field3=val into a dict mapping fields to values.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">h</td><td>the header's key</td></tr><tr><td></td><td class="fieldArg">v</td><td>the header's value as a string</td></tr></table></div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.words.protocols.msn._parsePrimitiveHost">
    
  </a>
  <a name="_parsePrimitiveHost">
    
  </a>
  <div class="functionHeader">
    
    def
    _parsePrimitiveHost(host):
    <a class="functionSourceLink" href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.3.0/twisted/words/protocols/msn.py#L168">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction private">
  
  <a name="twisted.words.protocols.msn._login">
    
  </a>
  <a name="_login">
    
  </a>
  <div class="functionHeader">
    
    def
    _login(userHandle, passwd, nexusServer, cached=0, authData=''):
    <a class="functionSourceLink" href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.3.0/twisted/words/protocols/msn.py#L175">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>This function is used internally and should not ever be called 
directly.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">SSLRequired</td><td>If there is no SSL support available.</td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2015-08-04 16:20:17.
      </address>

    </div>

    <script type="text/javascript" src="pydoctor.js"></script>

    <!-- Google analytics, obviously. -->
    <script type="text/javascript" src="http://www.google-analytics.com/urchin.js"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>