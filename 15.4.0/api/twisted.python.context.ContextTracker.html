<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.python.context.ContextTracker : API documentation</title>

    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link type="text/css" href="bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="apidocs.css" rel="stylesheet" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="navbar-brand">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div id="current-docs-container" style="display: none" class="container">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code>twisted.python.context.ContextTracker</code> <small>class documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.python.html" data-type="Package" class="code">python</a>.<a href="twisted.python.context.html" data-type="Module" class="code">context</a></code>
          <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.4.0/twisted/python/context.py#L23">View Source</a>
          <a href="classIndex.html#twisted.python.context.ContextTracker">(View In Hierarchy)</a>
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      <div class="moduleDocstring">
        <div><p>A <a href="twisted.python.context.ContextTracker.html"><code>ContextTracker</code></a>
provides a way to pass arbitrary key/value data up and down a call stack 
without passing them as parameters to the functions on that call stack.</p>
<p>This can be useful when functions on the top and bottom of the call 
stack need to cooperate but the functions in between them do not allow 
passing the necessary state.  For example:</p>
<pre class="literalblock">
   from twisted.python.context import call, get

   def handleRequest(request):
       call({'request-id': request.id}, renderRequest, request.url)

   def renderRequest(url):
       renderHeader(url)
       renderBody(url)

   def renderHeader(url):
       return "the header"

   def renderBody(url):
       return "the body (request id=%r)" % (get("request-id"),)
</pre>
<p>This should be used sparingly, since the lack of a clear connection 
between the two halves can result in code which is difficult to understand 
and maintain.</p><table class="fieldTable"></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id2607">
  
  <tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.python.context.ContextTracker.html#contexts" data-type="Instance Variable" class="code">contexts</a></td>
    <td>A <code>list</code> of <code>dict</code>s tracking the context state.  Each
new <a href="twisted.python.context.ContextTracker.html#callWithContext"><code>ContextTracker.callWithContext</code></a>
pushes a new <code>dict</code> onto this stack for the duration of the 
call, making the data available to the function called and restoring the 
previous data once it is complete..</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.python.context.ContextTracker.html#__init__" data-type="Method" class="code">__init__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.python.context.ContextTracker.html#callWithContext" data-type="Method" class="code">callWithContext</a></td>
    <td><span>Call <code>func(*args, **kw)</code> such that the contents of 
<code>newContext</code> will be available for it to retrieve using <a href="twisted.python.context.ContextTracker.html#getContext"><code>getContext</code></a>.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.python.context.ContextTracker.html#getContext" data-type="Method" class="code">getContext</a></td>
    <td><span>Retrieve the value for a key from the context.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="baseinstancevariable">
  
  <a name="twisted.python.context.ContextTracker.contexts">
    
  </a>
  <a name="contexts">
    
  </a>
  <div class="functionHeader">
    contexts =
  </div>
  <div class="functionBody">
    A <code>list</code> of <code>dict</code>s tracking the context state.  Each
new <a href="twisted.python.context.ContextTracker.html#callWithContext"><code>ContextTracker.callWithContext</code></a>
pushes a new <code>dict</code> onto this stack for the duration of the 
call, making the data available to the function called and restoring the 
previous data once it is complete..
  </div>
</div><div class="basemethod">
  
  <a name="twisted.python.context.ContextTracker.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self):
    <a class="functionSourceLink" href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.4.0/twisted/python/context.py#L57">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.python.context.ContextTracker.callWithContext">
    
  </a>
  <a name="callWithContext">
    
  </a>
  <div class="functionHeader">
    
    def
    callWithContext(self, newContext, func, *args, **kw):
    <a class="functionSourceLink" href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.4.0/twisted/python/context.py#L61">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Call <code>func(*args, **kw)</code> such that the contents of 
<code>newContext</code> will be available for it to retrieve using <a href="twisted.python.context.ContextTracker.html#getContext"><code>getContext</code></a>.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">newContext</td><td>A <code>dict</code> of data to push onto the context for the duration of 
the call to <code>func</code>.</td></tr><tr><td></td><td class="fieldArg">func</td><td>A callable which will be called.</td></tr><tr><td></td><td class="fieldArg">*args</td><td>Any additional positional arguments to pass to <code>func</code>.</td></tr><tr><td></td><td class="fieldArg">**kw</td><td>Any additional keyword arguments to pass to <code>func</code>.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">Whatever is returned by <code>func</code></td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td colspan="2">Whatever is raised by <code>func</code>.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.python.context.ContextTracker.getContext">
    
  </a>
  <a name="getContext">
    
  </a>
  <div class="functionHeader">
    
    def
    getContext(self, key, default=None):
    <a class="functionSourceLink" href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-15.4.0/twisted/python/context.py#L86">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Retrieve the value for a key from the context.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">key</td><td>The key to look up in the context.</td></tr><tr><td></td><td class="fieldArg">default</td><td>The value to return if <code>key</code> is not found in the context.</td></tr><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">The value most recently remembered in the context for <code>key</code>.</td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2015-09-04 15:29:41.
      </address>

    </div>

    <script type="text/javascript" src="pydoctor.js"></script>

    <!-- Google analytics, obviously. -->
    <script type="text/javascript" src="//www.google-analytics.com/urchin.js"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>