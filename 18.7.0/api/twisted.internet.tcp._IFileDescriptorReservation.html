<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet.tcp._IFileDescriptorReservation : API documentation</title>

    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link rel="stylesheet" href="bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="apidocs.css" type="text/css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="navbar-brand">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div class="container" id="current-docs-container" style="display: none">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="interface private"><code>twisted.internet.tcp._IFileDescriptorReservation(<span title="zope.interface.Interface">Interface</span>)</code> <small>interface documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.internet.html" data-type="Package" class="code">internet</a>.<a href="twisted.internet.tcp.html" data-type="Module" class="code">tcp</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-18.7.0/src/twisted/internet/tcp.py#L898">View Source</a>
          <a href="classIndex.html#twisted.internet.tcp._IFileDescriptorReservation">(View In Hierarchy)</a>
        </span>
      </div>

      <div class="extrasDocstring">
        <p>Known implementations: <a href="twisted.internet.tcp._FileDescriptorReservation.html" data-type="Class" class="code">twisted.internet.tcp._FileDescriptorReservation</a>, <a href="twisted.internet.tcp._NullFileDescriptorReservation.html" data-type="Class" class="code">twisted.internet.tcp._NullFileDescriptorReservation</a></p>
      </div>

      

      <div class="moduleDocstring">
        <div><p>An open file that represents an emergency reservation in the process' 
file descriptor table.  If <a href="twisted.internet.tcp.Port.html"><code>Port</code></a> encounters 
<code>EMFILE</code> on <code>accept(2)</code>, it can close this file 
descriptor, retry the <code>accept</code> so that the incoming connection 
occupies this file descriptor's space, and then close that connection and 
reopen this one.</p>
<p>Calling <a href="twisted.internet.tcp._IFileDescriptorReservation.html#reserve"><code>_IFileDescriptorReservation.reserve</code></a>
attempts to open the reserve file descriptor if it is not already open. <a href="twisted.internet.tcp._IFileDescriptorReservation.html#available"><code>_IFileDescriptorReservation.available</code></a>
returns <a href="http://docs.python.org/library/constants.html#True"><code>True</code></a>
if the underlying file is open and its descriptor claimed.</p>
<p><a href="twisted.internet.tcp._IFileDescriptorReservation.html"><code>_IFileDescriptorReservation</code></a>
instances are context managers; entering them releases the underlying file 
descriptor, while exiting them attempts to reacquire it.  The block can 
take advantage of the free slot in the process' file descriptor table 
accept and close a client connection.</p>
<p>Because another thread might open a file descriptor between the time the
context manager is entered and the time <code>accept</code> is called, 
opening the reserve descriptor is best-effort only.</p><table class="fieldTable"></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1153">
  
  <tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.internet.tcp._IFileDescriptorReservation.html#available" data-type="Method" class="code">available</a></td>
    <td><span>Is the reservation available?</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.internet.tcp._IFileDescriptorReservation.html#reserve" data-type="Method" class="code">reserve</a></td>
    <td><span>Attempt to open the reserved file descriptor; if this fails because of 
<code>EMFILE</code>, internal state is reset so that another reservation 
attempt can be made.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.internet.tcp._IFileDescriptorReservation.html#__enter__" data-type="Method" class="code">__enter__</a></td>
    <td><span>Release the underlying file descriptor so that code within the context 
manager can open a new file.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.internet.tcp._IFileDescriptorReservation.html#__exit__" data-type="Method" class="code">__exit__</a></td>
    <td><span>Attempt to re-open the reserved file descriptor.  See <a href="twisted.internet.tcp._IFileDescriptorReservation.html#reserve"><code>reserve</code></a>
for caveats.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.available">
    
  </a>
  <a name="available">
    
  </a>
  <div class="functionHeader">
    
    def
    available():
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-18.7.0/src/twisted/internet/tcp.py#L923">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Is the reservation available?</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2"><a href="http://docs.python.org/library/constants.html#True"><code>True</code></a>
if the reserved file descriptor is open and can thus be closed to allow a 
new file to be opened in its place; <a href="http://docs.python.org/library/constants.html#False"><code>False</code></a>
if it is not open.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.reserve">
    
  </a>
  <a name="reserve">
    
  </a>
  <div class="functionHeader">
    
    def
    reserve():
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-18.7.0/src/twisted/internet/tcp.py#L933">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Attempt to open the reserved file descriptor; if this fails because of 
<code>EMFILE</code>, internal state is reset so that another reservation 
attempt can be made.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Raises</td><td colspan="2">Any exception except an <a href="http://docs.python.org/library/exceptions.html#exceptions.OSError"><code>OSError</code></a>
or <a href="http://docs.python.org/library/exceptions.html#exceptions.IOError"><code>IOError</code></a>
whose errno is <a href="http://docs.python.org/library/errno.html#errno.EMFILE"><code>EMFILE</code></a>.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.__enter__">
    
  </a>
  <a name="__enter__">
    
  </a>
  <div class="functionHeader">
    
    def
    __enter__():
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-18.7.0/src/twisted/internet/tcp.py#L944">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Release the underlying file descriptor so that code within the context 
manager can open a new file.</p><table class="fieldTable"></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.internet.tcp._IFileDescriptorReservation.__exit__">
    
  </a>
  <a name="__exit__">
    
  </a>
  <div class="functionHeader">
    
    def
    __exit__(excType, excValue, traceback):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-18.7.0/src/twisted/internet/tcp.py#L951">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Attempt to re-open the reserved file descriptor.  See <a href="twisted.internet.tcp._IFileDescriptorReservation.html#reserve"><code>reserve</code></a>
for caveats.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">excType</td><td>See <a href="http://docs.python.org/library/stdtypes.html#object.__exit__"><code>object.__exit__</code></a></td></tr><tr><td></td><td class="fieldArg">excValue</td><td>See <a href="http://docs.python.org/library/stdtypes.html#object.__exit__"><code>object.__exit__</code></a></td></tr><tr><td></td><td class="fieldArg">traceback</td><td>See <a href="http://docs.python.org/library/stdtypes.html#object.__exit__"><code>object.__exit__</code></a></td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2018-07-14 04:53:34.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

    <!-- Google analytics, obviously. -->
    <script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>