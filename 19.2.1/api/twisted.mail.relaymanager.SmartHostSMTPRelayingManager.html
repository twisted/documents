<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.mail.relaymanager.SmartHostSMTPRelayingManager : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" href="bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="apidocs.css" type="text/css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div id="current-docs-container" class="container" style="display: none">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code>twisted.mail.relaymanager.SmartHostSMTPRelayingManager</code> <small>class documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.mail.html" data-type="Package" class="code">mail</a>.<a href="twisted.mail.relaymanager.html" data-type="Module" class="code">relaymanager</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L647">View Source</a>
          <a href="classIndex.html#twisted.mail.relaymanager.SmartHostSMTPRelayingManager">(View In Hierarchy)</a>
        </span>
      </div>

      <div class="extrasDocstring">
        <p>Known subclasses: <a href="twisted.mail.relaymanager.SmartHostESMTPRelayingManager.html" data-type="Class" class="code">twisted.mail.relaymanager.SmartHostESMTPRelayingManager</a></p>
      </div>

      

      <div class="moduleDocstring">
        <div><p>A smart host which uses SMTP managed relayers to send messages from the 
relay queue.</p>
<p><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#checkState"><code>checkState</code></a>
must be called periodically at which time the state of the relay queue is 
checked and new relayers are created as needed.</p>
<p>In order to relay a set of messages to a mail exchange server, a smart 
host creates an attempt manager and a managed relayer factory for that set 
of messages.  When a connection is made with the mail exchange server, the 
managed relayer factory creates a managed relayer to send the messages. The
managed relayer reports on its progress to the attempt manager which, in 
turn, updates the smart host's relay queue and information about its 
managed relayers.</p><table class="fieldTable"></table></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1513">
  
  <tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#queue" data-type="Instance Variable" class="code">queue</a></td>
    <td>See <a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__init__"><code>__init__</code></a>.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#maxConnections" data-type="Instance Variable" class="code">maxConnections</a></td>
    <td>See <a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__init__"><code>__init__</code></a>.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#maxMessagesPerConnection" data-type="Instance Variable" class="code">maxMessagesPerConnection</a></td>
    <td>See <a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__init__"><code>__init__</code></a>.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#fArgs" data-type="Instance Variable" class="code">fArgs</a></td>
    <td>Positional arguments for <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html#__init__"><code>SMTPManagedRelayerFactory.__init__</code></a>. (type: 3-<a href="http://docs.python.org/library/stdtypes.html#tuple"><code>tuple</code></a>
of (0) <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a>
of <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>,
(1) <a href="twisted.mail.relaymanager._AttemptManager.html"><code>_AttemptManager</code></a>,
(2) <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>
or 4-<a href="http://docs.python.org/library/stdtypes.html#tuple"><code>tuple</code></a>
of (0) <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a>
of <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>,
(1) <a href="twisted.mail.relaymanager._AttemptManager.html"><code>_AttemptManager</code></a>,
(2) <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>,
(3) <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#fKwArgs" data-type="Instance Variable" class="code">fKwArgs</a></td>
    <td>Keyword arguments for <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html#__init__"><code>SMTPManagedRelayerFactory.__init__</code></a>. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>)</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#factory" data-type="Instance Variable" class="code">factory</a></td>
    <td>A callable which creates a factory for creating a managed relayer. See <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html#__init__"><code>SMTPManagedRelayerFactory.__init__</code></a>
for parameters to the callable. (type: callable which returns <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html"><code>SMTPManagedRelayerFactory</code></a>)</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#PORT" data-type="Instance Variable" class="code">PORT</a></td>
    <td>The port over which to connect to the SMTP server. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#mxcalc" data-type="Instance Variable" class="code">mxcalc</a></td>
    <td>A resource for mail exchange host lookups. (type: <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>
or <a href="twisted.mail.relaymanager.MXCalculator.html"><code>MXCalculator</code></a>)</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#managed" data-type="Instance Variable" class="code">managed</a></td>
    <td>A mapping of factory for a managed relayer to filenames of messages the 
managed relayer is responsible for. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>
mapping <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html"><code>SMTPManagedRelayerFactory</code></a>
to <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a>
of <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__init__" data-type="Method" class="code">__init__</a></td>
    <td><span>Initialize a smart host.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__getstate__" data-type="Method" class="code">__getstate__</a></td>
    <td><span>Create a representation of the non-volatile state of this object.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__setstate__" data-type="Method" class="code">__setstate__</a></td>
    <td><span>Restore the non-volatile state of this object and recreate the volatile 
state.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#checkState" data-type="Method" class="code">checkState</a></td>
    <td><span>Check the state of the relay queue and, if possible, launch relayers to 
handle waiting messages.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#_checkStateMX" data-type="Method" class="code">_checkStateMX</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#_cbExchange" data-type="Method" class="code">_cbExchange</a></td>
    <td><span>Initiate a connection with a mail exchange server.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#_ebExchange" data-type="Method" class="code">_ebExchange</a></td>
    <td><span>Prepare to resend messages later.</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.queue">
    
  </a>
  <a name="queue">
    
  </a>
  <div class="functionHeader">
    queue =
  </div>
  <div class="functionBody">
    See <a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__init__"><code>__init__</code></a>.
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.maxConnections">
    
  </a>
  <a name="maxConnections">
    
  </a>
  <div class="functionHeader">
    maxConnections =
  </div>
  <div class="functionBody">
    See <a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__init__"><code>__init__</code></a>.
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.maxMessagesPerConnection">
    
  </a>
  <a name="maxMessagesPerConnection">
    
  </a>
  <div class="functionHeader">
    maxMessagesPerConnection =
  </div>
  <div class="functionBody">
    See <a href="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.html#__init__"><code>__init__</code></a>.
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.fArgs">
    
  </a>
  <a name="fArgs">
    
  </a>
  <div class="functionHeader">
    fArgs =
  </div>
  <div class="functionBody">
    Positional arguments for <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html#__init__"><code>SMTPManagedRelayerFactory.__init__</code></a>. (type: 3-<a href="http://docs.python.org/library/stdtypes.html#tuple"><code>tuple</code></a>
of (0) <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a>
of <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>,
(1) <a href="twisted.mail.relaymanager._AttemptManager.html"><code>_AttemptManager</code></a>,
(2) <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>
or 4-<a href="http://docs.python.org/library/stdtypes.html#tuple"><code>tuple</code></a>
of (0) <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a>
of <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>,
(1) <a href="twisted.mail.relaymanager._AttemptManager.html"><code>_AttemptManager</code></a>,
(2) <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>,
(3) <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.fKwArgs">
    
  </a>
  <a name="fKwArgs">
    
  </a>
  <div class="functionHeader">
    fKwArgs =
  </div>
  <div class="functionBody">
    Keyword arguments for <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html#__init__"><code>SMTPManagedRelayerFactory.__init__</code></a>. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>)
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.factory">
    
  </a>
  <a name="factory">
    
  </a>
  <div class="functionHeader">
    factory =
  </div>
  <div class="functionBody">
    A callable which creates a factory for creating a managed relayer. See <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html#__init__"><code>SMTPManagedRelayerFactory.__init__</code></a>
for parameters to the callable. (type: callable which returns <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html"><code>SMTPManagedRelayerFactory</code></a>)
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.PORT">
    
  </a>
  <a name="PORT">
    
  </a>
  <div class="functionHeader">
    PORT =
  </div>
  <div class="functionBody">
    The port over which to connect to the SMTP server. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.mxcalc">
    
  </a>
  <a name="mxcalc">
    
  </a>
  <div class="functionHeader">
    mxcalc =
  </div>
  <div class="functionBody">
    A resource for mail exchange host lookups. (type: <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>
or <a href="twisted.mail.relaymanager.MXCalculator.html"><code>MXCalculator</code></a>)
  </div>
</div><div class="baseinstancevariable">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.managed">
    
  </a>
  <a name="managed">
    
  </a>
  <div class="functionHeader">
    managed =
  </div>
  <div class="functionBody">
    A mapping of factory for a managed relayer to filenames of messages the 
managed relayer is responsible for. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>
mapping <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html"><code>SMTPManagedRelayerFactory</code></a>
to <a href="http://docs.python.org/library/stdtypes.html#list"><code>list</code></a>
of <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)
  </div>
</div><div class="basemethod">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, queue, maxConnections=2, maxMessagesPerConnection=10):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L698">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Initialize a smart host.</p>
<p>The default values specify connection limits appropriate for a 
low-volume smart host.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">queue</td><td>A relay queue. (type: <a href="twisted.mail.relaymanager.Queue.html"><code>Queue</code></a>)</td></tr><tr><td></td><td class="fieldArg">maxConnections</td><td>The maximum number of concurrent connections to SMTP servers. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr><tr><td></td><td class="fieldArg">maxMessagesPerConnection</td><td>The maximum number of messages for which a relayer will be given 
responsibility. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.__getstate__">
    
  </a>
  <a name="__getstate__">
    
  </a>
  <div class="functionHeader">
    
    def
    __getstate__(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L724">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Create a representation of the non-volatile state of this object.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">The non-volatile state of the queue. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>
mapping <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>
to <a href="http://docs.python.org/library/stdtypes.html#object"><code>object</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.__setstate__">
    
  </a>
  <a name="__setstate__">
    
  </a>
  <div class="functionHeader">
    
    def
    __setstate__(self, state):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L736">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Restore the non-volatile state of this object and recreate the volatile 
state.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">state</td><td>The non-volatile state of the queue. (type: <a href="http://docs.python.org/library/stdtypes.html#dict"><code>dict</code></a>
mapping <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>
to <a href="http://docs.python.org/library/stdtypes.html#object"><code>object</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager.checkState">
    
  </a>
  <a name="checkState">
    
  </a>
  <div class="functionHeader">
    
    def
    checkState(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L748">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Check the state of the relay queue and, if possible, launch relayers to 
handle waiting messages.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">No return value if no further messages can be relayed or a deferred which 
fires when all of the SMTP connections initiated by this call have 
disconnected. (type: <a href="http://docs.python.org/library/constants.html#None"><code>None</code></a>
or <a href="twisted.internet.defer.Deferred.html"><code>Deferred</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager._checkStateMX">
    
  </a>
  <a name="_checkStateMX">
    
  </a>
  <div class="functionHeader">
    
    def
    _checkStateMX(self):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L767">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager._cbExchange">
    
  </a>
  <a name="_cbExchange">
    
  </a>
  <div class="functionHeader">
    
    def
    _cbExchange(self, address, port, factory):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L806">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Initiate a connection with a mail exchange server.</p>
<p>This callback function runs after mail exchange server for the domain 
has been looked up.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">address</td><td>The hostname of a mail exchange server. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr><tr><td></td><td class="fieldArg">port</td><td>A port number. (type: <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr><tr><td></td><td class="fieldArg">factory</td><td>A factory which can create a relayer for the mail exchange server. (type: <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html"><code>SMTPManagedRelayerFactory</code></a>)</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  <a name="twisted.mail.relaymanager.SmartHostSMTPRelayingManager._ebExchange">
    
  </a>
  <a name="_ebExchange">
    
  </a>
  <div class="functionHeader">
    
    def
    _ebExchange(self, failure, factory, domain):
    <a class="functionSourceLink" href="https://github.com/twisted/twisted/tree/twisted-19.2.1/src/twisted/mail/relaymanager.py#L827">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Prepare to resend messages later.</p>
<p>This errback function runs when no mail exchange server for the domain 
can be found.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">failure</td><td>The reason the mail exchange lookup failed. (type: <a href="twisted.python.failure.Failure.html"><code>Failure</code></a>)</td></tr><tr><td></td><td class="fieldArg">factory</td><td>A factory which can create a relayer for the mail exchange server. (type: <a href="twisted.mail.relaymanager.SMTPManagedRelayerFactory.html"><code>SMTPManagedRelayerFactory</code></a>)</td></tr><tr><td></td><td class="fieldArg">domain</td><td>A domain. (type: <a href="http://docs.python.org/library/stdtypes.html#bytes"><code>bytes</code></a>)</td></tr></table></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2019-06-07 00:11:44.
      </address>

    </div>

    <script type="text/javascript" src="pydoctor.js"></script>

    <!-- Google analytics, obviously. -->
    <script type="text/javascript" src="//www.google-analytics.com/urchin.js"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>