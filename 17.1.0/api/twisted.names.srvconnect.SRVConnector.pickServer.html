<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.names.srvconnect.SRVConnector.pickServer : API documentation</title>

    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link type="text/css" href="bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="apidocs.css" rel="stylesheet" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="navbar-brand">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div id="current-docs-container" class="container" style="display: none">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="method"><code>twisted.names.srvconnect.SRVConnector.pickServer(self)</code> <small>method documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.names.html" data-type="Package" class="code">names</a>.<a href="twisted.names.srvconnect.html" data-type="Module" class="code">srvconnect</a>.<a href="twisted.names.srvconnect.SRVConnector.html" data-type="Class" class="code">SRVConnector</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-17.1.0/src/twisted/names/srvconnect.py#L154">View Source</a>
          
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      

      <div class="moduleDocstring">
        <div><p>Pick the next server.</p>
<p>This selects the next server from the list of SRV records according to 
their priority and weight values, as set out by the default algorithm 
specified in RFC 2782.</p>
<p>At the beginning of a round, <a href="twisted.names.srvconnect.SRVConnector.html#servers"><code>servers</code></a>
is populated with <a href="twisted.names.srvconnect.SRVConnector.html#orderedServers"><code>orderedServers</code></a>,
and the latter is made empty. <a href="twisted.names.srvconnect.SRVConnector.html#servers"><code>servers</code></a>
is the list of candidates, and <a href="twisted.names.srvconnect.SRVConnector.html#orderedServers"><code>orderedServers</code></a>
is the list of servers that have already been tried.</p>
<p>First, all records are ordered by priority and weight in ascending 
order. Then for each priority level, a running sum is calculated over the 
sorted list of records for that priority. Then a random value between 0 and
the final sum is compared to each record in order. The first record that is
greater than or equal to that random value is chosen and removed from the 
list of candidates for this round.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">A tuple of target hostname and port from the chosen DNS SRV record. (type: <a href="http://docs.python.org/library/stdtypes.html#tuple"><code>tuple</code></a>
of native <a href="http://docs.python.org/library/stdtypes.html#str"><code>str</code></a>
and <a href="http://docs.python.org/library/stdtypes.html#int"><code>int</code></a>)</td></tr></table></div>
      </div>

      <div id="splitTables">
        
        

          
      </div>

      <div id="childList">

        

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2017-02-11 20:06:04.
      </address>

    </div>

    <script type="text/javascript" src="pydoctor.js"></script>

    <!-- Google analytics, obviously. -->
    <script type="text/javascript" src="//www.google-analytics.com/urchin.js"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>