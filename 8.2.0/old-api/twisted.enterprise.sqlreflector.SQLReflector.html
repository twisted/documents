<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;twisted.enterprise.sqlreflector.SQLReflector&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">Class t.e.s.SQLReflector(<a href="twisted.enterprise.reflector.Reflector.html">reflector.Reflector</a>):</h1>
    <p>
      <span id="part">Part of <a href="twisted.html">twisted</a>.<a href="twisted.enterprise.html">enterprise</a>.<a href="twisted.enterprise.sqlreflector.html">sqlreflector</a></span>
      <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L13">View Source</a>
      <a href="classIndex.html#twisted.enterprise.sqlreflector.SQLReflector">View In Hierarchy</a>
    </p>
    <div>
      
    </div>
    <div><p>DEPRECATED.</p>
<p>I reflect on a database and load RowObjects from it.</p>
In order to do this, I interrogate a relational database to extract 
schema information and interface with RowObject class objects that can 
interact with specific tables.
<table class="fieldTable"></table></div>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id1793">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#__init__">__init__</a></td>
    <td><span>Initialize me against a database.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#escape_string">escape_string</a></td>
    <td><span>Escape a string for use in an SQL statement. The default
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#quote_value">quote_value</a></td>
    <td><span>Format a value for use in an SQL statement.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#loadObjectsFrom">loadObjectsFrom</a></td>
    <td><span>Load a set of RowObjects from a database.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#findTypeFor">findTypeFor</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#buildUpdateSQL">buildUpdateSQL</a></td>
    <td><span>(Internal) Build SQL template to update a RowObject.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#buildInsertSQL">buildInsertSQL</a></td>
    <td><span>(Internal) Build SQL template to insert a new row.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#buildDeleteSQL">buildDeleteSQL</a></td>
    <td><span>Build the SQL template to delete a row from the table.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#updateRowSQL">updateRowSQL</a></td>
    <td><span>Build SQL to update the contents of rowObject.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#updateRow">updateRow</a></td>
    <td><span>Update the contents of rowObject to the database.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#insertRowSQL">insertRowSQL</a></td>
    <td><span>Build SQL to insert the contents of rowObject.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#insertRow">insertRow</a></td>
    <td><span>Insert a new row for rowObject.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#deleteRowSQL">deleteRowSQL</a></td>
    <td><span>Build SQL to delete rowObject from the database.
</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#deleteRow">deleteRow</a></td>
    <td><span>Delete the row for rowObject from the database.
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#_populate">_populate</a></td>
    <td><span>Implement me to populate schema information for the reflector.
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#_transPopulateSchema">_transPopulateSchema</a></td>
    <td><span>Used to construct the row classes in a single interaction.
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#_populateSchemaFor">_populateSchemaFor</a></td>
    <td><span>Construct all the SQL templates for database operations on
</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.sqlreflector.SQLReflector.html#_rowLoader">_rowLoader</a></td>
    <td><span>immediate loading of rowobjects from the table with the whereClause.
</span></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="twisted.enterprise.reflector.Reflector.html">Reflector</a>:
        </p>
        <table class="children sortable" id="id1794">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#__getstate__">__getstate__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#__setstate__">__setstate__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#populateSchemaFor">populateSchemaFor</a></td>
    <td><span>This is called once for each registered rowClass to add it
</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#getTableInfo">getTableInfo</a></td>
    <td><span>Get a TableInfo record about a particular instance.
</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#buildWhereClause">buildWhereClause</a></td>
    <td><span>util method used by reflectors. builds a where clause to link a row to 
another table.
</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#addToParent">addToParent</a></td>
    <td><span>util method used by reflectors. adds these rows to the parent row 
object.
</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#addToCache">addToCache</a></td>
    <td><span>NOTE: Should this be recursive?! requires better container 
knowledge...
</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#findInCache">findInCache</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="twisted.enterprise.reflector.Reflector.html#removeFromCache">removeFromCache</a></td>
    <td><span>NOTE: should this be recursive!??
</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, dbpool, rowClasses):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L31" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.enterprise.reflector.Reflector.html#__init__">twisted.enterprise.reflector.Reflector.__init__</a></div>
    <div>Initialize me against a database.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector._populate">
    
  </a>
  <a name="_populate">
    
  </a>
  <div class="functionHeader">
    
    def
    _populate(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L37" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.enterprise.reflector.Reflector.html#_populate">twisted.enterprise.reflector.Reflector._populate</a></div>
    <div>Implement me to populate schema information for the reflector.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector._transPopulateSchema">
    
  </a>
  <a name="_transPopulateSchema">
    
  </a>
  <div class="functionHeader">
    
    def
    _transPopulateSchema(self):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L40" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Used to construct the row classes in a single interaction.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector._populateSchemaFor">
    
  </a>
  <a name="_populateSchemaFor">
    
  </a>
  <div class="functionHeader">
    
    def
    _populateSchemaFor(self, rc):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L50" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Construct all the SQL templates for database operations on 
&lt;tableName&gt; and populate the class &lt;rowClass&gt; with that 
info.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.escape_string">
    
  </a>
  <a name="escape_string">
    
  </a>
  <div class="functionHeader">
    
    def
    escape_string(self, text):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L65" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Escape a string for use in an SQL statement. The default implementation 
escapes ' with '' and \ with \. Redefine this function in a subclass if 
your database server uses different escaping rules.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.quote_value">
    
  </a>
  <a name="quote_value">
    
  </a>
  <div class="functionHeader">
    
    def
    quote_value(self, value, type):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L73" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Format a value for use in an SQL statement.
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Parameters</td><td class="fieldArg">value</td><td>a value to format as data in SQL.
</td></tr><tr><td></td><td class="fieldArg">type</td><td>a key in util.dbTypeMap.
</td></tr></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.loadObjectsFrom">
    
  </a>
  <a name="loadObjectsFrom">
    
  </a>
  <div class="functionHeader">
    
    def
    loadObjectsFrom(self, tableName, parentRow=None, data=None, whereClause=None, forceChildren=0):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L81" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.enterprise.reflector.Reflector.html#loadObjectsFrom">twisted.enterprise.reflector.Reflector.loadObjectsFrom</a></div>
    <div><p>Load a set of RowObjects from a database.</p>
Create a set of python objects of &lt;rowClass&gt; from the contents of 
a table populated with appropriate data members. Example:
<pre class="literalblock">
 |  class EmployeeRow(row.RowObject):
 |      pass
 |
 |  def gotEmployees(employees):
 |      for emp in employees:
 |          emp.manager = &quot;fred smith&quot;
 |          manager.updateRow(emp)
 |
 |  reflector.loadObjectsFrom(&quot;employee&quot;,
 |                          data = userData,
 |                          whereClause = [(&quot;manager&quot; , EQUAL, &quot;fred smith&quot;)]
 |                          ).addCallback(gotEmployees)
</pre>
NOTE: the objects and all children should be loaded in a single 
transaction. NOTE: can specify a parentRow _OR_ a whereClause.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector._rowLoader">
    
  </a>
  <a name="_rowLoader">
    
  </a>
  <div class="functionHeader">
    
    def
    _rowLoader(self, transaction, tableName, parentRow, data, whereClause, forceChildren):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L120" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>immediate loading of rowobjects from the table with the whereClause.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.findTypeFor">
    
  </a>
  <a name="findTypeFor">
    
  </a>
  <div class="functionHeader">
    
    def
    findTypeFor(self, tableName, columnName):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L191" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.buildUpdateSQL">
    
  </a>
  <a name="buildUpdateSQL">
    
  </a>
  <div class="functionHeader">
    
    def
    buildUpdateSQL(self, tableInfo):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L198" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>(Internal) Build SQL template to update a RowObject.</p>
Returns: SQL that is used to contruct a rowObject class.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.buildInsertSQL">
    
  </a>
  <a name="buildInsertSQL">
    
  </a>
  <div class="functionHeader">
    
    def
    buildInsertSQL(self, tableInfo):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L224" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>(Internal) Build SQL template to insert a new row.</p>
Returns: SQL that is used to insert a new row for a rowObject instance 
not created from the database.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.buildDeleteSQL">
    
  </a>
  <a name="buildDeleteSQL">
    
  </a>
  <div class="functionHeader">
    
    def
    buildDeleteSQL(self, tableInfo):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L252" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Build the SQL template to delete a row from the table.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.updateRowSQL">
    
  </a>
  <a name="updateRowSQL">
    
  </a>
  <div class="functionHeader">
    
    def
    updateRowSQL(self, rowObject):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L266" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Build SQL to update the contents of rowObject.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.updateRow">
    
  </a>
  <a name="updateRow">
    
  </a>
  <div class="functionHeader">
    
    def
    updateRow(self, rowObject):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L283" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.enterprise.reflector.Reflector.html#updateRow">twisted.enterprise.reflector.Reflector.updateRow</a></div>
    <div>Update the contents of rowObject to the database.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.insertRowSQL">
    
  </a>
  <a name="insertRowSQL">
    
  </a>
  <div class="functionHeader">
    
    def
    insertRowSQL(self, rowObject):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L290" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Build SQL to insert the contents of rowObject.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.insertRow">
    
  </a>
  <a name="insertRow">
    
  </a>
  <div class="functionHeader">
    
    def
    insertRow(self, rowObject):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L300" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.enterprise.reflector.Reflector.html#insertRow">twisted.enterprise.reflector.Reflector.insertRow</a></div>
    <div>Insert a new row for rowObject.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.deleteRowSQL">
    
  </a>
  <a name="deleteRowSQL">
    
  </a>
  <div class="functionHeader">
    
    def
    deleteRowSQL(self, rowObject):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L307" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Build SQL to delete rowObject from the database.
<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="twisted.enterprise.sqlreflector.SQLReflector.deleteRow">
    
  </a>
  <a name="deleteRow">
    
  </a>
  <div class="functionHeader">
    
    def
    deleteRow(self, rowObject):
    <a href="http://twistedmatrix.com/trac/browser/tags/releases/twisted-8.2.0/twisted/enterprise/sqlreflector.py#L319" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="twisted.enterprise.reflector.Reflector.html#deleteRow">twisted.enterprise.reflector.Reflector.deleteRow</a></div>
    <div>Delete the row for rowObject from the database.
<table class="fieldTable"></table></div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/trac">Twisted</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2009-01-01 15:43:32.
    </address>
  </body>
</html>