<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>twisted.internet.ssl.platformTrust : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            Twisted API Documentation
          </a>
        </div>
      </div>
    </nav>

   <div style="display: none" id="current-docs-container" class="container">
      <div class="col-sm-12">
        <a id="current-docs-link">
          Go to the latest version of this document.
        </a>
      </div>
    </div>

    <div id="showPrivate">
      <button onclick="togglePrivate()" class="btn btn-link">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="function"><code>twisted.internet.ssl.platformTrust()</code> <small>function documentation</small></h1>

        <span id="partOf">
          Part of <code><a href="twisted.html" data-type="Package" class="code">twisted</a>.<a href="twisted.internet.html" data-type="Package" class="code">internet</a>.<a href="twisted.internet.ssl.html" data-type="Module" class="code">ssl</a></code>
          <a href="https://github.com/twisted/twisted/tree/twisted-16.4.0/twisted/internet/_sslverify.py#L1055">View Source</a>
          
        </span>
      </div>

      <div class="extrasDocstring">
        
      </div>

      

      <div class="moduleDocstring">
        <div><p>Attempt to discover a set of trusted certificate authority certificates 
(or, in other words: trust roots, or root certificates) whose trust is 
managed and updated by tools outside of Twisted.</p>
<p>If you are writing any client-side TLS code with Twisted, you should use
this as the <code>trustRoot</code> argument to <a href="twisted.internet.ssl.CertificateOptions.html"><code>CertificateOptions</code></a>.</p>
<p>The result of this function should be like the up-to-date list of 
certificates in a web browser.  When developing code that uses 
<code>platformTrust</code>, you can think of it that way.  However, the 
choice of which certificate authorities to trust is never Twisted's 
responsibility. Unless you're writing a very unusual application or 
library, it's not your code's responsibility either.  The user may use 
platform-specific tools for defining which server certificates should be 
trusted by programs using TLS. The purpose of using this API is to respect 
that decision as much as possible.</p>
<p>This should be a set of trust settings most appropriate for 
<i>client</i> TLS connections; i.e. those which need to verify a server's 
authenticity.  You should probably use this by default for any client TLS 
connection that you create.  For servers, however, client certificates are 
typically not verified; or, if they are, their verification will depend on 
a custom, application-specific certificate authority.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName">Returns</td><td colspan="2">an appropriate trust settings object for your platform. (type: <a href="twisted.internet._sslverify.IOpenSSLTrustRoot.html"><code>IOpenSSLTrustRoot</code></a>)</td></tr><tr class="fieldStart"><td class="fieldName">Raises</td><td class="fieldArg">NotImplementedError</td><td>if this platform is not yet supported by Twisted.  At present, only OpenSSL
is supported.</td></tr><tr class="fieldStart"><td class="fieldName">Present Since</td><td colspan="2">14.0</td></tr><tr class="fieldStart"><td class="fieldName">Note</td><td colspan="2">Currently, <a href="twisted.internet.ssl.html#platformTrust"><code>platformTrust</code></a>
depends entirely upon your OpenSSL build supporting a set of "<a href="twisted.internet.ssl.OpenSSLDefaultPaths.html"><code>default verify 
paths</code></a>" which correspond to certificate authority trust 
roots.  Unfortunately, whether this is true of your system is both outside 
of Twisted's control and difficult (if not impossible) for Twisted to 
detect automatically.
<p>Nevertheless, this ought to work as desired by default on:</p>
<ul>
  <li>
    Ubuntu Linux machines with the <a target="_top" href="https://launchpad.net/ubuntu/+source/ca-certificates">ca-certificates</a> package installed,
  </li>
  <li>
    Mac OS X when using the system-installed version of OpenSSL (i.e. 
    <i>not</i> one installed via MacPorts or Homebrew),
  </li>
  <li>
    any build of OpenSSL which has had certificate authority certificates 
    installed into its default verify paths (by default, 
    <code>/usr/local/ssl/certs</code> if you've built your own OpenSSL), or
  </li>
  <li>
    any process where the <code>SSL_CERT_FILE</code> environment variable 
    is set to the path of a file containing your desired CA certificates 
    bundle.
  </li>
</ul>
<p>Hopefully soon, this API will be updated to use more sophisticated 
trust-root discovery mechanisms.  Until then, you can follow tickets in the
Twisted tracker for progress on this implementation on <a target="_top" href="https://twistedmatrix.com/trac/ticket/6371">Microsoft 
Windows</a>, <a target="_top" href="https://twistedmatrix.com/trac/ticket/6372">Mac OS X</a>, and <a target="_top" href="https://twistedmatrix.com/trac/ticket/6934">a fallback 
for other platforms which do not have native trust management 
tools</a>.</p></td></tr></table></div>
      </div>

      <div id="splitTables">
        
        

          
      </div>

      <div id="childList">

        

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="http://twistedmatrix.com/">Twisted</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> at 2016-08-28 08:46:05.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

    <!-- Google analytics, obviously. -->
    <script src="//www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-99018-6";
      urchinTracker();
    </script>

    <!-- If the documentation isn't current, insert a current link. -->
    <script type="text/javascript">
      if (window.location.pathname.indexOf('/current/') == -1) {
        <!-- Give the user a link to this page, but in the current version of the docs. -->
        var link = document.getElementById('current-docs-link');
        link.href = window.location.pathname.replace(/\/\d+\.\d+\.\d+\/api\//, '/current/api/');
        <!-- And make it visible -->
        var container = document.getElementById('current-docs-container');
        container.style.display = "";
        delete link;
        delete container;
      }
    </script>

  </body>
</html>